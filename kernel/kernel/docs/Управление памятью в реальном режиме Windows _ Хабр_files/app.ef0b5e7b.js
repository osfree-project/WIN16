(()=>{var __webpack_modules__={44897:e=>{e.exports={attachStacktrace:!0,maxBreadcrumbs:20,sampleRate:.1,ignoreErrors:["ResponseError","TypeError: null is not an object (evaluating 'd.frameElement')","Can't find variable: pktAnnotationHighlighter","ReferenceError: Can't find variable: article","top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","Script error.","NS_ERROR_UNEXPECTED","SyntaxError: illegal character U+009E"],denyUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i]}},15377:e=>{e.exports.en={SETTINGS_AGREEMENT_FINISH:"The end",SETTINGS_ACTION_SAVE:"Save preferences",SETTINGS_ARTICLES_ERROR:"You should select at least one language",SETTINGS_ARTICLES_TITLE:"Content",SETTINGS_FEED:"Feed",SETTINGS_FEED_CLASSIC:"Classic",SETTINGS_FEED_COMPACT:"Compact",SETTINGS_EMAIL_LABEL:"I want to receive emails on Habr updates (monthly)",SETTINGS_WELCOME_LABEL:"I want to take an introduction course: 6 emails, how things work on Habr",SETTINGS_DIGEST_LABEL:"How often do you want to receive a newsletter with the most interesting from the hubs you are subscribed to?",SETTINGS_FL_LANG_ENGLISH:"English",SETTINGS_FL_LANG_RUSSIAN:"Russian",SETTINGS_LANG_ENGLISH:"English",SETTINGS_LANG_RUSSIAN:"Русский",SETTINGS_RULES:"site rules",SETTINGS_TITLE:"Page settings",SETTINGS_UI_TITLE:"Interface",SETTINGS_SUCCESS:"Settings were updated successfully",SETTINGS:"Settings",SETTINGS_PROFILE:"Profile settings",SETTINGS_PROFILE_TITLE:"Profile",SETTINGS_SPECS:"Specialization settings",SETTINGS_SPECS_TITLE:"Specialization",SETTINGS_SKILLS_PLACEHOLDER:"Enter skill",SETTINGS_SKILLS_TITLE:"Skills",SETTINGS_SKILLS_HINT:"Select up to ten of your skills and rank them in descending order of importance.",SETTINGS_SPECS_HINT:"Select your specialization.",SETTINGS_SPECS_QUALIFICATION_TITLE:"Qualification",SETTINGS_SPECS_QUALIFICATION_NOT_SELECTED:"Not specified",SETTINGS_SPECS_OTHER_PLACEHOLDER:"Specialization title",SETTINGS_SPECS_OCCUPATION:"Occupation",SETTINGS_SPECS_SUM:"Sum",SETTINGS_SPECS_SALARY:"Desired salary",SETTINGS_SPECS_SALARY_HINT:"Indicate here how much you would like to earn.",SETTINGS_PROFILE_UPGRADE_TITLE:"Upgrade",SETTINGS_PRIVACY_TITLE:"Privacy",SETTINGS_NOTIFICATIONS_TITLE:"Notifications",SETTINGS_APPS_INSTALLED_TITLE:"Installed applications",SETTINGS_APPS_TITLE:"Applications",SETTINGS_APPS_MY_TITLE:"My applications",SETTINGS_APPS_REMOVE:"Remove",SETTINGS_APPS_EDIT:"Edit",SETTINGS_APPS_EMPTY:"You have no applications yet",SETTINGS_APPS_ADD:"Add new application",SETTINGS_APP_EDIT_TITLE:"Edit application",SETTINGS_APP_ADD_TITLE:"Add new application",SETTINGS_APP_IMAGE:"Icon",SETTINGS_APP_TITLE:"Application name",SETTINGS_APP_TITLE_HINT:"Enter application name",SETTINGS_APP_REDIRECT:"Redirect URL",SETTINGS_APP_REDIRECT_HINT:"Specify the URL for the redirect after authorization",SETTINGS_APP_ABOUT_HINT:"Describe your application",SETTINGS_APP_ABOUT:"Short description",SETTINGS_APP_TYPE:"Application type",SETTINGS_APP_TYPE_WEB:"Web application",SETTINGS_APP_TYPE_MOBILE:"Mobile application",SETTINGS_APP_TYPE_BROWSER:"Browser application",SETTINGS_APP_SCOPE:"Access permissions",SETTINGS_APP_READ:"Read only",SETTINGS_APP_READ_BOOKMARK:"Read only + bookmarks",SETTINGS_APP_ALL_RIGHTS:"Full access",SETTINGS_APP_EXTENDED:"Extended rights",SETTINGS_APP_COMPANY_NAME:"Company name",SETTINGS_APP_COMPANY_NAME_HINT:"Enter the developer company name",SETTINGS_APP_COMPANY_URL:"Company’s website",SETTINGS_APP_COMPANY_URL_HINT:"Enter the devepoler company’s website",SETTINGS_APP_TYPE_CHOOSE:"Select type",SETTINGS_APP_SCOPE_CHOOSE:"Select access permissions",SETTINGS_APP_RESET_CLIENT_ID:"Reset Client ID & Client Secret",SETTINGS_APP_RESET_API_KEY:"Reset API Key",SETTINGS_APP_RESET_HINT:"After the reset, all your applications will stop working until you update the settings",SETTINGS_ACCOUNT_TITLE:"Account",SETTINGS_MISC_TITLE:"Other",SETTINGS_PROFILE_AVATAR:"Avatar",SETTINGS_PROFILE_AVATAR_HINT:"Format: jpg, gif, png. '<br/>' Maximal size: 1 MB. '<br/>' Resolution: up to 96x96px.",SETTINGS_PROFILE_REALNAME:"Actual name",SETTINGS_PROFILE_REALNAME_HINT:"Specify your first and last name so that other users can find out what your name is",SETTINGS_PROFILE_WORKPLACE:"Workplace",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER:"Link with the company will be removed after saving the changes.",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER_ACTION:"Restore",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER:"Contact link will be removed after saving the changes.",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER_ACTION:"Restore",SETTINGS_PROFILE_SPECIALITY:"Describe yourself",SETTINGS_PROFILE_SPECIALITY_HINT:"Specify your specialization. For example: Database Administrator",SETTINGS_PROFILE_GENDER:"Gender",SETTINGS_PROFILE_GENDER_NOT_SPECIFIED:"Not specified",SETTINGS_PROFILE_GENDER_MALE:"Male",SETTINGS_PROFILE_GENDER_FEMALE:"Female",SETTINGS_PROFILE_BIRTH_DATE:"Birth date",SETTINGS_PROFILE_BIRTH_DAY:"Day",SETTINGS_PROFILE_BIRTH_MONTH:"Month",SETTINGS_PROFILE_BIRTH_YEAR:"Year",SETTINGS_PROFILE_LOCATION:"Location",SETTINGS_PROFILE_COUNTRY:"Country",SETTINGS_PROFILE_REGION:"Region",SETTINGS_PROFILE_CITY:"City",SETTINGS_PROFILE_CONTACTS:"Contacts and social media",SETTINGS_PROFILE_CONTACTS_HINT:"Specify the username or ID and we will create the link ourselves. If you want the link to be shown in the authors information panel, select it by clicking on the icon on the right.",SETTINGS_PROFILE_CONTACTS_ADD:"Add link",SETTINGS_PROFILE_YANDEX_MONEY:"YooMoney",SETTINGS_PROFILE_YANDEX_MONEY_HINT:"Wallet number 11-20 digits",SETTINGS_PROFILE_PAYPAL:"PayPal.Me",SETTINGS_PROFILE_PAYPAL_HINT:"PayPal.Me identificator. 3 to 20 digits and/or English letters",SETTINGS_PROFILE_WEBMONEY:"Webmoney",SETTINGS_PROFILE_WEBMONEY_HINT:"Wallet number. 12 digits",SETTINGS_PROFILE_SERVICES:"Services",SETTINGS_PROFILE_WALLETS:"Wallets",SETTINGS_PROFILE_DONATIONS:"Donations",SETTINGS_PROFILE_DONATIONS_RADIO_TITLE:"Accept donations via",SETTINGS_PROFILE_WALLETS_NAMES:"YooMoney, PayPal.Me, Webmoney",SETTINGS_PROFILE_ABOUT:"Tell us about yourself",SETTINGS_PROFILE_ABOUT_HINT:"No more than 6 500 characters",SETTINGS_PROFILE_SUBMIT:"Save changes",SETTINGS_PROFILE_SHOW_CONTACTS:"Who can see your websites and social networking accounts",SETTINGS_PROFILE_TO_EVERYONE:"everyone",SETTINGS_PROFILE_TO_FOLLOWING:"only those you are following",SETTINGS_PROFILE_INBOX_ACCESS:"Who can send you direct messages",SETTINGS_PROFILE_FROM_EVERYONE:"everyone",SETTINGS_PROFILE_FROM_FOLLOWERS:"only those you are following",SETTINGS_PROFILE_SHOW_ACTIVITY:"Who can track your activity on Habr (via notifications)",SETTINGS_PROFILE_NOBODY:"nobody",SETTINGS_PROFILE_TO_FOLLOWERS:"only those who following you",SETTINGS_PROFILE_PAYMENTS_INFO:"Specify the details of your wallets to receive donations from other users. Depending on the chosen method of receiving donations, users will see the corresponding links.",SETTINGS_NOTIFICATIONS_NEW_COMMENTS:"Notifications about new comments",SETTINGS_NOTIFICATIONS_TO_MY_POSTS:"To my publications",SETTINGS_NOTIFICATIONS_TO_POSTS_WITH_COMMENTS:"To publications I left comments to",SETTINGS_NOTIFICATIONS_TO_BOOKMARKED_POSTS:"To publications I have bookmarked",SETTINGS_NOTIFICATIONS_TRACKER:"Tracker",SETTINGS_NOTIFICATIONS_EMAIL:"Email",SETTINGS_NOTIFICATIONS_SEND_ME_EMAILS:"Send me emails",SETTINGS_NOTIFICATIONS_NEWS:"About Habr news",SETTINGS_NOTIFICATIONS_NEW_EXPERIENCE:"About new opportunities for me on Habr",SETTINGS_NOTIFICATIONS_NEW_MESSAGES:"About new messages in conversations",SETTINGS_NOTIFICATIONS_NEW_COMMENTS_REPLY:"About new replies to my comments",SETTINGS_NOTIFICATIONS_NEW_MENTION:"When I’m mentioned in publications and comments",SETTINGS_NOTIFICATIONS_NEW_FOLLOWER:"When new subscriber added",SETTINGS_NOTIFICATIONS_ARTICLE_STATISTICS:"Statistics of my article",SETTINGS_NOTIFICATIONS_ARTICLE_TOP_STATISTICS:"My article made it to the top",SETTINGS_NOTIFICATIONS_TRACKER_SETTINGS:"Tracker settings",SETTINGS_NOTIFICATIONS_FOLLOWERS_BOOKMARKS:"Show followers bookmarks in tracker",SETTINGS_NOTIFICATIONS_STATISTICS:"Notify about my publications statistics",SETTINGS_NOTIFICATIONS_DIGEST:"How often do you want to receive a newsletter with the most interesting from the hubs you are subscribed to?",SETTINGS_NOTIFICATIONS_DIGEST_NEVER:"Never",SETTINGS_NOTIFICATIONS_DIGEST_DAY:"Every day",SETTINGS_NOTIFICATIONS_DIGEST_WEEK:"Weekly",SETTINGS_NOTIFICATIONS_DIGEST_MONTH:"Monthly",SETTINGS_MISC_INTERACTIONS:"Interaction",SETTINGS_MISC_REFRESH_PANEL:"Show comments update panel",SETTINGS_MISC_HOTKEYS:"Use hotkeys ('<a href=\"/docs/help/hotkeys/\">'list'</a>')",SETTINGS_MISC_DISABLE_ADS:"Disable ads",SETTINGS_MISC_YES_IT_WOULD_BE_NICE:"Yes, that would be great!",SETTINGS_READONLY_UPGRADE:"If you have an invitation code, enter it in a field below to get all the features of the full account.",SETTINGS_INVITE_CODE:"Invitation code",SETTINGS_INVITE_RECALLED:"The invitation was recalled",SETTINGS_INVITE_APPLIED:"Invitation was applied",SETTINGS_INVITE_ALREADY_USED:"The invitation has already been used",SETTINGS_INVITE_USER_ALREADY_FULL:"You are already full-fledged user of Habr, so you can't use invitations",SETTINGS_COLOR_THEME:"View options",SETTINGS_DARK:"Dark",SETTINGS_LIGHT:"Light",SETTINGS_SYSTEM:"System",SETTINGS_SHOW_PROFILES_TITLE:"Habr Career and Expert profiles",SETTINGS_SHOW_PROFILES_CHECKBOX_LABEL:"Show link to my profile on Habr Career"},e.exports.ru={SETTINGS_AGREEMENT_FINISH:"Завершить настройку",SETTINGS_ACTION_SAVE:"Сохранить настройки",SETTINGS_ARTICLES_ERROR:"Должен быть выбран хотя бы один язык",SETTINGS_ARTICLES_TITLE:"Публикации",SETTINGS_FEED:"Вид ленты",SETTINGS_FEED_CLASSIC:"Классический",SETTINGS_FEED_COMPACT:"Компактный",SETTINGS_EMAIL_LABEL:"Хочу получать письма об изменениях на сайте (не чаще раза в месяц)",SETTINGS_WELCOME_LABEL:"Хочу пройти вводный курс: 6 писем, как все устроено на Хабре",SETTINGS_DIGEST_LABEL:"Дайджест о самом интересном по вашим хабам",SETTINGS_FL_LANG_ENGLISH:"Английский",SETTINGS_FL_LANG_RUSSIAN:"Русский",SETTINGS_LANG_ENGLISH:"English",SETTINGS_LANG_RUSSIAN:"Русский",SETTINGS_RULES:"правила сайта",SETTINGS_TITLE:"Настройки страницы",SETTINGS:"Настройки",SETTINGS_PROFILE:"Настройки профиля",SETTINGS_SPECS:"настройки специалиазции",SETTINGS_SPECS_TITLE:"Специализация",SETTINGS_SKILLS_TITLE:"Профессиональные навыки",SETTINGS_SKILLS_HINT:"Выберите до десяти своих профессиональных навыков и расставьте в порядке убывания их важности.",SETTINGS_SKILLS_PLACEHOLDER:"Введите навык",SETTINGS_SPECS_HINT:"Выберите вашу специализацию.",SETTINGS_SPECS_OCCUPATION:"Профессия",SETTINGS_SPECS_QUALIFICATION_TITLE:"Квалификация",SETTINGS_SPECS_QUALIFICATION_NOT_SELECTED:"Не указана",SETTINGS_SPECS_SUM:"Сумма",SETTINGS_SPECS_SALARY:"Желаемая зарплата",SETTINGS_SPECS_SALARY_HINT:"Укажите здесь, сколько вы хотели бы зарабатывать.",SETTINGS_SPECS_OTHER_PLACEHOLDER:"Название специализации",SETTINGS_UI_TITLE:"Интерфейс",SETTINGS_SUCCESS:"Настройки обновлены успешно",SETTINGS_PROFILE_TITLE:"Профиль",SETTINGS_PROFILE_UPGRADE_TITLE:"Апгрейд",SETTINGS_PRIVACY_TITLE:"Приватность",SETTINGS_NOTIFICATIONS_TITLE:"Уведомления",SETTINGS_APPS_INSTALLED_TITLE:"Установленные приложения",SETTINGS_APPS_TITLE:"Приложения",SETTINGS_APPS_MY_TITLE:"Мои приложения",SETTINGS_APPS_REMOVE:"Удалить",SETTINGS_APPS_EDIT:"Редактировать",SETTINGS_APPS_EMPTY:"У вас пока нет приложений",SETTINGS_APPS_ADD:"Добавить приложение",SETTINGS_APP_EDIT_TITLE:"Редактирование приложения",SETTINGS_APP_ADD_TITLE:"Создание приложения",SETTINGS_APP_RESET_CLIENT_ID:"Сбросить Client ID и Client Secret",SETTINGS_APP_RESET_API_KEY:"Сбросить API Key",SETTINGS_APP_RESET_HINT:"Сброс Client ID и Client Secret — это исключительный механизм, который не стоит запускать без необходимости",SETTINGS_APP_IMAGE:"Иконка",SETTINGS_APP_TITLE:"Название",SETTINGS_APP_TITLE_HINT:"Укажите название приложения",SETTINGS_APP_REDIRECT:"Redirect URL",SETTINGS_APP_REDIRECT_HINT:"Укажите url для редиректа после авторизации",SETTINGS_APP_ABOUT_HINT:"Опишите ваше приложение",SETTINGS_APP_ABOUT:"Краткое описание",SETTINGS_APP_TYPE:"Тип",SETTINGS_APP_TYPE_WEB:"Веб приложение",SETTINGS_APP_TYPE_MOBILE:"Мобильное приложение",SETTINGS_APP_TYPE_BROWSER:"Браузерное приложение",SETTINGS_APP_SCOPE:"Права",SETTINGS_APP_READ:"Только чтение",SETTINGS_APP_READ_BOOKMARK:"Только чтение + закладки",SETTINGS_APP_ALL_RIGHTS:"Все права",SETTINGS_APP_EXTENDED:"Расширенные права",SETTINGS_APP_COMPANY_NAME:"Название компании",SETTINGS_APP_COMPANY_NAME_HINT:"Укажите название компании разработчика",SETTINGS_APP_COMPANY_URL:"Сайт компании",SETTINGS_APP_COMPANY_URL_HINT:"Укажите сайт компании разработчика",SETTINGS_APP_TYPE_CHOOSE:"Выберите тип",SETTINGS_APP_SCOPE_CHOOSE:"Выберите права",SETTINGS_ACCOUNT_TITLE:"Аккаунт",SETTINGS_MISC_TITLE:"Другое",SETTINGS_PROFILE_AVATAR:"Аватар",SETTINGS_PROFILE_AVATAR_HINT:"Формат: jpg, gif, png. '<br/>' Максимальный размер файла: 1Mb. '<br/>' Разрешение: до 96x96px.",SETTINGS_PROFILE_REALNAME:"Настоящее имя",SETTINGS_PROFILE_REALNAME_HINT:"Укажите ваши имя и фамилию, чтобы другие пользователи смогли узнать, как вас зовут",SETTINGS_PROFILE_WORKPLACE:"Место работы",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER:"Удалим место работы, после сохрания изменений.",SETTINGS_PROFILE_WORKPLACE_PLACEHOLDER_ACTION:"Восстановить",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER:"Удалим контакт, после сохранения изменений.",SETTINGS_PROFILE_CONTACTS_PLACEHOLDER_ACTION:"Восстановить",SETTINGS_PROFILE_SPECIALITY:"Опишите себя",SETTINGS_PROFILE_SPECIALITY_HINT:"Укажите свою специализацию. Например: Администратор баз данных",SETTINGS_PROFILE_GENDER:"Пол",SETTINGS_PROFILE_GENDER_NOT_SPECIFIED:"Не указан",SETTINGS_PROFILE_GENDER_MALE:"Мужской",SETTINGS_PROFILE_GENDER_FEMALE:"Женский",SETTINGS_PROFILE_BIRTH_DATE:"Дата рождения",SETTINGS_PROFILE_BIRTH_DAY:"Число",SETTINGS_PROFILE_BIRTH_MONTH:"Месяц",SETTINGS_PROFILE_BIRTH_YEAR:"Год",SETTINGS_PROFILE_LOCATION:"Местоположение",SETTINGS_PROFILE_COUNTRY:"Страна",SETTINGS_PROFILE_REGION:"Регион",SETTINGS_PROFILE_CITY:"Город",SETTINGS_PROFILE_CONTACTS:"Контактная информация и веб-ресурсы",SETTINGS_PROFILE_CONTACTS_HINT:"Укажите имя пользователя или ID и мы сами сделаем ссылку. Чтобы ссылка появилась в информационной панели автора публикации, отметьте её, кликнув на иконку справа.",SETTINGS_PROFILE_CONTACTS_ADD:"Добавить ссылку",SETTINGS_PROFILE_YANDEX_MONEY:"YooMoney",SETTINGS_PROFILE_YANDEX_MONEY_HINT:"Номер кошелька. От 11 до 20 цифр",SETTINGS_PROFILE_PAYPAL:"PayPal.Me",SETTINGS_PROFILE_PAYPAL_HINT:"Идентификатор PayPal.me От 3 до 20 цифр и/или латинских букв",SETTINGS_PROFILE_WEBMONEY:"Webmoney",SETTINGS_PROFILE_WEBMONEY_HINT:"Номер WMID. 12 цифр",SETTINGS_PROFILE_SERVICES:"Сервисы",SETTINGS_PROFILE_WALLETS:"Кошельки",SETTINGS_PROFILE_DONATIONS:"Донаты",SETTINGS_PROFILE_DONATIONS_RADIO_TITLE:"Принимать донаты через:",SETTINGS_PROFILE_WALLETS_NAMES:"YooMoney, PayPal.Me, Webmoney",SETTINGS_PROFILE_ABOUT:"Расскажите о себе",SETTINGS_PROFILE_ABOUT_HINT:"Не более 6 500 символов",SETTINGS_PROFILE_SUBMIT:"Сохранить изменения",SETTINGS_PROFILE_SHOW_CONTACTS:"Показывать ваши сайты и аккаунты в соцсетях",SETTINGS_PROFILE_TO_EVERYONE:"всем",SETTINGS_PROFILE_TO_FOLLOWING:"только тем, на кого вы подписаны",SETTINGS_PROFILE_INBOX_ACCESS:"Принимать личные сообщения",SETTINGS_PROFILE_FROM_EVERYONE:"ото всех",SETTINGS_PROFILE_FROM_FOLLOWERS:"только от тех, на кого вы подписаны",SETTINGS_PROFILE_SHOW_ACTIVITY:"Кто может получать уведомления о вашей активности на сайте",SETTINGS_PROFILE_NOBODY:"никто",SETTINGS_PROFILE_TO_FOLLOWERS:"те, кто подписан на вас",SETTINGS_PROFILE_PAYMENTS_INFO:"Укажите данные ваших кошельков для получения вознаграждения от других пользователей. В зависимости от выбранного способа приёма донатов, пользователи увидят соответствующие ссылки.",SETTINGS_NOTIFICATIONS_NEW_COMMENTS:"Уведомления о новых комментариях",SETTINGS_NOTIFICATIONS_TO_MY_POSTS:"К моим публикациям",SETTINGS_NOTIFICATIONS_TO_POSTS_WITH_COMMENTS:"К публикациям, где есть мой комментарий",SETTINGS_NOTIFICATIONS_TO_BOOKMARKED_POSTS:"К публикациям у меня в закладках",SETTINGS_NOTIFICATIONS_TRACKER:"Трекер",SETTINGS_NOTIFICATIONS_EMAIL:"Почта",SETTINGS_NOTIFICATIONS_SEND_ME_EMAILS:"Отправлять мне письма",SETTINGS_NOTIFICATIONS_NEWS:"Об изменениях на сайте",SETTINGS_NOTIFICATIONS_NEW_EXPERIENCE:"О новых для меня возможностях на сайте",SETTINGS_NOTIFICATIONS_NEW_MESSAGES:"О новых сообщениях в Диалогах",SETTINGS_NOTIFICATIONS_NEW_COMMENTS_REPLY:"Об ответах на мои комментарии",SETTINGS_NOTIFICATIONS_NEW_MENTION:"Если меня упомянули в публикации или комментарии",SETTINGS_NOTIFICATIONS_NEW_FOLLOWER:"Если у меня новый подписчик",SETTINGS_NOTIFICATIONS_ARTICLE_STATISTICS:"Со статистикой по моим публикациям",SETTINGS_NOTIFICATIONS_ARTICLE_TOP_STATISTICS:"О выходе моей публикации в топ",SETTINGS_NOTIFICATIONS_TRACKER_SETTINGS:"Настройки трекера",SETTINGS_NOTIFICATIONS_FOLLOWERS_BOOKMARKS:"Показывать закладки, которые добавили пользователи, на которых я подписан",SETTINGS_NOTIFICATIONS_STATISTICS:"Уведомлять о статистике моих публикаций",SETTINGS_NOTIFICATIONS_DIGEST:"Выберите частоту рассылки дайджеста о самом интересном по вашим хабам",SETTINGS_NOTIFICATIONS_DIGEST_NEVER:"Не присылать",SETTINGS_NOTIFICATIONS_DIGEST_DAY:"Каждый день",SETTINGS_NOTIFICATIONS_DIGEST_WEEK:"Раз в неделю",SETTINGS_NOTIFICATIONS_DIGEST_MONTH:"Раз в месяц",SETTINGS_MISC_INTERACTIONS:"Взаимодействие",SETTINGS_MISC_REFRESH_PANEL:"Отображать панель обновления комментариев",SETTINGS_MISC_HOTKEYS:"Использовать горячие клавиши ('<a href=\"/docs/help/hotkeys/\">'список'</a>')",SETTINGS_MISC_DISABLE_ADS:"Отключить рекламу на сайте",SETTINGS_MISC_YES_IT_WOULD_BE_NICE:"Да, это было бы здорово!",SETTINGS_READONLY_UPGRADE:"Если у вас есть приглашение, вы можете написать его в форму ниже и получить все доступные для полноправных аккаунтов возможности.",SETTINGS_INVITE_CODE:"Код приглашения",SETTINGS_INVITE_RECALLED:"Приглашение было отозвано",SETTINGS_INVITE_APPLIED:"Приглашение применено",SETTINGS_INVITE_ALREADY_USED:"Приглашение уже было использовано",SETTINGS_INVITE_USER_ALREADY_FULL:"Вы уже являетесь полноправным пользователем Хабра и не можете использовать приглашения",SETTINGS_COLOR_THEME:"Цветовая тема",SETTINGS_DARK:"Темная",SETTINGS_LIGHT:"Светлая",SETTINGS_SYSTEM:"Системная",SETTINGS_SHOW_PROFILES_TITLE:"Профили Хабр Карьеры и Эксперта",SETTINGS_SHOW_PROFILES_CHECKBOX_LABEL:"Показывать ссылку на мой профиль на Хабр Карьере"}},35457:e=>{function t({hubs:e}){if(!e)return[];const t=e.filter((e=>"corporative"===e.type));return t.length>0&&t[0].alias}function i(e){const{isCorporative:i,publicationType:s}=e;let{postType:n}=e;s&&(n=s);const a=t(e),o="sandbox"===n,r="megaproject"===n,l={news:"news",megaproject:"specials",article:"articles",post:"posts"};return o?"sandbox":i&&!r?`companies/${a}/${l[n]}`:l[n]}function s(e,t="https://habr.com"){const s=i(e),{lang:n,id:a}=e;return`${t}/${n}/${s}/${a}/`}e.exports={articleCanonical:s}},4344:e=>{function t(e){const t=e.flows?e.flows.map((e=>`f_${e.alias}`)):[],i=[],s=[];return e.hubs&&e.hubs.forEach((e=>{"corporative"===e.type?i.push(`c_${e.alias}`):s.push(`h_${e.id}`)})),[...i,...s,...t].join(",")}e.exports=t},61254:e=>{function t({companySettings:e,isEditorial:t}){if(!e)return t?"edit":"ugc";const{status:i,isStartup:s}=e;return"expired"===i?"company_expired":s?"company_startup":`company_${i}`}e.exports=t},10963:e=>{const t=["backend","frontend","design","management","marketing","popsci","admin"],i=e=>t.includes(e);e.exports={checkIsNewFlow:i}},4498:e=>{const t={path:"/",decode(e){let t=e;return'"'===e[0]&&(t=e.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},encode(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};e.exports={cookieOptions:t}},87032:e=>{function t(e){var t;return(null===e||void 0===e||null===(t=e.additional)||void 0===t?void 0:t[0])||null}function i(e){var t,i;return(null===e||void 0===e?void 0:e.errorCode)||(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.reasonKey)||(null===e||void 0===e||null===(i=e.additional)||void 0===i?void 0:i.reasonKey)||null}function s(e){return t(e)||i(e)}function n(e){return(null===e||void 0===e?void 0:e.httpCode)||(null===e||void 0===e?void 0:e.code)||(null===e||void 0===e?void 0:e.status)||null}function a(e){const t=n(e);return t>=400&&t<=499}function o(e){return 403===n(e)}function r(e){return 401===n(e)}function l(e){return 404===n(e)}function c(e){const t=n(e);return t>=500&&t<=599}function u(e){return o(e)&&e.data&&e.data.userType}function d(e){return o(e)&&e.data&&e.data.reason}function m(e){return o(e)&&"THREAD_DELETED"===e.errorCode}function p(e){return"PPG_REQUIRED"===s(e)&&e.data.program}function _(e){return"AUTH_REQUIRED"===s(e)}function h(e){const t=n(e);return!t||t>=500}class g extends Error{constructor({message:e,url:t}){super(e),this.url=t}}class v extends Error{constructor(){super("Not found"),this.httpCode=404}}class T extends Error{constructor(){super("Forbidden"),this.httpCode=403}}class E extends Error{constructor(){super("Unauthorized"),this.httpCode=401}}function S(e){return Promise.reject(new g({message:"useAsyncData redirect",url:e}))}function f(){return Promise.reject(new v)}function A(){return Promise.reject(new T)}function b(){return Promise.reject(new E)}e.exports={getErrorCode:s,getReasonKey:i,getHttpCode:n,is4xxError:a,is403Error:o,is401Error:r,is5xxError:c,is403WithUserType:u,is403WithReason:d,isPostDeletedError:m,isPPGError:p,isAuthRequiredError:_,NotFoundError:v,ForbiddenError:T,RedirectError:g,redirect:S,forbidden:A,notFound:f,unauthorized:b,shouldHandleError:h,is404Error:l}},92710:e=>{function t(e){return e.split(",").reduce(((e,t)=>{const[i,s]=t.split("=");return{...e,[i]:"on"===s}}),{})}function i(e){return"on"==={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}[`VUE_APP_FEATURE_${e}`]}function s(e,t={}){return e in t?t[e]:i(e)}e.exports={parseFeaturesSettings:t,getFeatureStatusFromEnv:i,getFeatureFlag:s}},88447:e=>{const t="habr_web_flow_filter_",i="habr_web_hub_filter_",s="news_",n="posts_";function a({flowName:e,hubName:a,isNews:o,isPosts:r}){const l=a?[i]:[t];return o&&l.push(s),r&&l.push(n),a?l.push(a):e&&l.push(e),l.join("")}e.exports={buildCookieName:a}},71355:e=>{e.exports=function(e){return!!e&&"post"===e.publicationType}},581:e=>{const t="habrastorage.org",i=/\/r\/w\w+\//,s=780,n=[32,48,60,64,72,120,390,780,1560];function a(e){return!(!e||"string"!==typeof e)&&(!!e.includes(t)&&(!e.endsWith(".gif")&&!e.endsWith(".svg")))}function o(e){return n.includes(e)}function r(e,s=120,n=!1){let r=s;if(!a(e))return e;o(s)||(console.warn(`getResizedSrc: size ${s} is not supported. Using ${s} instead`),r=c(s));const l=n?"q1":"";return e.replace(i,"/").replace(`${t}/`,`${t}/r/w${r}${l}/`)}function l(e){return"function"!==typeof e.getElementsByTagName?(console.warn("getImages: document is not available or element is invalid"),[]):Array.from(e.getElementsByTagName("img"))}function c(e){return n.reduce(((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t))}function u(){return"undefined"!==typeof window?c(window.innerWidth*window.devicePixelRatio):s}function d(e){return r(e,u())}e.exports={habraStorageRegexp:i,getResizedSrc:r,getBestSizeImageSrc:d,getImages:l}},183:e=>{const t="([a-f0-9]{15}.[a-f0-9]{8})",i="([a-z\\.0-9-_]+)",s="([0-9a-z_-]+)",n="([a-z0-9\\-_:]+)",a="([0-9]+)",o="([0-9]+|new)",r="([a-f\\d]{24})",l="([a-z]|[a-z0-9][a-z0-9-_]+)",c="([0-9]+|new)",u=a,d=a,m=i,p=a,_=l,h=l,g=a,v=i,T=i,E=a,S=s,f=s,A={POST:"posts",COMPANY:"companies",HUB:"hubs",SANDBOX:"sandbox"},b=Object.values(A).join("|");e.exports={APP_CLIENT_ID_MATCH:t,APP_CLIENT_TOKEN_MATCH:f,PUBLICATION_ID_MATCH:u,BADGE_MATCH:s,COMMENT_ID_MATCH:d,COMPANY_ALIAS_MATCH:m,DOCS_ARTICLE_ALIAS_MATCH:S,EMPLOYEE_REQUEST_ID_MATCH:p,FLOW_ALIAS_MATCH:_,HASH_MATCH:n,HUB_ALIAS_MATCH:h,ID_MATCH:a,INVITE_ID_MATCH:g,LOGIN_MATCH:v,MONGO_OBJECT_ID:r,USER_ALIAS_PARAM_REGEXP:T,USER_ID_MATCH:E,WIDGET_APP_MATCH:c,WIDGET_ID_MATCH:o,PAGE_TYPE:A,PAGE_TYPE_MATCH:b}},42261:e=>{const[t,i]=s("toast");function s(e,t){let i=t;function s(){if(!i)throw new Error(`Trying to get \`${e}\` before it was set or it is falsy`);return i}function n(e){i=e}return[s,n]}e.exports={getToast:t,setToast:i}},59545:(e,t,i)=>{"use strict";i.d(t,{Es:()=>l,MN:()=>u,Rd:()=>_,b2:()=>m,fJ:()=>d});var s=i(66252),n=i(62931),a=i(57740),o=i(11954),r=i(42261);function l(){}function c(){}function u(e){const t=(0,o.P)().msg,i="ChunkLoadError"===e.name?t("ERROR_PAGE_MESSAGE_INTERNAL"):e.message||t("ERROR_PAGE_MESSAGE_INTERNAL");return(0,s.h)(a.Z,{errorMessage:i})}function d(e,t,i){var n,a;return(0,s.h)("div",null===(n=(a=i.slots).default)||void 0===n?void 0:n.call(a))}function m(){const e=(0,o.P)().msg,t=(0,r.getToast)();t.error(e("ERROR_PAGE_MESSAGE_INTERNAL"))}const p=3;function _(e,t=l,i=c){return"server"==={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV||"server-comments"==={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV?(0,s.RC)(e):(0,s.aZ)({emits:["fallback-status-change"],setup(a,o){const r=(0,n.iH)(!1),l=(0,n.XI)(u());let c=p;function u(){async function i(){try{const t=await e();return r.value=!0,o.emit("fallback-status-change",!1),t}catch(s){return c<=0?(o.emit("fallback-status-change",!0),t(s,a,o)):(c-=1,i())}}return(0,s.RC)({loader:i})}function d(){r.value||m()}function m(){l.value=u()}"undefined"!==typeof window&&(window.addEventListener("online",d),(0,n.EB)((()=>{window.removeEventListener("online",d)})));const _=(0,n.iH)(null),h=new Proxy({reload:m,reloadIfBroken:d,loaded:r},{get(e,t){var i;return void 0!==e[t]?e[t]:void 0!==(null===(i=_.value)||void 0===i?void 0:i[t])?_.value[t]:void 0},has(e,t){return t in e||!!_.value&&t in _.value}});return o.expose(h),()=>(0,s.h)(s.n4,null,{default:()=>(0,s.h)(l.value,{...a,...o.attrs,ref:_},o.slots),fallback:i})}})}},67649:(e,t,i)=>{"use strict";i.d(t,{u:()=>a});var s=i(66252),n=i(36134);function a(e){const{msg:t}=(0,n.Q)(),i=new Date(e.startDay),a=e.finishDay&&new Date(e.finishDay),o=(0,s.Fl)((()=>{const e={day:null===i||void 0===i?void 0:i.getDate().toString(),month:null===i||void 0===i?void 0:i.getMonth().toString(),year:null===i||void 0===i?void 0:i.getFullYear()},t=a&&{day:null===a||void 0===a?void 0:a.getDate().toString(),month:null===a||void 0===a?void 0:a.getMonth().toString(),year:null===a||void 0===a?void 0:a.getFullYear()};return{startParams:e,finishParams:t}})),r=(0,s.Fl)((()=>{const{startParams:e,finishParams:s}=o.value;if(!a||(null===a||void 0===a?void 0:a.getTime())===(null===i||void 0===i?void 0:i.getTime()))return t("WHEN_FULL_DATE",{...e,year:void 0});const n=null===i||void 0===i?void 0:i.getMonth(),r=null===i||void 0===i?void 0:i.getFullYear(),l=null===a||void 0===a?void 0:a.getMonth(),c=null===a||void 0===a?void 0:a.getFullYear();let u,d;return r!==c?(u=t("WHEN_FULL_DATE",e),d=t("WHEN_FULL_DATE",s)):n!==l?(u=t("WHEN_FULL_DATE",{...e,year:void 0}),d=t("WHEN_FULL_DATE",{...s,year:void 0})):(u=null===i||void 0===i?void 0:i.getDate(),d=t("WHEN_FULL_DATE",{...s,year:void 0})),`${u} – ${d}`}));return{formattedDate:r}}},10390:(e,t,i)=>{"use strict";i.d(t,{s:()=>u});var s=i(62931),n=i(66252),a=i(67476),o=i(71197),r=i(48037),l=i(35275),c=i(70806);function u(e){const t=(0,s.iH)(null);if(l.W6)return t;const i={timeoutId:null,observer:null},u=(0,o.q)(),{uuid:d}=(0,a.Jk)(u);function m(e){const t={threshold:.5};i.observer=new IntersectionObserver((([e])=>{clearTimeout(i.timeoutId),e.isIntersecting&&p()}),t),i.observer.observe(e)}function p(){i.timeoutId=setTimeout((()=>{(0,c.d)({uuid:d.value,...(0,s.Tn)(e)}),i.observer.disconnect(),i.observer=null}),1e3)}function _(){"hidden"===document.visibilityState?clearTimeout(i.timeoutId):i.observer&&p()}function h(){i.observer&&(i.observer.disconnect(),i.observer=null),clearTimeout(i.timeoutId),document.removeEventListener("visibilitychange",_)}return(0,n.YP)([t,e],(([e,t])=>{h();const i=(0,r.d)(e);i&&t&&m(i)}),{deep:!0}),document.addEventListener("visibilitychange",_),(0,n.Jd)((()=>{h()})),t}},23752:(e,t,i)=>{"use strict";i.d(t,{$:()=>a});var s=i(79857);let n=null;function a(){function e(e,i){e&&"function"===typeof i&&n.track(e,(()=>{i(),t(e)}))}function t(e){n.untrack(e)}return n||(n=(0,s.W)({root:null,threshold:.5,interval:1e3})),{startTracking:e,stopTracking:t}}},34138:(e,t,i)=>{"use strict";i.d(t,{DV:()=>d});var s=i(93356),n=i(66252),a=i(48247),o=i(35275);const r=18e5,l=["click","mousemove","keypress","touch","scroll","touchmove"];let c=null,u=0;function d(){const e=(0,a.b8)(),t=(0,n.Fl)((()=>e.isUserActive));function i(t){e.setIsUserActive(t)}function d(){o.W6||(c=setTimeout((()=>{i(!1)}),r))}const m=(0,s.Wg)();async function p(){await m.trigger(),i(!0),c&&clearTimeout(c),d()}const _={passive:!0};function h(){0===u&&(l.forEach((e=>{document.addEventListener(e,p,_)})),u+=1)}function g(){u>=0&&(l.forEach((e=>{document.removeEventListener(e,p,_)})),u-=1)}return(0,n.bv)(h),(0,n.Jd)(g),(0,n.dl)(h),(0,n.se)(h),d(),{isUserActive:t,onActivityEvent:m.on}}},90201:(e,t,i)=>{"use strict";i.d(t,{q:()=>m});var s=i(93356),n=i(66252),a=i(67476),o=i(71197),r=i(35275);const l=[];let c=!1;function u(e){while(l.length){const t=l.shift();e&&console.warn(`${t.name} is called from UUID queue`),t()}}async function d(e,t){c||(c=!0,void 0!==e.value&&l.length||(await(0,s.C4)(e).toMatch((e=>void 0!==e)),t&&console.warn(`UUID is ready: ${e.value}`)),u(t))}function m(e=!1){const{uuid:t}=(0,a.Jk)((0,o.q)());function i(e){r.v9?e():"function"===typeof e?void 0===t.value?l.push(e):e():console.warn("Callback must be a function (onUuidReady)")}return(0,n.bv)((()=>{d(t,e)})),{uuid:t,onUuidReady:i}}},79857:(e,t,i)=>{"use strict";i.d(t,{W:()=>n});var s=i(66252);function n({interval:e,threshold:t,root:i}={root:null,interval:1e4,threshold:0}){const n=new Map;let a,o=!1;function r(s,o){a||(a=new IntersectionObserver((t=>{t.forEach((t=>{const i=n.get(t.target);i&&(t.isIntersecting?c(i,e):u(i),i.isIntersecting=t.isIntersecting)}))}),{root:i,threshold:t})),n.has(s)||(n.set(s,{callback:o,intervalId:null}),a.observe(s))}function l(e){const t=n.get(e);t&&(u(t),n.delete(e),a.unobserve(e),m()&&d())}function c(t){null===t.intervalId&&(t.intervalId=setInterval((()=>{t.callback()}),e))}function u(e){e.intervalId&&(clearInterval(e.intervalId),e.intervalId=null)}function d(){n.clear(),a.disconnect()}function m(){return 0===n.size}function p(e){return n.has(e)}function _(){n.forEach((e=>{e.isIntersecting&&c(e)}))}function h(){n.forEach((e=>u(e)))}function g(){const e="hidden"===document.visibilityState;e?h():_()}return(0,s.bv)((()=>{o||(document.addEventListener("visibilitychange",g),o=!0)})),(0,s.Jd)((()=>{m()&&(document.removeEventListener("visibilitychange",g),o=!1)})),{track:r,untrack:l,clear:d,isTracking:p}}},21805:(e,t,i)=>{"use strict";i.d(t,{w:()=>m});var s=i(62931),n=i(66252),a=i(22201),o=i(59896),r=i(71197),l=i(94769),c=i(62524),u=i(87032);class d extends Error{constructor(e){super("Async Data Error"),this.code=(0,u.getHttpCode)(e)||500,this.httpCode=(0,u.getHttpCode)(e)||500,this.name=e.name,this.message=e.message,this.data=e.data,this.errorCode=(0,u.getErrorCode)(e)}}function m(e,{allowFail:t}={allowFail:!1}){var i;const m=(0,s.qj)({isLoading:!1,error:null}),_=(0,a.tv)(),h=(0,n.FN)();let g=Promise.resolve();const v="server"==={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV,T=(0,c.E)(),E=(0,l.R)(),S=(0,r.q)(),f=()=>(m.isLoading=!0,e.call(this,{redirect:u.redirect,notFound:u.notFound,forbidden:u.forbidden,unauthorized:u.unauthorized}).then((()=>{T.markDataLoaded(),E.toggleRefresh(!1),m.isLoading=!1})).catch((e=>{v?h.type={}:(m.isLoading=!1,m.error=e),(0,u.isAuthRequiredError)(e)&&S.logout(),(0,u.isPPGError)(e)&&S.setPPGDemanded(!0);const i=p(e);if(i)return _.push(i);if(t)return(0,o.T)(e),v||T.markDataLoaded(),null;throw T.showError(e),v||T.markDataLoaded(),new d(e)}))),A=h.appContext.config.globalProperties.$hasHydrated,b=!v&&h.vnode.el&&!(null===(i=h.vnode.el.dataset)||void 0===i||!i.asyncCalled),I=(v||A.value)&&!b;return I&&(g=f(),v&&(h.attrs=h.attrs||{},h.attrs["data-async-called"]="true")),(0,n.vl)((()=>g)),(0,n.YP)((()=>E.shouldRefresh),(e=>{e&&f()})),{...(0,s.BK)(m),dataPromise:g,reload:f}}function p(e){if(e instanceof u.RedirectError)return e.url;if((0,u.isPPGError)(e)){const t="comments"===e.data.program?"PPG_COMMENTS":"PPG_SMILES";return{name:t}}const t="SUBSCRIPTIONS_ARE_EMPTY"===(0,u.getErrorCode)(e);return t?{name:"MY_FEED_SETTINGS"}:void 0}},86509:(e,t,i)=>{"use strict";i.d(t,{s:()=>l});var s=i(66252),n=i(67476),a=i(36134),o=i(43004),r=i(21331);function l(){const e=(0,o.e)(),{commentAccess:t}=(0,n.Jk)(e),{msg:i,langOptions:l}=(0,a.Q)(),c=(0,s.Fl)((()=>{var t;return null===(t=e.commentAccess)||void 0===t?void 0:t.isCanComment})),u=(0,s.Fl)((()=>{var t;return(null===(t=e.commentAccess)||void 0===t?void 0:t.cantCommentReason)??null})),d=(0,s.Fl)((()=>{var t;return(null===(t=e.commentAccess)||void 0===t?void 0:t.cantCommentReasonKey)??null})),m=(0,s.Fl)((()=>{var t;const i=(null===(t=e.commentAccess)||void 0===t?void 0:t.data)||{};return i.reason=i.reason||"EMPTY",i.timeElapsed=i.timeElapsed||"EMPTY",i})),p=(0,s.Fl)((()=>{var e;if(!d.value)return null;const t=`EXTERNAL_${d.value}`,s=(0,r.rb)(null===(e=m.value)||void 0===e?void 0:e.nextCommentAllowedOn,l.value.hl);if(s){const e=i("EXTERNAL_POST_COMMENT_NEXT_DATE",{date:s});return`${i(t,m.value)} ${e}`}return i(t,m.value)}));return{commentAccess:t,commentAccessMessage:p,cantCommentReason:u,cantCommentReasonKey:d,userBlockReasonData:m,isCanComment:c}}},89554:(e,t,i)=>{"use strict";i.d(t,{f:()=>r});var s=i(13039),n=i(66252),a=i(23059),o=i(4498);function r(){const e="server"==={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV;if(e){const e=(0,n.Zq)();if(e)return e.useCookies()}return(0,s.f)([],{doNotParse:!0},new a.Z(null,o.cookieOptions))}},14652:(e,t,i)=>{"use strict";i.d(t,{y:()=>n});var s=i(62931);function n(){const e=(0,s.XI)(null),t=(0,s.XI)(null);function i(i){var s;i.target.matches("img[data-src]")&&(t.value=i.target,null===(s=e.value)||void 0===s||s.reloadIfBroken())}function n(){t.value&&t.value.click()}return{galleryRef:e,imageClickedBeforeGalleryLoad:t,onImagesInitialized:n,handleClickOnBrokenGallery:i}}},36134:(e,t,i)=>{"use strict";i.d(t,{Q:()=>a});var s=i(67476),n=i(11954);function a(){const e=(0,n.P)(),{langOptions:t}=(0,s.Jk)(e),i=(t,i={})=>e.msg(t,i);return{msg:i,langOptions:t}}},8492:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var s=i(66252),n=i(67476),a=i(71197),o=i(73313);function r(e){const t=(0,a.q)(),{isSuperAdmin:i,isModerator:r,isCorrector:l,userAlias:c,companiesAdmin:u}=(0,n.Jk)(t),d=(0,s.Fl)((()=>e.author&&e.author.alias===c.value)),m=(0,s.Fl)((()=>e.isCorporative)),p=(0,s.Fl)((()=>parseInt(e.editorVersion,10))),_=(0,s.Fl)((()=>2===p.value)),h=(0,s.Fl)((()=>"megaproject"===(null===e||void 0===e?void 0:e.postType))),g=(0,s.Fl)((()=>"megaproject"===(null===e||void 0===e?void 0:e.postType)&&1===p.value)),v=(0,s.Fl)((()=>(0,o.o)(e))),T=(0,s.Fl)((()=>"sandbox"===e.postType));function E(){return e.hubs.find((e=>"corporative"===e.type))}const S=(0,s.Fl)((()=>{if(v.value||T.value)return!1;if(d.value||i.value||r.value)return!0;if(!m.value||!u.value||!u.value.length)return!1;const e=E(),t=e&&e.alias;return u.value.some((e=>e.alias===t))})),f=(0,s.Fl)((()=>{const{relatedData:t}=e;return!!t&&(v.value?t.canEdit:t&&t.canEdit&&!g.value)}));return{isStatsAvailable:S,isAuthor:d,isCorporative:m,isCorrector:l,isPost:v,isMegaPost:h,isNewEditor:_,isEditable:f,editorVersion:p,getCompany:E}}},30636:(e,t,i)=>{"use strict";i.d(t,{w:()=>o});var s=i(62931),n=i(66252),a=i(68970);function o(e){const t=(0,s.iH)(!1),i=(0,a.UJ)(),o=(0,n.Fl)((()=>{const t=(0,s.Tn)(e);return t?i.getUserByAlias(t):null})),r=(0,n.Fl)((()=>{var e,t;return!!o.value&&!(null===(e=o.value)||void 0===e||null===(t=e.relatedData)||void 0===t||!t.isSubscribed)}));return(0,n.YP)(e,(()=>{t.value=!1})),(0,n.YP)(r,(e=>{var i,s,n;(null===(i=o.value)||void 0===i||!i.counterStats||null!==(s=o.value)&&void 0!==s&&null!==(n=s.counterStats)&&void 0!==n&&n.postCount)&&e&&(t.value=e)}),{immediate:!0}),t}},12833:(e,t,i)=>{"use strict";i.d(t,{F:()=>l});var s=i(62931),n=i(66252),a=i(89554),o=i(56606);let r;function l(){if("undefined"===typeof window)return{};const e=(0,a.f)();function t(){const t=(0,o.Yw)(e.get(o.mX));return t!==o.we?t:(0,o.mR)()}const i=(0,s.iH)(t());r||(r=function(){i.value=t()}),e.addChangeListener((e=>{e.name===o.mX&&r()}));const l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");l&&l.addEventListener("change",r);const c=(0,n.Fl)((()=>"dark"===i.value));return{isDark:c,theme:i}}},81422:(e,t,i)=>{"use strict";i.d(t,{n:()=>a});var s=i(66252),n=i(99229);function a(e,t){const i=(0,s.FN)(),{setHash:a,removeHash:o}=(0,n.g)(e,t);return(0,s.bv)((()=>{a(),window.addEventListener("popstate",(()=>{i.emit("close")}))})),{setHash:a,removeHash:o}}},99229:(e,t,i)=>{"use strict";i.d(t,{g:()=>n});var s=i(84183);function n(e,t){const i=(0,s.s)(),n=()=>t&&i.isMobile,a=()=>{n()&&window.location.hash===e&&window.history.back()},o=()=>{n()&&(window.location.hash=e)};return{removeHash:a,setHash:o}}},51779:(e,t,i)=>{"use strict";i.d(t,{gI:()=>c,p6:()=>r,qv:()=>l});var s=i(1495),n=i.n(s);function a(e){return!e.author||e.author.is_banned}function o(e){return{...e,isUfo:!0}}function r(e){const t=new Date(e),i=e=>e.toString().padStart(2,"0"),s=i(t.getDate()),n=i(t.getMonth()+1),a=i(t.getFullYear()),o=i(t.getHours()),r=i(t.getMinutes());return{date:`${s}.${n}.${a}`,time:`${o}:${r}`}}function l(e){return a(e)?o(e):e}function c(e){const t=n().map(e,{id:n().maybe.nonEmptyString,isSuspended:n().maybe.boolean,isAuthor:n().boolean,isPostAuthor:n().boolean,isNew:n().boolean,score:n().maybe.number,message:n().nonEmptyString,timePublished:n().nonEmptyString});return n().all(t)}},15923:(e,t,i)=>{"use strict";i.d(t,{CJ:()=>u,GD:()=>g,Rl:()=>p,Ye:()=>c,h$:()=>d,tQ:()=>m,vz:()=>h,wY:()=>l});var s=i(21331),n=i(73313),a=i(24440),o=i(38919),r=i(35457);function l(e){return[{property:"og:title",content:e,vmid:"og:title"},{name:"twitter:title",content:e,vmid:"twitter:title"},{name:"aiturec:title",content:e,vmid:"aiturec:title"}]}function c(e){const t=(0,a._)(e);return[{name:"description",content:t,vmid:"description"},{itemprop:"description",content:t,vmid:"description:itemprop"},{property:"og:description",content:t,vmid:"og:description"},{name:"twitter:description",content:t,vmid:"twitter:description"},{property:"aiturec:description",content:t,vmid:"aiturec:description"}]}function u(e){return e&&{property:"vk:image",content:`${e}?format=vk`,vmid:"vk:image"}}function d(e){return e?[{itemprop:"image",content:e,vmid:"image:itemprop"},{property:"og:image",content:e,vmid:"og:image"},{property:"og:image:width",content:"1200",vmid:"og:image:width"},{property:"og:image:height",content:"630",vmid:"og:image:height"},{property:"aiturec:image",content:e,vmid:"aiturec:image"},{name:"twitter:image",content:e,vmid:"twitter:image"},u(e)]:null}function m({id:e,date:t}){const i=new Date(t).toISOString();return[{property:"aiturec:item_id",content:e,vmid:"aiturec:item_id"},{property:"aiturec:datetime",content:i,vmid:"aiturec:datetime"}]}function p(e=[]){return e.filter((e=>-1===e.indexOf("stylesheets.mobile.css"))).map((e=>({href:e,rel:"stylesheet"})))}const _={en:"en_US",ru:"ru_RU"};function h(e,t){const i=e.author.alias||e.author.fullname,n=e.isCorporative?e.hubs.find((e=>"corporative"===e.type)).title:e.hubs[0].title,a=(0,o.rp)(new Date(e.timePublished));return t("TITLE_POST_PAGE",{authorName:i,hubName:n,hubsCount:e.hubs.length>1?0:e.hubs.length-1,date:`${(0,s.l4)(e.timePublished)} ${a}`})}function g(e,t){const{titleHtml:i,id:s,lang:a,timePublished:o,metadata:p}=e,g=(0,n.o)(e),v=g?h(e,t):i,{metaDescription:T,shareImageUrl:E,shareImageWidth:S,shareImageHeight:f,vkShareImageUrl:A}=p,b=[...l(v),...c(T),...d(E),u(A),...m({id:s,date:o}),{content:(0,r.articleCanonical)(e),property:"og:url",vmid:"og:url"},{property:"og:type",content:"article",vmid:"og:type"},{property:"og:locale",content:_[a],vmid:"og:locale"},{property:"og:image:width",content:S,vmid:"og:image:width"},{property:"og:image:height",content:f,vmid:"og:image:height"}];return Array.isArray(e.tags)?b.push({name:"keywords",content:e.tags.map((e=>e.titleHtml)).join(", ")}):g&&b.push({name:"keywords",content:e.hubs.map((e=>e.titleHtml)).join(", ")}),b}},43561:(e,t,i)=>{"use strict";i(66337);var s=i(64487),n=i(93096),a=i.n(n),o=i(58061),r=i(62931),l=i(66252),c=i(23002),u=i(70606),d=i(67476),m=i(92324),p=i(74735);const _={id:"app"};function h(e,t,i,s,n,a){const o=(0,l.up)("PortalTarget");return(0,l.wg)(),(0,l.iD)("div",_,[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.currentLayout))),(0,l.Wm)(o,{multiple:"",name:"overlays"})])}var g=i(89554),v=i(15923),T=i(56612);const E={key:0,ref:"headerBanner",class:"header-banner-wrapper"},S={key:2},f=["inert"];function A(e,t,i,s,n,a){const r=(0,l.up)("RouterView"),c=(0,l.up)("TMAnalytics"),u=(0,l.up)("TMAdfoxBanner"),d=(0,l.up)("TMHeader"),m=(0,l.up)("TMPageProgressBar"),p=(0,l.up)("TMScrollTop"),_=(0,l.up)("TMButtonBase"),h=(0,l.up)("TMNotification"),g=(0,l.up)("TMDatetime"),v=(0,l.up)("TMUserNotice"),A=(0,l.up)("TMPageWidth"),b=(0,l.up)("TMRegionalRestriction"),I=(0,l.up)("TMPageError"),y=(0,l.up)("TMPage"),w=(0,l.up)("router-view"),P=(0,l.up)("ExpandedMenu"),C=(0,l.up)("TMFooterMenu"),k=(0,l.up)("TMFooter"),L=(0,l.up)("TMHotKeys"),N=(0,l.up)("TMPopup"),O=(0,l.up)("TMLayoutMetaWrapper"),R=(0,l.Q2)("hotkey");return(0,l.wg)(),(0,l.j4)(O,{class:(0,T.C_)(a.bem("tm-layout__wrapper",{white:a.isLegalBanError||a.hasFullHeightBackground}))},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{name:"ads"}),(0,l.Wm)(c),s.isHeaderBannerVisible?((0,l.wg)(),(0,l.iD)("div",E,[(0,l.Wm)(u,{"adfox-id":"175449164307199013",params:{pp:"g",ps:"fnps",p2:"joaq"},variant:"above-header"})],512)):(0,l.kq)("",!0),a.isBlankPage?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(d,{key:1})),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{class:(0,T.C_)(["tm-layout",{"tm-layout__wrapper_fix-header":s.isMobilePwa}])},[(0,l.Wm)(m,{"is-finished":s.ssrStore.isDataLoaded,"is-processing":s.ssrStore.isDataLoading},null,8,["is-finished","is-processing"]),(0,l.Wm)(p),(0,l.Wm)(A,{"no-padding":s.isTablet},{default:(0,l.w5)((()=>[n.showRefreshNotice?((0,l.wg)(),(0,l.j4)(h,{key:0},{default:(0,l.w5)((()=>[(0,l._)("p",null,(0,T.zw)(e.msg("REFRESH_TITLE")),1),(0,l.Wm)(_,{class:"tm-notification-refresh__action","style-size":"small","style-type":"transparent",onClick:a.reloadThePage},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("REFRESH_ACTION")),1)])),_:1},8,["onClick"])])),_:1})):(0,l.kq)("",!0),n.showCacheNotice?((0,l.wg)(),(0,l.j4)(h,{key:1,layout:"minimal"},{default:(0,l.w5)((()=>[(0,l._)("span",null,[(0,l.Uk)((0,T.zw)(e.msg("CACHED_DATA_TITLE"))+" ",1),t[2]||(t[2]=(0,l._)("br",null,null,-1)),(0,l.Uk)(" "+(0,T.zw)(e.msg("CACHED_DATA"))+" ",1),(0,l.Wm)(g,{date:new Date(n.cacheTime),"show-full-date-time":!0},null,8,["date"])])])),_:1})):(0,l.kq)("",!0),0!==s.notices.length&&a.showUserNotices?((0,l.wg)(),(0,l.iD)("div",S,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.notices,((e,t)=>((0,l.wg)(),(0,l.j4)(v,{key:t,notice:e},null,8,["notice"])))),128))])):(0,l.kq)("",!0)])),_:1},8,["no-padding"]),(0,l._)("main",{class:"tm-layout__container",inert:s.isMenuVisible},[s.error&&!a.isPPGError?((0,l.wg)(),(0,l.j4)(y,{key:0},{default:(0,l.w5)((()=>[a.isLegalBanError?((0,l.wg)(),(0,l.j4)(b,{key:0,error:s.error},null,8,["error"])):((0,l.wg)(),(0,l.j4)(I,{key:1,error:s.error},null,8,["error"]))])),_:1})):((0,l.wg)(),(0,l.j4)(w,{key:1},{default:(0,l.w5)((({Component:e})=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(e)))])),_:1}))],8,f),(0,l.Wm)(o.uT,{name:"menu-fade"},{default:(0,l.w5)((()=>[s.isMenuVisible?((0,l.wg)(),(0,l.j4)(P,{key:0,"header-banner":s.headerBanner,onCloseMenu:t[0]||(t[0]=e=>s.setMenuVisibility(!1))},null,8,["header-banner"])):(0,l.kq)("",!0)])),_:1})],2)),[[R,{"shift+/":a.toggleHotKeysPopup},void 0,{stop:!0}]]),s.isDesktop&&!a.isFooterHidden?((0,l.wg)(),(0,l.j4)(C,{key:2,inert:s.isMenuVisible},null,8,["inert"])):(0,l.kq)("",!0),a.isFooterHidden?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(k,{key:3,inert:s.isMenuVisible,onLang:t[1]||(t[1]=e=>n.shouldOpenLangSettings=!0)},null,8,["inert"])),n.showHotKeysPopup?((0,l.wg)(),(0,l.j4)(N,{key:4,title:e.msg("HOT_KEYS"),onClose:a.toggleHotKeysPopup},{default:(0,l.w5)((()=>[(0,l.Wm)(L)])),_:1},8,["title","onClose"])):(0,l.kq)("",!0)])),_:1},8,["class"])}var b=i(39771),I=i(22201),y=i(36134),w=i(12833),P=i(89109),C=i(72073),k=i(71197),L=i(19913),N=i(70893);function O(e){(0,N.q)("/page-view",e)}const R=(0,l.aZ)({__name:"analytics",setup(e){const t=(0,I.yj)(),i=(0,g.f)(),{langOptions:s}=(0,y.Q)(),n=i.get("habr_web_ga_uid")||null,a=(0,C.X)(),o=(0,k.q)(),r=(0,P.c)(),{theme:c}=(0,w.F)(),u=(0,l.Fl)((()=>t.params.hubName)),d=(0,l.Fl)((()=>{var e;return u.value?null===(e=a.getHubByAlias(u.value))||void 0===e?void 0:e.id:null})),m=(0,l.Fl)((()=>({hub:d.value?`h_${d.value}`:void 0})));function p(){const e=n?{uid:n}:null;(0,L._k)("G-S28W1WC23F",e),(0,L.uK)((()=>{var e;(0,L.t4)("transport","beacon"),(0,L.t4)("user_properties",{user_type:o.userGaType,user_lang:null===(e=s.value)||void 0===e?void 0:e.fl,mode:null===c||void 0===c?void 0:c.value})}))}function _(){const{fullPath:e,matched:i}=t;(0,L.t4)("page",e),i.some((e=>{var t;return null===(t=e.meta)||void 0===t?void 0:t.customGA}))||(0,L.Z0)({fullPath:e,optionalParams:m.value})}function h(){o.uuid&&O({uuid:o.uuid,url:window.location.href,isAdblockEnabled:"yes"===r.adblockStatus})}return(0,l.bv)((()=>{p(),_(),o.getUUIDIfNeeded().then(h)})),(0,l.YP)((()=>t),((e,t)=>{if((null===t||void 0===t?void 0:t.path)===(null===e||void 0===e?void 0:e.path))if(!u.value||d.value)setTimeout(_),setTimeout(h);else{const e=(0,l.YP)(d,(t=>{t&&(e(),_(),h())}))}})),(e,t)=>((0,l.wg)(),(0,l.iD)("div"))}}),M=R,U=M;var D=i(91270),B=i(20666),H=i(67891),F=i(58748),V=i(28003);const $=(0,d.Q_)("flowsMenu",{state:()=>({flowsMenuData:null,isMenuVisible:!1}),getters:{getMenuDataByFlow:e=>t=>{var i;return(null===(i=e.flowsMenuData)||void 0===i?void 0:i.flows[t])||null},whatsNewMenuData:e=>{var t;return(null===(t=e.flowsMenuData)||void 0===t?void 0:t.whatsNew)||null}},actions:{setFlowsMenuData(e){this.flowsMenuData=e},async setMenuVisibility(e){if(this.isMenuVisible=e,e){const e=(0,k.q)();await e.ensureUuidAndFeatures(),(0,V.x)({uuid:e.uuid??"",alias:"flows_menu_open",params:{},features:e.features??[]})}}}});var W=i(94769);const G=["data-test-id","href"],x=["href"],q={__name:"menu-items",props:{itemBaseClass:{type:String,required:!0},itemTestId:{type:String,required:!0},wrapperTag:{type:String,default:"nav"},isMobile:{type:Boolean,default:!1}},setup(e){const t={FLOW_PAGE:"ARTICLES_LIST_BY_FLOW_ALL",ALL_FLOWS:"ARTICLES_LIST_ALL"},i=e,{langOptions:n,msg:a}=(0,y.Q)(),c=(0,I.yj)(),u=(0,k.q)(),m=$(),{isLoggedIn:p,hasNewPublicationsBySubscription:_}=(0,d.Jk)(u),h=(0,l.Fl)((()=>{const e={hl:n.value.hl};return{articles:{name:p.value?"ALL_FLOWS":"ARTICLES_LIST_ALL",params:e},feed:{name:"MY_FEED"},megaprojects:{name:"MEGAPROJECTS",params:e}}})),g=(0,l.Fl)((()=>c.matched.some((e=>"allFlows"===e.meta.feedType)))),v=(0,l.Fl)((()=>{var e;if(!p.value)return!1;const t=!c.params.pageNum||1===c.params.pageNum,i=null===(e=c.name)||void 0===e?void 0:e.startsWith("MY_FEED");return i?t&&_.value:_.value})),E=(0,l.Fl)((()=>({[i.itemBaseClass]:!0,"has-new":v.value})));function S(e,t){return Object.keys(e).every((i=>e[i]===t[i]))}const f=(0,W.R)(),A=(0,I.tv)(),b=e=>e.metaKey||e.ctrlKey||e.shiftKey;function w(e,t){return c.name===t&&S(e.params,c.params)}async function P(e,i){const n=b(i);if(n)return;i.preventDefault();const a=t[e.name],o=A.resolve(e),r=a||o.name,l=w(o,r);if(l)window.scrollTo({top:0}),f.toggleRefresh(!0);else try{await A.push(e)}catch(c){console.error(c),(0,s.Tb)(c)}m.setMenuVisibility(!1)}function C(e){(0,F.g)().setMyFeedIsForce(!0),P(h.value.feed,e),m.setMenuVisibility(!1)}return(t,i)=>{const s=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(s,{custom:"",to:h.value.feed},{default:(0,l.w5)((({href:t,isActive:i})=>[(0,l._)("a",{class:(0,T.C_)({active:i,...E.value}),"data-test-id":e.itemTestId,href:t,tabindex:"0",onClick:(0,o.iM)(C,["prevent"])},[(0,l._)("span",null,(0,T.zw)((0,r.SU)(a)("NAV_MY_FEED")),1)],10,G)])),_:1},8,["to"]),(0,l.Wm)(s,{custom:"",to:h.value.articles},{default:(0,l.w5)((({href:t,isActive:s})=>[(0,l._)("a",{class:(0,T.C_)({[e.itemBaseClass]:!0,active:g.value||s}),href:t,tabindex:"0",onClick:i[0]||(i[0]=(0,o.iM)((e=>P(h.value.articles,e)),["prevent"]))},(0,T.zw)((0,r.SU)(a)("NAV_FLOWS_ALL")),11,x)])),_:1},8,["to"])],64)}}},Y=q,Z=Y,j={class:"our-projects","data-test-id":"our-projects"},K={class:"title"},z={class:"items"},Q=["href"],X=(0,l.aZ)({__name:"our-projects",setup(e){const{msg:t}=(0,y.Q)(),i=[{name:t("NAV_PROJECT_HABR"),logoColor:"#629FBC",url:"/"},{name:t("NAV_PROJECT_QNA"),logoColor:"#434B60",url:"https://qna.habr.com?utm_source=habr&utm_medium=habr_top_panel"},{name:t("NAV_PROJECT_CAREER"),logoColor:"#6274BC",url:"https://career.habr.com?utm_source=habr&utm_medium=habr_top_panel"},{name:t("NAV_PROJECT_COURSES"),logoColor:"#6274BC",url:"https://career.habr.com/courses?utm_source=habr&utm_medium=habr_top_panel"}];return(e,s)=>((0,l.wg)(),(0,l.iD)("div",j,[(0,l._)("div",K,(0,T.zw)((0,r.SU)(t)("NAV_PROJECTS_SECTION_LABEL")),1),(0,l._)("div",z,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(i,((e,t)=>(0,l._)("a",{key:`${e.name}_${t}`,class:"item",href:e.url,target:"_blank"},[(0,l._)("span",{class:"logo",style:(0,T.j5)({backgroundColor:e.logoColor})},s[0]||(s[0]=[(0,l._)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,l._)("path",{d:"M15 3h-1.5v1.5H12V6H9V4.5H7.5V3H6v1.5h1.5v3H6V6H4.5v1.5H6V9H4.5v1.5H6v3H4.5V15H6v-1.5h1.5v3H9v3H7.5V21H9v-1.5h1.5v-3H12V18h3v1.5h1.5V18H15v-3h1.5v1.5H18V15h1.5v-1.5H21V12h-1.5v1.5H18V12h-1.5v-1.5h3V9H18V7.5h-1.5V6H18V4.5h1.5V3H18v1.5h-3V3Zm0 1.5V6h-1.5V4.5H15Z",fill:"#fff"})],-1)]),4),(0,l._)("span",null,(0,T.zw)(e.name),1)],8,Q))),64))])]))}});var J=i(83744);const ee=(0,J.Z)(X,[["__scopeId","data-v-a9a06501"]]),te=ee;var ie=i(39639),se=i(32851),ne=i(84183);const ae={class:"primary-navigation","data-test-id":"primary-navigation"},oe=["href","onClick","onFocus","onMouseenter"],re={key:1,class:"separator"},le={key:2,class:"help-links","data-test-id":"helpLinks"},ce="whatsNew",ue={__name:"primary-navigation",props:{highlightedItem:{type:String,default:""}},emits:["navigate","switch-content"],setup(e,{emit:t}){const{msg:i,langOptions:s}=(0,y.Q)(),n=(0,ne.s)(),{isMobileOnly:a}=(0,d.Jk)(n),c=t,u=(0,l.Fl)((()=>{const e={hl:s.value.hl};return[{id:1,title:i("NAV_SANDBOX_BECOME_AUTHOR"),route:{name:"MOST_IMPORTANT_SANBOX_INFO"}},{id:2,title:i("NAV_FEEDBACK"),route:{name:"FEEDBACK",params:e}},{id:3,title:i("FOOTER_HELP"),route:{name:"DOCS",params:{alias:"help",...e}}}]})),m=(0,l.Fl)((()=>"en"===s.value.fl)),p=(0,l.Fl)((()=>"en"===s.value.hl)),_=(0,l.Fl)((()=>!m.value&&!p.value));function h({hasMenuContent:e,alias:t}){return a.value?null:e?c("switch-content",t):null}return(t,s)=>{const n=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.iD)("nav",ae,[(0,r.SU)(a)?((0,l.wg)(),(0,l.j4)(Z,{key:0,"item-base-class":"menu-item","item-test-id":"menu-item"})):(0,l.kq)("",!0),(0,l.WI)(t.$slots,"banner"),(0,l._)("button",{class:(0,T.C_)(["menu-item",{active:e.highlightedItem===ce}]),"data-test-id":"whats-new-menu-item",tabindex:"0",onClick:s[0]||(s[0]=e=>c("switch-content",ce)),onMouseenter:s[1]||(s[1]=e=>(0,r.SU)(a)?null:c("switch-content",ce))},[(0,l._)("span",null,(0,T.zw)((0,r.SU)(i)("NAV_WHATS_NEW_ITEM")),1),(0,l.Wm)(ie.Z,{id:"arrow-forward","no-title":"",size:"24"})],34),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,r.SU)(se.H),(t=>((0,l.wg)(),(0,l.j4)(n,{key:t.id,custom:"",to:t.route},{default:(0,l.w5)((({href:s})=>[(0,l._)("a",{class:(0,T.C_)(["menu-item",{active:t.alias===e.highlightedItem}]),"data-test-id":"menu-item",href:s,tabindex:"0",onClick:(0,o.iM)((e=>c("navigate",t.route,t.hasMenuContent)),["prevent"]),onFocus:e=>h(t),onMouseenter:e=>h(t)},[(0,l._)("span",null,(0,T.zw)((0,r.SU)(i)(t.title)),1),t.hasMenuContent?((0,l.wg)(),(0,l.j4)(ie.Z,{key:0,id:"arrow-forward","no-title":"",size:"24"})):(0,l.kq)("",!0)],42,oe)])),_:2},1032,["to"])))),128)),(0,l.Wm)(n,{"active-class":"active",class:"menu-item",tabindex:"0",to:{name:"ARTICLES_LIST_ALL"},onClick:s[2]||(s[2]=(0,o.iM)((e=>c("navigate",{name:"ARTICLES_LIST_ALL"},!1)),["prevent"]))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)((0,r.SU)(i)("NAV_FLOWS_ALL")),1)])),_:1}),(0,r.SU)(a)?((0,l.wg)(),(0,l.iD)("div",re)):(0,l.kq)("",!0),(0,r.SU)(a)?((0,l.wg)(),(0,l.iD)("div",le,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.value,(e=>((0,l.wg)(),(0,l.j4)(n,{key:e.id,class:"menu-item",tabindex:"0",to:e.route,onClick:(0,o.iM)((t=>c("navigate",t,e.route)),["prevent"])},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.title),1)])),_:2},1032,["to","onClick"])))),128))])):(0,l.kq)("",!0),s[3]||(s[3]=(0,l._)("div",{class:"separator"},null,-1)),_.value?((0,l.wg)(),(0,l.j4)(te,{key:3})):(0,l.kq)("",!0)])}}},de=(0,J.Z)(ue,[["__scopeId","data-v-095ea07d"]]),me=de;var pe=i(41008),_e=i(13862),he=i(29208),ge=i.n(he),ve=i(30379);const Te=["alt","src"],Ee=(0,l.aZ)({__name:"expanded-menu-item",props:{data:{},route:{},isEntity:{type:Boolean},isCompany:{type:Boolean},block:{},isLinkExternal:{type:Boolean},link:{}},setup(e){const t=(0,ne.s)(),i={technologies:{additional:"title",image:"imageUrl",title:"title"},topics:{additional:"title",image:"imageUrl",title:"title"},topPosts:{additional:"author.alias",image:"author.avatarUrl",title:"titleHtml"},topAuthors:{additional:"alias",image:"avatarUrl",title:"fullname"},topCompanies:{additional:"alias",image:"imageUrl",title:"title"},newAuthors:{additional:"alias",image:"avatarUrl",title:"fullname"},activities:{additional:"title",image:"image.url",title:"title"},partnerActivities:{additional:"title",image:"image.url",title:"title"},updates:{additional:"url",image:"imageUrl",title:"title"}},s=e,{isMobile:n}=(0,d.Jk)(t),a=(0,l.Fl)((()=>{var e;return s.block?null===(e=i[s.block])||void 0===e?void 0:e.image:"image"})),o=(0,l.Fl)((()=>{var e;return s.block?null===(e=i[s.block])||void 0===e?void 0:e.title:"title"})),c=(0,l.Fl)((()=>{var e;return s.block?null===(e=i[s.block])||void 0===e?void 0:e.additional:"title"})),u=(0,l.Fl)((()=>n.value||"topPosts"===s.block?"":"two-lines-truncate"));return(e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e.isLinkExternal?"a":"RouterLink"),(0,l.dG)(e.isLinkExternal?{href:e.link,target:"_blank"}:{to:e.route},{class:"link","data-test-id":"link"}),{default:(0,l.w5)((()=>[e.isEntity?((0,l.wg)(),(0,l.j4)(ve.Z,{key:0,alias:(0,r.SU)(ge())(e.data,c.value),class:"image","data-test-id":"image",image:(0,r.SU)(ge())(e.data,a.value),size:"24",type:e.isCompany?"company":"user"},null,8,["alias","image","type"])):((0,l.wg)(),(0,l.iD)("img",{key:1,alt:e.data[c.value],class:"image","data-test-id":"image",src:(0,r.SU)(ge())(e.data,a.value)},null,8,Te)),(0,l._)("span",{class:(0,T.C_)(["caption",u.value])},[(0,l.Uk)((0,T.zw)(e.data[o.value])+" ",1),(0,l.WI)(e.$slots,"icon")],2)])),_:3},16))}}),Se=(0,J.Z)(Ee,[["__scopeId","data-v-f0f9fae7"]]),fe=Se,Ae={key:0,class:"expanded-menu-block"},be={class:"header"},Ie={class:"title","data-test-id":"title"},ye={__name:"expanded-menu-block",props:{items:{type:Array,default:null},title:{type:String,required:!0,default:""},columnsCount:{type:[Number,String],default:4},keyProp:{type:String,default:"key"},headerLink:{type:[Object,String],default:""},tabletColumnsCount:{type:[Number,String],default:3},listGap:{type:String,default:"12px"},headerLinkTitle:{type:String,default:""}},setup(e){const t=e,i=(0,ne.s)(),{device:s}=(0,d.Jk)(i),n=(0,l.Fl)((()=>({desktop:`repeat(${t.columnsCount}, minmax(0, 1fr))`,tablet:`repeat(${t.tabletColumnsCount}, minmax(0, 1fr))`,mobile:"1fr"}))),a=(0,l.Fl)((()=>({"grid-template-columns":n.value[s.value],gap:t.listGap}))),o=(0,l.Fl)((()=>!t.items||!!t.items.length));return(t,i)=>{const s=(0,l.up)("RouterLink");return o.value?((0,l.wg)(),(0,l.iD)("div",Ae,[(0,l._)("div",be,[(0,l._)("h3",Ie,(0,T.zw)(e.title),1),(0,l.WI)(t.$slots,"header-link",{},(()=>[e.headerLink?((0,l.wg)(),(0,l.j4)(s,{key:0,class:"header-link","data-test-id":"header-link",to:e.headerLink},{default:(0,l.w5)((()=>[(0,l._)("span",null,(0,T.zw)(e.headerLinkTitle||t.msg("ALL")),1),(0,l.Wm)(ie.Z,{id:"arrow-link","no-title":"",size:"12"})])),_:1},8,["to"])):(0,l.kq)("",!0)]))]),(0,l.WI)(t.$slots,"default",{},(()=>[e.items&&e.items.length?((0,l.wg)(),(0,l.iD)("ul",{key:0,class:"link-list","data-test-id":"link-list",style:(0,T.j5)(a.value)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,(i=>((0,l.wg)(),(0,l.iD)("li",{key:i[e.keyProp],class:"item","data-test-id":"item"},[(0,l.WI)(t.$slots,"item",(0,l.dG)({ref_for:!0},i),(()=>[(0,l.Wm)(fe,{data:i,"is-link-external":"",link:i.url},null,8,["data","link"])]))])))),128))],4)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0)}}},we=(0,J.Z)(ye,[["__scopeId","data-v-c0990ed0"]]),Pe=we;var Ce=i(67649);const ke={class:"menu-event"},Le={class:"image-wrapper"},Ne=["src"],Oe={class:"date"},Re={class:"title-wrapper"},Me=["innerHTML"],Ue={__name:"menu-event",props:{event:{type:Object,default:()=>({})}},setup(e){const{msg:t}=(0,y.Q)(),i=e,s=(0,r.iH)(null),{formattedDate:n}=(0,Ce.u)(i.event),a=(0,l.Fl)((()=>{const e=[];return i.event.isOnline&&e.push(t("EVENTS_ONLINE")),e.push(...i.event.geo),e.join(" • ")})),o=(0,l.Fl)((()=>{var e,t;return(null===(e=s.value)||void 0===e?void 0:e.scrollHeight)>(null===(t=s.value)||void 0===t?void 0:t.clientHeight)}));return(t,i)=>{const c=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.iD)("div",ke,[(0,l.Wm)(c,{to:{name:"EVENT",params:{id:e.event.id}}},{default:(0,l.w5)((()=>[(0,l._)("div",Le,[(0,l._)("img",{alt:"",class:"image",src:e.event.imageUrl},null,8,Ne)]),(0,l._)("div",Oe,(0,T.zw)((0,r.SU)(n)),1),(0,l._)("div",Re,[(0,l._)("span",{class:"title",innerHTML:e.event.titleHtml},null,8,Me)]),(0,l._)("div",{ref_key:"placesElement",ref:s,class:(0,T.C_)(["places",{truncated:o.value}])},(0,T.zw)(a.value),3)])),_:1},8,["to"])])}}},De=(0,J.Z)(Ue,[["__scopeId","data-v-82dbd477"]]),Be=De,He={key:0,class:"by-flow"},Fe={__name:"by-flow",props:{flowAlias:{type:String,default:"",required:!0}},setup(e){const t=e,{langOptions:i,msg:s}=(0,y.Q)(),n=(0,k.q)(),a=(0,ne.s)(),o=$(),{userShowAdv:c}=(0,d.Jk)(n),{isMobileOnly:u,isTablet:m}=(0,d.Jk)(a),{fl:p}=i.value,_=(0,l.Fl)((()=>"en"===p)),h=(0,l.Fl)((()=>o.getMenuDataByFlow(t.flowAlias))),g=(0,l.Fl)((()=>{var e,t;return s("FLOWS_MENU_BEST_ARTICLES",{period:null===(e=h.value)||void 0===e||null===(t=e.topPosts)||void 0===t?void 0:t.period})}));return(t,i)=>h.value?((0,l.wg)(),(0,l.iD)("div",He,[(0,l.Wm)(Pe,{"columns-count":"4","header-link":{name:"HUBS_BY_FLOW",params:{flowName:e.flowAlias}},items:h.value.technologies.items,style:(0,T.j5)({order:h.value.technologies.order}),title:(0,r.SU)(s)("FLOWS_MENU_TECHNOLOGIES",{count:0})},{item:(0,l.w5)((e=>[(0,l.Wm)(fe,{block:"technologies",data:e,route:{name:"ARTICLES_LIST_BY_HUB_ALL",params:{hubName:e.alias}}},null,8,["data","route"])])),_:1},8,["header-link","items","style","title"]),(0,l.Wm)(Pe,{"columns-count":"4","header-link":{name:"HUBS_BY_FLOW",params:{flowName:e.flowAlias}},items:h.value.topics.items,style:(0,T.j5)({order:h.value.topics.order}),title:(0,r.SU)(s)("FLOWS_MENU_TOPICS",{count:0})},{item:(0,l.w5)((e=>[(0,l.Wm)(fe,{block:"topics",data:e,"is-entity":"",route:{name:"ARTICLES_LIST_BY_HUB_ALL",params:{hubName:e.alias}}},null,8,["data","route"])])),_:1},8,["header-link","items","style","title"]),(0,l.Wm)(Pe,{"columns-count":"2","header-link":{name:"ARTICLES_LIST_BY_FLOW_ALL",params:{flowName:e.flowAlias}},"header-link-title":(0,r.SU)(s)("NAV_ALL"),items:h.value.topPosts.items,style:(0,T.j5)({order:h.value.topPosts.order}),"tablet-columns-count":"1",title:g.value},{item:(0,l.w5)((e=>[(0,l.Wm)(fe,{block:"topPosts",data:e,"is-entity":"",route:{name:"PUB_ARTICLE",params:{id:e.id}}},null,8,["data","route"])])),_:1},8,["header-link","header-link-title","items","style","title"]),(0,l.Wm)(Pe,{"columns-count":"4","header-link":{name:"AUTHORS_BY_FLOW",params:{flowName:e.flowAlias}},items:h.value.topAuthors.items,style:(0,T.j5)({order:h.value.topAuthors.order}),title:(0,r.SU)(s)("FLOWS_MENU_BEST_AUTHORS")},{item:(0,l.w5)((e=>[(0,l.Wm)(fe,{block:"topAuthors",data:e,"is-entity":"",route:{name:"USER_PROFILE",params:{login:e.alias}}},null,8,["data","route"])])),_:1},8,["header-link","items","style","title"]),_.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(Pe,{key:0,"columns-count":"4","header-link":{name:"COMPANIES_BY_FLOW",params:{flowName:e.flowAlias}},items:h.value.topCompanies.items,style:(0,T.j5)({order:h.value.topCompanies.order}),title:(0,r.SU)(s)("FLOWS_MENU_BEST_COMPANIES")},{item:(0,l.w5)((e=>[(0,l.Wm)(fe,{block:"topCompanies",data:e,"is-company":"","is-entity":"",route:{name:"COMPANY_PROFILE",params:{name:e.alias}}},null,8,["data","route"])])),_:1},8,["header-link","items","style","title"])),(0,r.SU)(c)?((0,l.wg)(),(0,l.iD)("div",{key:1,class:"content-banner",style:(0,T.j5)({order:h.value.banner.order})},[(0,l.Wm)(b.Z,{"adfox-id":"175085923595859013","div-id":"menuContentBanner","in-menu":"",params:{pp:"g",ps:"fnps",p2:"jlhu"},variant:"menu-content"})],4)):(0,l.kq)("",!0),_.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(Pe,{key:2,"columns-count":"4","header-link":{name:"EVENTS"},items:(0,r.SU)(m)?h.value.events.items.slice(0,3):h.value.events.items,"list-gap":(0,r.SU)(u)?"32px":"20px",style:(0,T.j5)({order:h.value.events.order}),title:(0,r.SU)(s)("FLOWS_MENU_EVENTS")},{item:(0,l.w5)((e=>[(0,l.Wm)(Be,{event:e},null,8,["event"])])),_:1},8,["items","list-gap","style","title"]))])):(0,l.kq)("",!0)}},Ve=(0,J.Z)(Fe,[["__scopeId","data-v-621be575"]]),$e=Ve;var We=i(77628),Ge=i(3739);const xe="/img/new-social-icons-sprite.svg",qe={__name:"social-icons",props:{appearance:{type:String,default:""}},setup(e){const t={en:[{key:"facebook",url:"https://www.facebook.com/habr.eng"},{key:"twitter",url:"https://twitter.com/habr_eng"},{key:"telegram",url:"https://t.me/habr_eng"}],ru:[{key:"vk",url:"https://vk.com/habr"},{key:"telegram",url:"https://telegram.me/habr_com"},{key:"youtube",url:"http://www.youtube.com/@Habr_com"},{key:"dzen",url:"https://dzen.ru/habr"}]},{langOptions:i}=(0,y.Q)(),s=(0,l.Fl)((()=>i.value.fl&&i.value.fl.includes("ru")?t.ru:t.en));return(t,i)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,T.C_)(["social-icons",e.appearance])},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.value,(e=>((0,l.wg)(),(0,l.j4)(Ge["default"],{id:`${xe}#social-logo-${e.key}`,key:e.key,class:"social-icon",href:e.url,rel:"nofollow noopener noreferrer",size:"36",tag:"a",target:"_blank"},null,8,["id","href"])))),128))],2))}},Ye=(0,J.Z)(qe,[["__scopeId","data-v-d6e8cb42"]]),Ze=Ye,je="data:image/webp;base64,UklGRsgCAABXRUJQVlA4TLwCAAAvP8APEM/CqJEkIbUL/rXyZuDGBsO2bRzRj99/2Pte7baNJEfiCu/yz/NM+V8MItkKsiTg/waQxCw2tYEZbCAJXkBbsiRLlCJLSBY0WVHIu0CUCe9IVjRZkpGGjGRJlmSJ0pCRXtqpTuTULmn0Rko3csHH8RsmdMxhiInBjKgD/hZoUiPKAuevlG+NS4YFkfGXRVBKwYAii1LCoFXq+TpuLre9zLA1sn497/HucZ0HnABBANg0SrLD/dwPd3d3644LDIf//+SkkX4gov8O3LaNJAndZt3OPbPHF0Ds9OLO5dMztX1+utyenwZbP3eeifXpZtaM361nEhovT9tULVIYb+mLDU8ln6Bj+pYMjKd1qYnNczGnZOaWkAMy9ETEA5n6KK1Dlltk7g63IQqgfzvTrRA0p33EFMRXD2vUNmQ0HYei+de7xmBue/pwne14KTM6XhN1Rn09N4Rt0xyu8xlrM38kwi4niPMd4MZsPopeaBfgXj0/HaHPHIuDaW01hIxFYv35Vq07EyFriWd522TdkWcX6jy7VxbrTtcrvQdAPBf3+nX3l6iS6mFY8gHqBJTTEfpTX8MJAU52pZnU2zBncIsOIHIplSPvkloKEbIp17CsBdlUcChEyoF8H5tSAf0OiNo9u8ZBb0oZZBgjyYoE9221mJ5Ml0jUMCvhYocU5pClKProXdOQ4ilLWHjTMMQSkYQEnOYunuIYFv5+EAwIbiTNU0fHAB+ksuoPcxLmADpvlaHqqXPQZpvIKqwLWOnQaBHZhAOSPoGeTh0OSUc2AXo7fTiIw3VJb/yrSzTe610YHHhIWiF46cpCRuvgd9+eTeA8tOYIeO8D/G7nS9ta5qYde4H/N72sg9zEmfzcTkDlqrNKNeGmU1Wb/2BgIp/g2pWVX8cPguRsDmxNFravH1zXsg/XZ0szIBUA";var Ke=i(84379);const ze={key:0,class:"whats-new"},Qe={class:"advert-trigger"},Xe={class:"advert-content"},Je={__name:"whats-new",setup(e){const{langOptions:t}=(0,y.Q)(),i=(0,k.q)(),s=$(),n=(0,Ke.W)(),{userShowAdv:a}=(0,d.Jk)(i),{activities:o,partnerActivities:c}=(0,d.Jk)(n),u=(0,l.Fl)((()=>"en"===t.value.fl)),m=(0,l.Fl)((()=>s.whatsNewMenuData)),p=[{key:"habr-corp",title:"Бизнес, контент и Хабр",url:"https://t.me/habrcorp",image:je},{key:"ithr-tusovka",title:"IT HR тусовка от ХК",url:"https://t.me/ithr_tusovka",image:je},{key:"habr-news",title:"Хабр Новости",url:"https://t.me/habr_com_news",image:je}];return(e,t)=>m.value?((0,l.wg)(),(0,l.iD)("div",ze,[u.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(Pe,{style:(0,T.j5)({order:m.value.socialNetwork.order}),title:e.msg("FLOWS_MENU_SOCIAL_MEDIA")},{default:(0,l.w5)((()=>[(0,l.Wm)(Ze,{appearance:"in-menu"})])),_:1},8,["style","title"]),(0,l.Wm)(Pe,{items:p,style:(0,T.j5)({order:m.value.thematicChannels.order}),"tablet-columns-count":"3",title:e.msg("FLOWS_MENU_THEMATIC_CHANNELS")},null,8,["style","title"]),(0,l.Wm)(Pe,{"columns-count":"2",items:(0,r.SU)(o),"key-prop":"link",style:(0,T.j5)({order:m.value.ourActivities.order}),"tablet-columns-count":"1",title:e.msg("FLOWS_MENU_OUR_ACTIVITIES")},{item:(0,l.w5)((e=>[(0,l.Wm)(fe,{block:"activities",data:e,"is-link-external":"",link:e.link.url},{icon:(0,l.w5)((()=>[(0,l.Wm)(ie.Z,{id:"external-link","no-title":"",size:"24"})])),_:2},1032,["data","link"])])),_:1},8,["items","style","title"]),(0,l.Wm)(Pe,{"columns-count":"2",items:(0,r.SU)(c),"key-prop":"link",style:(0,T.j5)({order:m.value.partnersActivities.order}),"tablet-columns-count":"1",title:e.msg("FLOWS_MENU_WITH_PARTNERS")},{item:(0,l.w5)((t=>[(0,l.Wm)(fe,{block:"partnerActivities",data:t,"is-link-external":"",link:t.link.url},{icon:(0,l.w5)((()=>[(0,l.Wm)(ie.Z,{id:"external-link","no-title":"",size:"24"})])),_:2},1032,["data","link"]),!1!==t.is_ad?((0,l.wg)(),(0,l.j4)(We.Z,{key:0,"disable-teleport":"",offset:[0,10],placement:"top"},{activator:(0,l.w5)((()=>[(0,l._)("span",Qe,(0,T.zw)(e.msg("FLOWS_MENU_ADVERTISING")),1)])),default:(0,l.w5)((()=>[(0,l._)("div",Xe,[(0,l._)("p",null,(0,T.zw)(t.company),1),(0,l._)("p",null,"ИНН "+(0,T.zw)(t.inn),1),(0,l._)("p",null,"erid: "+(0,T.zw)(t.token),1)])])),_:2},1024)):(0,l.kq)("",!0)])),_:1},8,["items","style","title"])],64)),(0,r.SU)(a)?((0,l.wg)(),(0,l.iD)("div",{key:1,class:"content-banner",style:(0,T.j5)({order:m.value.banner.order})},[(0,l.Wm)(b.Z,{"adfox-id":"175085923595859013","div-id":"menuContentBanner","in-menu":"",params:{pp:"g",ps:"fnps",p2:"jlhu"},variant:"menu-content"})],4)):(0,l.kq)("",!0),(0,l.Wm)(Pe,{items:m.value.newAuthors.items,"key-prop":"alias",style:(0,T.j5)({order:m.value.newAuthors.order}),"tablet-columns-count":"3",title:e.msg("FLOWS_MENU_BEST_NEW_AUTHORS")},{item:(0,l.w5)((e=>[(0,l.Wm)(fe,{block:"newAuthors",data:e,"is-entity":"",route:{name:"USER_PROFILE",params:{login:e.alias}}},null,8,["data","route"])])),_:1},8,["items","style","title"])])):(0,l.kq)("",!0)}},et=(0,J.Z)(Je,[["__scopeId","data-v-f0601a3a"]]),tt=et,it={key:0,class:"mobile-top"},st={class:"title","data-test-id":"mobile-view-title"},nt={key:1},at={class:"navigation-menu"},ot={class:"inner"},rt={"body-scroll-lock-ignore":"",class:"navigation-wrapper"},lt={key:0,class:"navigation-banner"},ct={class:"beta-notice"},ut=(0,l.aZ)({__name:"expanded-menu",props:{headerBanner:{}},emits:["close-menu"],setup(e,{emit:t}){var i;(0,o.sj)((e=>({"1cef9de0":w.value})));const s=(0,ne.s)(),n=(0,k.q)(),a=(0,I.tv)(),c=(0,I.yj)(),{msg:u}=(0,y.Q)(),m=t,p=(0,_e.$v)(),{isMobileOnly:_,isDesktop:h,isTablet:g}=(0,d.Jk)(s),{userShowAdv:v}=(0,d.Jk)(n),E=(0,r.iH)(!1),S=(0,r.iH)((null===(i=c.params)||void 0===i?void 0:i.flowName)||"whatsNew"),f=(0,r.iH)(null),A=(0,r.iH)(0),w=(0,r.iH)("0px"),P=(0,l.Fl)((()=>se.H.find((e=>e.alias===S.value))??null)),C=(0,l.Fl)((()=>"whatsNew"===S.value?u("NAV_WHATS_NEW_ITEM"):P.value&&P.value.hasMenuContent?u(P.value.title):u("NAV_MOBILE_VIEW_HEADER"))),L=(0,l.Fl)((()=>{var e;return(null===(e=c.params)||void 0===e?void 0:e.flowName)||""}));function N(e){E.value=!0,S.value=e}function O(e,t=!1){if(!h.value&&t&&e){var i;const t=null===e||void 0===e||null===(i=e.params)||void 0===i?void 0:i.flowName;"string"===typeof t&&N(t)}else a.push(e),m("close-menu")}function R(e){document.documentElement.style.setProperty("--ipad-locked-header-shift",e)}function M(){A.value=window.scrollY,document.documentElement.classList.add("is-locked"),A.value>48?R("-48px"):R(-1*A.value+"px")}function U(){R("0px"),document.documentElement.classList.remove("is-locked"),window.scrollTo(0,A.value)}function D(e){let t=e;while(t&&t!==document.body){if(null!==t.getAttribute("body-scroll-lock-ignore"))return t.scrollHeight>t.clientHeight;t=t.parentElement}return!1}function B(e){var t;if(_.value)return;const i=document.querySelector(".burger-button");null!==(t=f.value)&&void 0!==t&&t.contains(e.target)||i&&e.composedPath().includes(i)||m("close-menu")}function F(e){"Escape"===e.key&&m("close-menu")}function V(e){const t=e.target,i=null===t||void 0===t?void 0:t.closest("a");if(!i)return;const s=i.getAttribute("href");s===c.path&&(window.scrollTo({top:0}),m("close-menu"))}function $(){const{scrollY:t}=window,i=56,s=e.headerBanner?e.headerBanner.offsetHeight:0;w.value=`${(0,pe.Q)().isHeaderBannerInView?s-t+i:i}px`}function W(){E.value=!1,S.value=""}return(0,l.YP)(_,(e=>{e?(S.value=L.value||"",E.value=!1):S.value=L.value||"whatsNew"})),(0,l.bv)((()=>{$(),_.value&&(S.value=L.value),p&&M(),(0,H.disableBodyScroll)(f.value,{reserveScrollBarGap:!0,allowTouchMove:D}),document.addEventListener("click",B),document.addEventListener("keydown",F)})),(0,l.ic)((()=>{(0,H.disableBodyScroll)(f.value,{reserveScrollBarGap:!0,allowTouchMove:D})})),(0,l.Jd)((()=>{document.addEventListener("click",B),document.removeEventListener("keydown",F)})),(0,l.Ah)((()=>{(0,H.clearAllBodyScrollLocks)(),p&&U()})),(e,t)=>{var i;const s=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.iD)("div",{ref_key:"expandedMenu",ref:f,class:"expanded-menu","data-test-id":"expanded-menu"},[(0,r.SU)(_)?((0,l.wg)(),(0,l.iD)("div",it,[E.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:W},[(0,l.Wm)(ie.Z,{id:"arrow-back",size:"24",title:"arrow-back"})])):((0,l.wg)(),(0,l.iD)("button",{key:1,"data-test-id":"close-button",onClick:t[0]||(t[0]=e=>m("close-menu"))},[(0,l.Wm)(ie.Z,{id:"close-rounded",size:"24",title:"close"})])),(0,l._)("div",st,[null!==(i=P.value)&&void 0!==i&&i.route?((0,l.wg)(),(0,l.j4)(s,{key:0,to:P.value.route,onClick:t[1]||(t[1]=e=>O(P.value.route))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(C.value),1)])),_:1},8,["to"])):((0,l.wg)(),(0,l.iD)("span",nt,(0,T.zw)(C.value),1))])])):(0,l.kq)("",!0),(0,l._)("div",at,[(0,l._)("div",ot,[(0,l._)("div",rt,[(0,l.Wm)(me,{"highlighted-item":S.value,onNavigate:O,onSwitchContent:N},{banner:(0,l.w5)((()=>[(0,r.SU)(v)?((0,l.wg)(),(0,l.iD)("div",lt,[(0,l.Wm)(b.Z,{"adfox-id":"175085917646659013","div-id":"menuNavigationBanner","in-menu":"",params:{pp:"g",ps:"fnps",p2:"jlht"},variant:"menu-navigation"})])):(0,l.kq)("",!0)])),_:1},8,["highlighted-item"]),(0,l._)("div",ct,(0,T.zw)((0,r.SU)(u)("FLOWS_MENU_BETA")),1)]),(0,r.SU)(_)&&E.value||(0,r.SU)(h)||(0,r.SU)(g)?((0,l.wg)(),(0,l.iD)("div",{key:0,"body-scroll-lock-ignore":"",class:"content-wrapper",onClick:V},["whatsNew"===S.value?((0,l.wg)(),(0,l.j4)(tt,{key:0})):((0,l.wg)(),(0,l.j4)($e,{key:1,"flow-alias":S.value},null,8,["flow-alias"]))])):(0,l.kq)("",!0)])])],512)}}}),dt=(0,J.Z)(ut,[["__scopeId","data-v-5431a45b"]]),mt=dt;var pt=i(59545);const _t={class:"tm-footer"},ht={class:"tm-footer__container"},gt={key:0,class:"tm-footer__title"},vt=["href"];function Tt(e,t,i,s,n,a){const o=(0,l.up)("TMSvgImg"),r=(0,l.up)("TMSocialIcons"),c=(0,l.up)("TMPageSettingsForm"),u=(0,l.up)("TMPopupBase"),d=(0,l.up)("TMScrollLockTransition"),m=(0,l.up)("router-link"),p=(0,l.up)("TMFooterCopyright"),_=(0,l.up)("TMPageWidth");return(0,l.wg)(),(0,l.iD)("div",_t,[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l._)("div",ht,[e.isMobile?((0,l.wg)(),(0,l.iD)("div",gt,[(0,l._)("a",{class:"tm-svg-icon__wrapper tm-footer__title-link",href:e.homeUrl},[(0,l.Wm)(o,{id:e.logoIcon,class:"tm-svg-icon"},null,8,["id"])],8,vt)])):(0,l.kq)("",!0),(0,l.Wm)(r,{class:"tm-footer__social"}),((0,l.wg)(),(0,l.j4)(l.lR,{to:"#overlays"},[(0,l.Wm)(d,{name:"transition-fade"},{default:(0,l.w5)((()=>[e.pageSettingsVisible?((0,l.wg)(),(0,l.j4)(u,{key:0,onClose:t[1]||(t[1]=t=>e.pageSettingsVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"tm-popup-page-settings__form",onClosePopup:t[0]||(t[0]=t=>e.pageSettingsVisible=!1)})])),_:1})):(0,l.kq)("",!0)])),_:1})])),(0,l._)("button",{class:"tm-footer__link",onClick:t[2]||(t[2]=t=>e.pageSettingsVisible=!0)},[e.isMobile?((0,l.wg)(),(0,l.j4)(o,{key:0,id:"lang",class:"tm-footer__icon"})):(0,l.kq)("",!0),(0,l.Uk)(" "+(0,T.zw)(e.msg("FOOTER_LANG")),1)]),(0,l.Wm)(m,{class:"tm-footer__link",to:{name:"FEEDBACK"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("NAV_FEEDBACK")),1)])),_:1}),(0,l.Wm)(p)])])),_:1})])}const Et={class:"tm-footer-copyright"},St={class:"tm-copyright"},ft={class:"tm-copyright__years"},At={class:"tm-copyright__name"},bt=["href"];function It(e,t,i,s,n,a){return(0,l.wg)(),(0,l.iD)("div",Et,[(0,l._)("span",St,[(0,l._)("span",ft,"© 2006–"+(0,T.zw)(e.currentYear)+",",1),(0,l._)("span",At,[(0,l._)("a",{class:"tm-copyright__link",href:e.getLink,rel:"noopener",target:"_blank"}," Habr ",8,bt)])])])}const yt={name:"TMFooterCopyright",setup(){const{langOptions:e}=(0,y.Q)();return{langOptions:e}},computed:{currentYear(){return(new Date).getFullYear()},getLink(){return"ru"===this.langOptions.hl?"https://company.habr.com/":"https://company.habr.com/en/"}}},wt=(0,J.Z)(yt,[["render",It]]),Pt=wt;var Ct=i(26282),kt=i(97281),Lt=i(93827),Nt=i(39806);const Ot={name:"TMFooter",components:{TMFooterCopyright:Pt,TMSocialIcons:Ze,TMSvgIcon:Ge["default"],TMSvgImg:ie.Z,TMPageWidth:kt.Z,TMScrollLockTransition:Nt.Z,TMPageSettingsForm:Ct["default"],TMPopupBase:Lt["default"]},setup(){const{langOptions:e}=(0,y.Q)();return{langOptions:e}},data(){return{pageSettingsVisible:!1}},computed:{isMobile(){return(0,ne.s)().isMobile},isFlEnglish(){return"en"===this.langOptions.fl},homeUrl(){return`/${this.langOptions.hl}/`},logoIcon(){return`/img/habr-logo-${this.langOptions.hl}.svg#logo`}}},Rt=(0,J.Z)(Ot,[["render",Tt]]),Mt=Rt,Ut={class:"tm-footer-menu"},Dt={class:"tm-footer-menu__container"},Bt={class:"tm-footer-menu__block-title"},Ht={class:"tm-footer-menu__block-content"},Ft={class:"tm-footer-menu__list"},Vt=["href","rel","target"];function $t(e,t,i,s,n,a){const o=(0,l.up)("router-link"),r=(0,l.up)("TMPageWidth");return(0,l.wg)(),(0,l.iD)("div",Ut,[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",Dt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.groupMenuItems,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:`group-${t}`,class:"tm-footer-menu__block"},[(0,l._)("p",Bt,(0,T.zw)(e.name),1),(0,l._)("div",Ht,[(0,l._)("ul",Ft,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:`link-${t}`,class:"tm-footer-menu__list-item"},["_blank"===e.target||"_self"===e.target?((0,l.wg)(),(0,l.iD)("a",{key:0,href:e.link,rel:e.rel,target:e.target},(0,T.zw)(e.name),9,Vt)):((0,l.wg)(),(0,l.j4)(o,{key:1,class:"footer-menu__item-link",to:e.link},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.name),1)])),_:2},1032,["to"]))])))),128))])])])))),128))])])),_:1})])}var Wt=i(11954);const Gt="https://account.habr.com",xt="https://company.habr.com",qt={name:"TMFooterMenu",components:{TMPageWidth:kt.Z},setup(){const{msg:e,langOptions:t}=(0,y.Q)(),i=(0,Wt.P)(),{currentLocale:s}=(0,d.Jk)(i);return{msg:e,langOptions:t,currentLocale:s}},computed:{isFlEnglish(){return"en"===this.langOptions.fl},loginUrl(){const e="/kek/v1/auth/habrahabr/";return`${e}?back=${this.$route.path}&hl=${this.langOptions.hl}`},signUpUrl(){const e="/kek/v1/auth/habrahabr-register/";return`${e}?back=${this.$route.path}&hl=${this.langOptions.hl}`},loggedInAccountItems(){return[{name:this.msg("NAV_PROFILE"),link:{name:"ARTICLES_LIST_BY_USER",params:{login:(0,k.q)().userAlias,hl:this.langOptions.hl}}},{name:this.msg("TRACKER_TITLE"),link:{name:"TRACKER",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_CONVERSATIONS"),link:{name:"CONVERSATIONS",params:{hl:this.langOptions.hl}}},{name:this.msg("SETTINGS"),link:{name:"USER_SETTINGS_PROFILE",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_PPA"),link:{name:"PPA_ROOT",params:{hl:this.langOptions.hl}}}]},loggedOutAccountItems(){return[{name:this.msg("LOG_IN"),link:this.loginUrl,target:"_self",rel:"nofollow"},{name:this.msg("SIGN_UP"),link:this.signUpUrl,target:"_self",rel:"nofollow"}]},groupMenuItems(){const e=(0,k.q)().isLoggedIn?this.loggedInAccountItems:this.loggedOutAccountItems,t="ru"!==this.$route.params.hl||this.isFlEnglish?[]:[{name:this.msg("NAV_COMPANIES"),link:{name:"COMPANIES",params:{hl:this.langOptions.hl}}}];return[{name:this.msg("NAV_ACCOUNT"),items:e},{name:this.msg("NAV_SECTIONS"),items:[{name:this.msg("NAV_ARTICLES"),link:{name:"ARTICLES_LIST_ALL",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_NEWS"),link:{name:"NEWS_LIST_ALL",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_HUBS"),link:{name:"HUBS",params:{hl:this.langOptions.hl}}},...t,{name:this.msg("NAV_AUTHORS"),link:{name:"USERS",params:{hl:this.langOptions.hl}}},{name:this.msg("NAV_SANDBOX"),link:{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST",params:{hl:this.langOptions.hl}}}]},{name:this.msg("NAV_INFO"),items:[{name:this.msg("NAV_HELP"),link:{name:"DOCS",params:{alias:"help"}}},{name:this.msg("NAV_FOR_AUTHORS"),link:{name:"DOCS_ARTICLE",params:{alias:"authors",articleAlias:"codex"}}},{name:this.msg("NAV_FOR_COMPANIES"),link:{name:"DOCS_ARTICLE",params:{alias:"companies",articleAlias:"corpblogs"}}},{name:this.msg("NAV_DOCUMENTS"),link:{name:"DOCS_ARTICLE",params:{alias:"docs",articleAlias:"transparency"}}},{name:this.msg("NAV_AGREEMENT"),link:`${Gt}/info/agreement/?hl=${this.currentLocale}`,target:"_blank"},{name:this.msg("NAV_CONFIDENTIAL"),link:`${Gt}/info/confidential/?hl=${this.currentLocale}`,target:"_blank"}]},{name:this.msg("NAV_SERVICE"),items:[{name:this.msg("NAV_CORPORATE_BLOGS"),link:`${xt}/${this.langOptions.hl}/corporate-blogs/`,target:"_blank"},{name:this.msg("NAV_MEDIA_ADVERTISING"),link:`${xt}/${this.langOptions.hl}/advertising/`,target:"_blank"},{name:this.msg("NAV_NATIVE_ADVERTISING"),link:`${xt}/${this.langOptions.hl}/native-special/`,target:"_blank"},{name:this.msg("NAV_EDUCATION_PROGRAMS"),link:`${xt}/${this.langOptions.hl}/education-programs/`,target:"_blank"},{name:this.msg("NAV_STARTUPS"),link:`${xt}/${this.langOptions.hl}/hello-startup/`,target:"_blank"}]}]}}},Yt=(0,J.Z)(qt,[["render",$t]]),Zt=Yt,jt={class:"tm-header__container"},Kt={class:"tm-header__logo-wrap"},zt=["href"],Qt=["href"];function Xt(e,t,i,s,n,a){const o=(0,l.up)("HeaderFeature"),r=(0,l.up)("TMSvgImg"),c=(0,l.up)("BurgerButton"),u=(0,l.up)("TMHabrLogoNyRu"),d=(0,l.up)("RouterLink"),m=(0,l.up)("TMHeaderUserMenu"),p=(0,l.up)("TMPageWidth");return(0,l.wg)(),(0,l.iD)("header",{class:(0,T.C_)(["tm-header",a.bem("tm-header",{"with-feature":s.isFeatureShown,"feature-hidden":s.isFeatureShown&&s.isFeatureHiddenOnTop&&s.isMobileOnly})]),"data-test-id":"header"},[s.isFeatureShown&&s.isMobileOnly?((0,l.wg)(),(0,l.j4)(o,{key:0,class:"tm-header__feature"})):(0,l.kq)("",!0),(0,l.Wm)(p,{"full-width":s.isMobilePwa},{default:(0,l.w5)((()=>[(0,l._)("div",jt,[a.showBackButton&&s.isMobilePwa?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"tm-header__button tm-header__button_back",type:"button",onClick:t[0]||(t[0]=(...e)=>a.goBack&&a.goBack(...e))},[(0,l.Wm)(r,{id:"arrow-back",class:"icon_arrow-back"})])):((0,l.wg)(),(0,l.j4)(c,{key:1,class:"tm-header__button tm-header__burger",opened:s.isFlowsMenuVisible,onClick:s.toggleFlowsMenu},null,8,["opened","onClick"])),(0,l._)("span",Kt,[(0,l._)("a",{class:(0,T.C_)(["tm-header__logo",a.bem("tm-header__logo",{hl:s.langOptions.hl,ny:a.isNYPeriod})]),href:a.homeUrl},[a.isNYPeriod&&"ru"===s.langOptions.hl?((0,l.wg)(),(0,l.j4)(u,{key:0,class:"tm-header__icon"})):((0,l.wg)(),(0,l.j4)(r,{key:1,id:a.logoIcon,class:"tm-header__icon"},null,8,["id"]))],10,zt)]),t[1]||(t[1]=(0,l._)("span",{class:"tm-header__divider"},null,-1)),(0,l.Wm)(d,{custom:"",to:s.allFLowsLinkRoute},{default:(0,l.w5)((({href:t})=>[(0,l._)("a",{class:"tm-header__all-flows",href:t},(0,T.zw)(e.msg("NAV_FLOWS_ALL")),9,Qt)])),_:1},8,["to"]),s.isFeatureShown&&!s.isMobileOnly?((0,l.wg)(),(0,l.j4)(o,{key:2,class:"tm-header__feature"})):(0,l.kq)("",!0),(0,l.Wm)(m,{class:"tm-base-layout__user-menu"})])])),_:1},8,["full-width"])],2)}const Jt=["aria-expanded"],ei=(0,l.aZ)({__name:"burger-button",props:{opened:{type:Boolean}},setup(e){return(e,t)=>((0,l.wg)(),(0,l.iD)("button",{"aria-expanded":e.opened,"aria-label":"Toggle menu",class:(0,T.C_)(["burger-button",{opened:e.opened}])},t[0]||(t[0]=[(0,l._)("span",{class:"line top"},null,-1),(0,l._)("span",{class:"line middle"},null,-1),(0,l._)("span",{class:"line bottom"},null,-1)]),10,Jt))}}),ti=(0,J.Z)(ei,[["__scopeId","data-v-6fbdf023"]]),ii=ti;var si=i(48665),ni=i(53591),ai=i(61897);const oi={class:"header-feature"},ri=["href"],li=["alt","src"],ci={class:"labeling-popup"},ui=["innerHTML"],di=(0,l.aZ)({__name:"header-feature",setup(e){const t=(0,l.Fl)((()=>(0,Ke.W)().feature)),{msg:i}=(0,y.Q)(),s=(0,r.iH)(!1);function n(){s.value=!1}return(e,a)=>{var o;return(0,l.wg)(),(0,l.iD)("div",oi,[t.value?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"link",href:t.value.link.url,rel:"noopener",target:"_blank"},[(0,l._)("img",{alt:t.value.title,class:"icon",height:"20",src:t.value.image.url,width:"20"},null,8,li),(0,l.Uk)(" "+(0,T.zw)(t.value.title),1)],8,ri)):(0,l.kq)("",!0),null!==(o=t.value)&&void 0!==o&&o.is_ad?((0,l.wg)(),(0,l.j4)(ni.Z,{key:1},{default:(0,l.w5)((()=>[(0,l._)("span",{class:"adv",onClick:a[0]||(a[0]=e=>s.value=!0)},(0,T.zw)((0,r.SU)(i)("ADV_LABELING_TITLE")),1),((0,l.wg)(),(0,l.j4)(l.lR,{to:"#overlays"},[s.value?((0,l.wg)(),(0,l.j4)(ai.Z,{key:0,"no-close-button":"",title:(0,r.SU)(i)("ADV_LABELING_TITLE"),onClose:n},{default:(0,l.w5)((()=>[(0,l._)("div",ci,[(0,l._)("div",null,[(0,l._)("p",null,(0,T.zw)(t.value.company)+",",1),(0,l._)("p",null,(0,T.zw)((0,r.SU)(i)("ADV_LABELING_INN"))+": "+(0,T.zw)(t.value.inn)+",",1),(0,l._)("p",null,"erid: "+(0,T.zw)(t.value.token),1)]),(0,l._)("div",{innerHTML:(0,r.SU)(i)("ADV_LABELING_CONTACT")},null,8,ui),(0,l.Wm)(si.Z,{"style-type":"transparent",onClick:n},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)((0,r.SU)(i)("CLOSE")),1)])),_:1})])])),_:1},8,["title"])):(0,l.kq)("",!0)]))])),_:1})):(0,l.kq)("",!0)])}}}),mi=(0,J.Z)(di,[["__scopeId","data-v-587bd921"]]),pi=mi,_i={class:"tm-header-user-menu"},hi={key:0,class:"tm-header-user-menu__notifications-count"},gi={class:"tm-header-user-menu__item tm-header-user-menu__write"},vi=["onClick"],Ti={class:"tm-header-user-menu__popup-wrapper"},Ei={class:"tm-header-user-menu__popup-wrapper"},Si={key:2,class:"tm-header-user-menu__item tm-header-user-menu__avatar"},fi=["textContent"],Ai=["data-test-id"],bi={class:"tm-header-user-menu__item"};function Ii(e,t,i,s,n,a){const o=(0,l.up)("TMSvgImg"),r=(0,l.up)("RouterLink"),c=(0,l.up)("TMCompanyAdminDropdown"),u=(0,l.up)("TMDropdown"),d=(0,l.up)("TMPopup"),m=(0,l.up)("TMEntityImage"),p=(0,l.up)("TMUserMenu"),_=(0,l.up)("TMButtonBase"),h=(0,l.up)("TMLoginLink"),g=(0,l.up)("TMSidebar"),v=(0,l.up)("TMScrollLockTransition"),E=(0,l.up)("TMPageSettingsForm"),S=(0,l.up)("TMPopupBase"),f=(0,l.up)("RestrictionHint");return(0,l.wg)(),(0,l.iD)("div",_i,[(0,l.Wm)(r,{class:"tm-header-user-menu__item tm-header-user-menu__search","data-test-id":"search-button",to:a.toSearchPage},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{id:"search",class:"tm-header-user-menu__icon tm-header-user-menu__icon_search",size:"24"})])),_:1},8,["to"]),s.isLoggedIn?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"tm-header-user-menu__item tm-header-user-menu__notifications","data-test-id":"tracker-link",to:{name:"TRACKER"}},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{id:"notifications",class:"tm-header-user-menu__icon tm-header-user-menu__icon_notifications",size:"24"}),a.showUnreadNotifications?((0,l.wg)(),(0,l.iD)("span",hi,(0,T.zw)(a.totalUnreadNotificationsFormatted),1)):(0,l.kq)("",!0)])),_:1})):(0,l.kq)("",!0),a.adminDropdownVisible?((0,l.wg)(),(0,l.j4)(c,{key:1,class:"tm-header-user-menu__item"})):(0,l.kq)("",!0),(0,l._)("div",gi,[a.showDropdown?((0,l.wg)(),(0,l.j4)(u,{key:0,align:"right",class:"write-dropdown"},{head:(0,l.w5)((({toggle:e})=>[(0,l._)("button",{class:"tm-header-user-menu__toggle",onClick:t=>s.isDesktop?e():n.editorPopupVisible=!0},[(0,l.Wm)(o,{id:"write",class:"tm-header-user-menu__icon tm-header-user-menu__icon_write",size:"24"})],8,vi)])),body:(0,l.w5)((()=>[(0,l._)("div",Ti,[a.canCreateArticleAndNews?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_ARTICLE"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_ARTICLE")),1)])),_:1})):((0,l.wg)(),(0,l.j4)(r,{key:1,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_SANDBOX"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_ARTICLE")),1)])),_:1})),a.canCreatePost?((0,l.wg)(),(0,l.j4)(r,{key:2,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_POST"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_POST")),1)])),_:1})):(0,l.kq)("",!0),a.canCreateArticleAndNews?((0,l.wg)(),(0,l.j4)(r,{key:3,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_NEWS"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_NEWS")),1)])),_:1})):(0,l.kq)("",!0),s.canPostVoice?((0,l.wg)(),(0,l.j4)(r,{key:4,class:"tm-header-user-menu__popup-item",to:{name:"VOICE"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("VOICE_TITLE")),1)])),_:1})):(0,l.kq)("",!0),s.isSuperAdmin?((0,l.wg)(),(0,l.j4)(r,{key:5,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_MEGAPOST"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_MEGAPOST")),1)])),_:1})):(0,l.kq)("",!0)])])),_:1})):s.isLoggedIn?((0,l.wg)(),(0,l.j4)(r,{key:1,to:{name:"PUBLICATION_SANDBOX"}},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{id:"write",class:"tm-header-user-menu__icon tm-header-user-menu__icon_write",size:"24"})])),_:1})):((0,l.wg)(),(0,l.iD)("div",{key:2,onClick:t[0]||(t[0]=(...e)=>a.togglePublicationHint&&a.togglePublicationHint(...e))},[(0,l.Wm)(o,{id:"write",class:"tm-header-user-menu__icon tm-header-user-menu__icon_write",size:"24"})])),n.editorPopupVisible?((0,l.wg)(),(0,l.j4)(d,{key:3,onClose:t[7]||(t[7]=e=>n.editorPopupVisible=!1)},{body:(0,l.w5)((()=>[(0,l._)("div",Ei,[a.canCreateArticleAndNews?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_ARTICLE"},onClick:t[1]||(t[1]=e=>n.editorPopupVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_ARTICLE")),1)])),_:1})):((0,l.wg)(),(0,l.j4)(r,{key:1,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_SANDBOX"},onClick:t[2]||(t[2]=e=>n.editorPopupVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_ARTICLE")),1)])),_:1})),a.canCreatePost?((0,l.wg)(),(0,l.j4)(r,{key:2,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_POST"},onClick:t[3]||(t[3]=e=>n.editorPopupVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_POST")),1)])),_:1})):(0,l.kq)("",!0),a.canCreateArticleAndNews?((0,l.wg)(),(0,l.j4)(r,{key:3,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_NEWS"},onClick:t[4]||(t[4]=e=>n.editorPopupVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_NEWS")),1)])),_:1})):(0,l.kq)("",!0),s.canPostVoice?((0,l.wg)(),(0,l.j4)(r,{key:4,class:"tm-header-user-menu__popup-item",to:{name:"VOICE"},onClick:t[5]||(t[5]=e=>n.editorPopupVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("VOICE_TITLE")),1)])),_:1})):(0,l.kq)("",!0),s.isSuperAdmin?((0,l.wg)(),(0,l.j4)(r,{key:5,class:"tm-header-user-menu__popup-item",to:{name:"PUBLICATION_MEGAPOST"},onClick:t[6]||(t[6]=e=>n.editorPopupVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("PUBLICATION_CREATE_MEGAPOST")),1)])),_:1})):(0,l.kq)("",!0)])])),_:1})):(0,l.kq)("",!0)]),s.isLoggedIn?((0,l.wg)(),(0,l.iD)("div",Si,[!s.isDesktop&&!s.isTablet||s.isPwa?((0,l.wg)(),(0,l.iD)("button",{key:1,class:(0,T.C_)(["tm-header-user-menu__toggle",{"tm-header-user-menu__toggle_has-conversations":s.unreadConversations>0}]),"data-test-id":a.toggleTestId,onClick:t[8]||(t[8]=e=>n.overlayVisible=!0)},[(0,l.Wm)(m,{alias:s.user.alias,image:s.user.avatarUrl,size:s.isMobile&&!s.isTablet?24:32,type:"user"},null,8,["alias","image","size"])],10,Ai)):((0,l.wg)(),(0,l.j4)(u,{key:0,align:"right"},{head:(0,l.w5)((({toggle:e})=>[(0,l.Wm)(m,{alias:s.user.alias,"data-test-id":a.toggleTestId,image:s.user.avatarUrl,size:32,type:"user",onClick:e},null,8,["alias","data-test-id","image","onClick"]),s.unreadConversations?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"tm-header-user-menu__conversations-count",textContent:(0,T.zw)(s.unreadConversations)},null,8,fi)):(0,l.kq)("",!0)])),body:(0,l.w5)((({visible:e})=>[e?((0,l.wg)(),(0,l.j4)(p,{key:0,onOpenPageSettings:a.openPageSettings},null,8,["onOpenPageSettings"])):(0,l.kq)("",!0)])),_:1}))])):((0,l.wg)(),(0,l.iD)(l.HY,{key:3},[(0,l._)("div",bi,[(0,l._)("button",{class:"tm-header-user-menu__toggle","data-test-id":"user-menu-settings",onClick:t[9]||(t[9]=(...e)=>a.openPageSettings&&a.openPageSettings(...e))},[(0,l.Wm)(o,{id:"page-settings",class:"tm-header-user-menu__icon",size:24})])]),(0,l.Wm)(h,{class:"tm-header-user-menu__item","ga-event":"button_login"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{class:"tm-header-user-menu__login"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(e.msg("NAV_LOGIN")),1)])),_:1})])),_:1})],64)),(0,l.Wm)(v,{name:"fade-sidebar"},{default:(0,l.w5)((()=>[n.overlayVisible?((0,l.wg)(),(0,l.j4)(g,{key:0,position:"right",onClose:t[11]||(t[11]=e=>n.overlayVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{onClose:t[10]||(t[10]=e=>n.overlayVisible=!1),onOpenPageSettings:a.openPageSettings},null,8,["onOpenPageSettings"])])),_:1})):(0,l.kq)("",!0)])),_:1}),((0,l.wg)(),(0,l.j4)(l.lR,{to:"#overlays"},[(0,l.Wm)(v,{name:"transition-fade"},{default:(0,l.w5)((()=>[n.pageSettingsVisible?((0,l.wg)(),(0,l.j4)(S,{key:0,onClose:a.closePageSettings},{default:(0,l.w5)((()=>[(0,l.Wm)(E,{onClosePopup:a.closePageSettings},null,8,["onClosePopup"])])),_:1},8,["onClose"])):(0,l.kq)("",!0)])),_:1})])),n.isHintVisible?((0,l.wg)(),(0,l.j4)(f,(0,l.dG)({key:4},n.hintProps,{onClose:t[12]||(t[12]=e=>n.isHintVisible=!1)}),null,16)):(0,l.kq)("",!0)])}const yi=["href","title"],wi=["title","onClick"],Pi={class:"company-admin-dropdown__list"};function Ci(e,t,i,s,n,a){const o=(0,l.up)("TMSvgImg"),r=(0,l.up)("TMCompaniesAdminList"),c=(0,l.up)("TMDropdown");return(0,l.wg)(),(0,l.j4)(c,{align:"right",class:"company-admin-dropdown",variant:"noBodyPadding"},{head:(0,l.w5)((({toggle:t})=>[1===a.companiesAdmin.length?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"company-admin-dropdown__button",href:a.companyAdminLink,title:e.msg("COMPANY_ADMIN")},[(0,l.Wm)(o,{id:"company",class:"company-admin-dropdown__icon",size:"24"})],8,yi)):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"company-admin-dropdown__button",title:e.msg("COMPANIES_ADMIN"),onClick:t},[(0,l.Wm)(o,{id:"company",class:"company-admin-dropdown__icon",size:"24"}),(0,l.Wm)(o,{id:"arrow-down",class:"company-admin-dropdown__icon company-admin-dropdown__icon_arrow",size:"20"})],8,wi))])),body:(0,l.w5)((()=>[(0,l._)("div",Pi,[(0,l.Wm)(r,{companies:a.companiesAdmin},null,8,["companies"])])])),_:1})}var ki=i(92364),Li=i(51714);const Ni={name:"TMCompanyAdminDropdown",components:{TMCompaniesAdminList:ki.Z,TMSvgImg:ie.Z,TMDropdown:Li.Z},computed:{companiesAdmin(){return(0,k.q)().companiesAdmin},companyAdminLink(){return`https://habr.com/company/${this.companiesAdmin[0].alias}/admin/`}}},Oi=(0,J.Z)(Ni,[["render",Ci]]),Ri=Oi;var Mi=i(89523),Ui=i(31596),Di=i(6605);const Bi={class:"tm-sidebar__container"};function Hi(e,t,i,s,n,a){const o=(0,l.up)("TMOverlay");return(0,l.wg)(),(0,l.j4)(o,{class:(0,T.C_)(["tm-sidebar",`tm-sidebar_${i.position}`]),"data-test-id":"modal-sidebar",onClose:t[0]||(t[0]=t=>e.$emit("close"))},{default:(0,l.w5)((()=>[(0,l._)("div",{class:(0,T.C_)(["tm-sidebar__wrapper",`tm-sidebar__wrapper_${i.position}`]),style:(0,T.j5)(a.style)},[(0,l._)("div",Bi,[(0,l.WI)(e.$slots,"default")])],6)])),_:3},8,["class"])}var Fi=i(18490),Vi=i(42185),$i=i(17187),Wi=i(39309);const Gi=Wi.Z,xi={SCROLL:"scroll"},qi=new $i.EventEmitter;function Yi(){qi.emit(xi.SCROLL)}if(Gi.addEventListener){const e=100,t=a()(Yi,e);Gi.addEventListener("scroll",t)}function Zi(e){qi.on(xi.SCROLL,e)}var ji=i(30121);const Ki=(0,d.Q_)("viewport",{state:()=>({prevScrollY:{},scrollY:0,width:0}),actions:{init(){this.width=window.innerWidth,window.addEventListener("resize",(()=>{this.width=window.innerWidth})),Zi((()=>{(0,Vi.AD)().then((e=>{this.scrollY=e}))}))},restorePrevScrollY(e){const t=this.prevScrollY[e];"number"===typeof t&&(0,ji.X5)(t)},setPrevScrollY(e){this.prevScrollY[e]=this.scrollY}}}),zi=[];let Qi=!1;const Xi={LEFT:50,RIGHT:-50};function Ji(e){return{delta:e,isLeft:e>Xi.LEFT,isRight:e<Xi.RIGHT}}function es(e){return{delta:e}}function ts(e){if(zi.push(e),!Qi){let e=0;Qi=!0,window.addEventListener("touchstart",(t=>{const i=t.changedTouches[0];e=i.pageX})),window.addEventListener("touchmove",(t=>{const i=t.changedTouches[0],s=e-i.pageX,n=es(s);zi.forEach((e=>e(n)))})),window.addEventListener("touchend",(t=>{const i=t.changedTouches[0];e-=i.pageX;const s=Ji(e);zi.forEach((e=>e(s)))}))}return e}function is(e){let t=null;zi.some(((i,s)=>i===e&&(t=s,!0))),null!==t&&zi.splice(t)}const ss={right:"isRight",left:"isLeft"},ns={name:"TMSidebarModal",components:{TMOverlay:Fi.Z},props:{position:{required:!0,type:String}},emits:["close"],data(){return{delta:0,swipeListener:null}},computed:{parallax(){const e=2;return Math.abs(this.delta)/Ki().width/e},style(){return"left"===this.position&&this.delta>0?{transform:`translateX(${-100*this.parallax}%)`}:"right"===this.position&&this.delta<0?{transform:`translateX(${100*this.parallax}%)`}:null}},watch:{$route(){this.$emit("close")}},beforeUnmount(){is(this.swipeListener)},mounted(){this.swipeListener=ts((e=>{this.delta=e.delta,e[ss[this.position]]&&this.$emit("close")}))}},as=(0,J.Z)(ns,[["render",Hi]]),os=as,rs=(0,pt.Rd)((()=>Promise.resolve().then(i.bind(i,93827)))),ls=(0,pt.Rd)((()=>Promise.resolve().then(i.bind(i,26282)))),cs=(0,pt.Rd)((()=>i.e(2859).then(i.bind(i,72859))),pt.Es,(()=>(0,l.h)(Ui.Z,{type:"userMenu"}))),us={name:"TMHeaderUserMenu",components:{RestrictionHint:Di.Z,TMLoginLink:Mi.Z,TMPageSettingsForm:ls,TMPopupBase:rs,TMScrollLockTransition:Nt.Z,TMPopup:ai.Z,TMCompanyAdminDropdown:Ri,TMDropdown:Li.Z,TMSidebar:os,TMEntityImage:ve.Z,TMSvgImg:ie.Z,TMUserMenu:cs,TMButtonBase:D.Z},setup(){const e=(0,ne.s)(),t=(0,k.q)(),{langOptions:i}=(0,y.Q)(),{isLoggedIn:s,companiesAdmin:n,canPostVoice:a,isSuperAdmin:o,isReadOnlyOrCommentsManual:r,isReadOnlyOrReadAndComment:l,totalUnreadNotifications:c,unreadConversations:u,user:m}=(0,d.Jk)(t),{isDesktop:p,isMobile:_,isTablet:h,isPwa:g}=(0,d.Jk)(e);return{isDesktop:p,isMobile:_,isTablet:h,isPwa:g,isLoggedIn:s,companiesAdmin:n,canPostVoice:a,isSuperAdmin:o,isReadOnlyOrCommentsManual:r,isReadOnlyOrReadAndComment:l,totalUnreadNotifications:c,unreadConversations:u,user:m,langOptions:i}},data(){return{dropdownVisible:!1,overlayVisible:!1,pageSettingsVisible:!1,editorPopupVisible:!1,isMounted:!1,isHintVisible:!1,hintProps:null}},computed:{showUnreadNotifications(){return this.isMounted&&this.totalUnreadNotifications},totalUnreadNotificationsFormatted(){return this.totalUnreadNotifications>99?"99+":`+${this.totalUnreadNotifications}`},toggleTestId(){return this.isLoggedIn?this.unreadConversations>0?"menu-toggle-unread":"menu-toggle-user":"menu-toggle-guest"},toSearchPage(){return{name:"SEARCH_QUERY_RESULTS",params:{hl:this.langOptions.hl}}},adminDropdownVisible(){return this.isDesktop&&!this.isPwa&&this.isLoggedIn&&0!==this.companiesAdmin.length},showDropdown(){return this.isLoggedIn&&(this.canPostVoice||this.canCreatePost)},canCreatePost(){return!this.isReadOnlyOrCommentsManual},canCreateArticleAndNews(){return!this.isReadOnlyOrReadAndComment}},mounted(){this.isMounted=!0},methods:{openPageSettings(){this.pageSettingsVisible=!0},togglePublicationHint(e){this.hintProps={target:e.target,messageKey:"PUBLICATION_AUTHOR_HINT",eventLabel:"hint_reg_publish_go",placement:"bottom-end",offset:[72,12]},this.isHintVisible=!this.isHintVisible,this.isHintVisible&&(0,L.IZ)("hint_reg_publish_open")},closePageSettings(){this.pageSettingsVisible=!1}}},ds=(0,J.Z)(us,[["render",Ii]]),ms=ds;var ps=i(25109),_s=i(68171);const hs=(0,pt.Rd)((()=>i.e(3959).then(i.bind(i,73959))),pt.MN),gs={name:"TMHeader",components:{BurgerButton:ii,HeaderFeature:pi,TMSvgImg:ie.Z,TMHeaderUserMenu:ms,TMPageWidth:kt.Z,TMHabrLogoNyRu:hs},emits:["lang"],setup(){const{langOptions:e}=(0,y.Q)(),t=(0,ne.s)(),{isMobilePwa:i,isMobileOnly:s,isPwa:n}=(0,d.Jk)(t),a=(0,k.q)(),o=(0,l.Fl)((()=>a.isLoggedIn)),c=(0,l.Fl)((()=>({name:o.value?"ALL_FLOWS":"ARTICLES_LIST_ALL",params:{hl:e.value.hl}}))),u=$(),{isMenuVisible:m}=(0,d.Jk)(u);function p(){u.setMenuVisibility(!m.value)}const _=(0,l.Fl)((()=>"en"!==e.value.fl&&!i.value&&(0,Ke.W)().hasLoaded&&(0,Ke.W)().isPromoDataAvailable["featurer"])),h=(0,r.iH)(!1);let g=null;const v=84;function T(){if(window.scrollY<=v)h.value=!1;else if(g=document.querySelector("[data-hide-header-feature]"),g){const e=g.getBoundingClientRect();h.value=e.top<=window.innerHeight}}(0,l.bv)((()=>{document.addEventListener("scroll",T,{passive:!0})})),(0,l.Jd)((()=>{document.removeEventListener("scroll",T,{passive:!0})}));const E=(0,I.yj)();return(0,l.YP)((()=>E.name),(()=>{(0,l.Y3)((()=>{window&&window.scrollY<=v&&(h.value=!1)}))})),{isMobileOnly:s,isMobilePwa:i,langOptions:e,allFLowsLinkRoute:c,isFlowsMenuVisible:m,isPwa:n,toggleFlowsMenu:p,isFeatureShown:_,isFeatureHiddenOnTop:h}},computed:{homeUrl(){return this.isPwa?"/pwa/":`/${this.langOptions.hl}/feed`},logoIcon(){const{hl:e}=this.langOptions;return this.isNYPeriod?`/img/habr-logo-ny-${e}.svg#logo`:`/img/habr-logo-${e}.svg#logo`},isNYPeriod(){const e=new Date,t=(new Date).getFullYear(),i=new Date(t,11,1),s=new Date(t+1,0,15);return e>i&&e<s},isRootPage(){return this.$route.matched.find((e=>e.meta.rootPage))},showBackButton(){return!this.isRootPage}},methods:{bem:ps.P,goBack(){if(window.history&&window.history.length>1)this.$router.go(-1);else{const e=(0,_s.bc)(this.langOptions,this.homeCookie);this.$router.push(e)}}}},vs=(0,J.Z)(gs,[["render",Xt]]),Ts=vs;function Es(e,t,i,s,n,a){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.WI)(e.$slots,"default")])}const Ss={name:"TMLayoutMetaWrapper",setup(){const{langOptions:e}=(0,y.Q)();return{langOptions:e}},head(){const e=[];return this.$route.meta.rssLink&&e.push({href:this.rssFullRoute,type:"application/rss+xml",title:this.pageTitlePart,rel:"alternate",name:"rss"}),{htmlAttrs:{lang:this.langOptions.hl},link:e}},computed:{pageTitlePart(){return this.$route.meta.title?this.msg(this.$route.meta.title,this.$route.params):""},rssFullRoute(){const{params:e,query:t,meta:{rssLink:i}}=this.$route,s=(0,k.q)().rssKey,n={...e,...t,fl:this.langOptions.fl,hl:this.langOptions.hl,...s?{rssKey:s}:{}},a=new URL(`https://habr.com/${this.langOptions.hl}${i(n)}`);return a.searchParams.append("fl",this.langOptions.fl),a.href}}},fs=(0,J.Z)(Ss,[["render",Es]]),As=fs;function bs(e,t,i,s,n,a){return(0,l.wg)(),(0,l.iD)("div",{class:(0,T.C_)(["tm-notification",`${e.inlineClass} ${e.staticClass} ${e.layoutClass}`])},[(0,l.WI)(e.$slots,"default")],2)}const Is={name:"TMNotification",props:{inline:Boolean,static:Boolean,layout:{default:"full",type:String}},computed:{inlineClass(){return this.inline?"tm-notification_inline":""},staticClass(){return this.static?"tm-notification_static":""},layoutClass(){return`tm-notification_${this.layout}`}}},ys=(0,J.Z)(Is,[["render",bs]]),ws=ys;var Ps=i(46823);const Cs=["innerHTML"],ks=["textContent"];function Ls(e,t,i,s,n,a){const o=(0,l.up)("TMButtonBase"),r=(0,l.up)("TMErrorMessage");return(0,l.wg)(),(0,l.j4)(r,null,(0,l.Nv)({message:(0,l.w5)((()=>[a.errorMessage.isHtml?((0,l.wg)(),(0,l.iD)("p",{key:0,innerHTML:a.errorMessage.message},null,8,Cs)):((0,l.wg)(),(0,l.iD)("p",{key:1,textContent:(0,T.zw)(a.errorMessage.message)},null,8,ks)),!a.isPwa&&a.errorAction?((0,l.wg)(),(0,l.j4)(o,{key:2,class:"tm-error__refresh",type:"button",onClick:a.errorAction.action},{default:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(a.errorAction.text),1)])),_:1},8,["onClick"])):(0,l.kq)("",!0),a.errorActionAlternative?((0,l.wg)(),(0,l.iD)("a",{key:3,class:"tm-error__link",href:"#",onClick:t[0]||(t[0]=(...e)=>a.errorActionAlternative.action&&a.errorActionAlternative.action(...e))},(0,T.zw)(a.errorActionAlternative.text),1)):(0,l.kq)("",!0)])),_:2},[a.is5xxError?{name:"title",fn:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(a.errorTitle),1)])),key:"0"}:void 0,a.is5xxError?void 0:{name:"code",fn:(0,l.w5)((()=>[(0,l.Uk)((0,T.zw)(a.errorCode),1)])),key:"1"}]),1024)}const Ns={class:"tm-error-message"},Os={class:"tm-error-message__image-wrapper"},Rs={class:"tm-error-message__title"},Ms={class:"tm-error-message__code"},Us={class:"tm-error-message__body"};function Ds(e,t,i,s,n,a){const o=(0,l.up)("TMErrorImage");return(0,l.wg)(),(0,l.iD)("div",Ns,[(0,l._)("div",Os,[(0,l.Wm)(o)]),(0,l._)("h1",Rs,[(0,l.WI)(e.$slots,"title")]),(0,l._)("div",Ms,[(0,l.WI)(e.$slots,"code")]),(0,l._)("div",Us,[(0,l.WI)(e.$slots,"message")]),(0,l._)("div",null,[(0,l.WI)(e.$slots,"button")])])}const Bs=(0,pt.Rd)((()=>i.e(6487).then(i.bind(i,69039))),pt.MN),Hs={name:"TMErrorMessage",components:{TMErrorImage:Bs}},Fs=(0,J.Z)(Hs,[["render",Ds]]),Vs=Fs;var $s=i(75633),Ws=i(62524),Gs=i(87032);const xs=["ERROR_PAGE_POST_IS_LOCKED","ERROR_PAGE_MESSAGE_ARTICLE_IN_DRAFTS"],qs={name:"TMPageError",components:{TMButtonBase:D.Z,TMErrorMessage:Vs},props:{error:{type:[Object,Error],required:!0}},setup(){const e=(0,k.q)(),{user:t,isLoggedIn:i}=(0,d.Jk)(e);return{user:t,isLoggedIn:i}},computed:{isPwa(){return(0,ne.s)().isPwa},requestId(){return(0,ne.s)().requestId},draftParams(){const e=this.error.data.author.login||this.error.data.author.alias;return{userProfileLink:this.getUserProfileLink(e),userName:e}},userLogoutHash(){return this.user&&this.user.crc32},errorMessage(){if((0,Gs.isPostDeletedError)(this.error))return{isHtml:!1,message:this.getTranslation("ERROR_POST_DELETED_DESCRIPTION")};if("TimeoutError"===this.error.name)return{isHtml:!1,message:this.getTranslation("ERROR_PAGE_MESSAGE_TIMEOUT")};if((0,Gs.is5xxError)(this.error))return{isHtml:!1,message:this.getTranslation("ERROR_REFRESH_THE_PAGE_MESSAGE")};if((0,Gs.is403WithUserType)(this.error))return{isHtml:!1,message:this.getTranslation(`ERROR_PAGE_MESSAGE_ARTICLE_DRAFT_${this.error.data.userType}`,{reason:this.error.data.reason})};if((0,Gs.is403Error)(this.error)&&"IN_DRAFTS"===(0,Gs.getErrorCode)(this.error))return{isHtml:!0,message:this.getTranslation("ERROR_PAGE_MESSAGE_ARTICLE_IN_DRAFTS",this.draftParams)};if((0,Gs.is403WithReason)(this.error))return{isHtml:!0,message:this.getTranslation(`ERROR_PAGE_MESSAGE_ARTICLE_${this.error.data.reason}`,this.draftParams)};if((0,Gs.is403Error)(this.error)){const e=(0,Gs.getErrorCode)(this.error);if(!e)return{isHtml:!1,message:this.getTranslation("ERROR_PAGE_TITLE_ARTICLE_IN_DRAFTS")};if("COMPANY_ACCESS_LIMIT"===e)return{isHtml:!1,message:this.getTranslation("ERROR_PAGE_TITLE_UNAUTHORIZED")};if("AUTHOR_INACTIVE"===e)return{isHtml:!1,message:this.getTranslation("ERROR_PAGE_MESSAGE_AUTHOR_INACTIVE")};const t=["USER_INACTIVE","TARGET_USER_INACTIVE"];if(t.includes(e)){const e=-1!==this.$route.name.indexOf("USER_")?"ERROR_PAGE_MESSAGE_USER_PROFILE_INACTIVE":"ERROR_PAGE_MESSAGE_ARTICLE_USER_INACTIVE",t=this.error.data.author&&this.error.data.author.alias,i=this.$router.resolve({name:"USER_PROFILE",params:{hl:this.langOptions.hl,login:t}});return{isHtml:!1,message:this.getTranslation(e,{userProfileLink:i.href,userName:t})}}const i=`ERROR_PAGE_${e}`;return{isHtml:xs.includes(i),message:this.getTranslation(i)}}return(0,Gs.is401Error)(this.error)?{isHtml:!1,message:this.getTranslation("ERROR_PAGE_MESSAGE_NOT_AUTHORIZED")}:(0,Gs.is4xxError)(this.error)?{isHtml:!1,message:this.getTranslation("ERROR_PAGE_MESSAGE_NOT_FOUND")}:this.error.message?{isHtml:!1,message:this.error.message}:""},errorTitle(){return(0,Gs.isPostDeletedError)(this.error)?this.getTranslation("ERROR_POST_DELETED_TITLE"):"TimeoutError"===this.error.name?this.getTranslation("ERROR_PAGE_TITLE_TIMEOUT"):(0,Gs.is403WithReason)(this.error)&&!(0,Gs.is403WithUserType)(this.error)?this.getTranslation(`ERROR_PAGE_TITLE_ARTICLE_${this.error.data.reason}`):(0,Gs.is403Error)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_UNAUTHORIZED"):(0,Gs.is401Error)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_NOT_AUTHORIZED"):(0,Gs.is4xxError)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_NOT_FOUND"):(0,Gs.is5xxError)(this.error)?this.getTranslation("ERROR_PAGE_TITLE_INTERNAL_WITH_REQUEST_ID",{requestId:this.requestId}):this.getTranslation("ERROR_PAGE_TITLE_INTERNAL")},errorAction(){return"TimeoutError"===this.error.name||(0,Gs.is5xxError)(this.error)||(0,Gs.is404Error)(this.error)?{text:this.getTranslation("ERROR_PAGE_REFRESH"),action:this.reloadThePage}:(0,Gs.is403Error)(this.error)||(0,Gs.is403WithReason)(this.error)||(0,Gs.is4xxError)(this.error)?{text:this.getTranslation("ERROR_PAGE_BACK_TO_MAIN"),action:this.backToMainPage}:(0,Gs.is401Error)(this.error)?{text:this.getTranslation("ERROR_PAGE_AUTH"),action:()=>{const{hl:e}=this.langOptions,t=this.$route.path;window.location.href=`/kek/v1/auth/habrahabr/?back=${t}&hl=${e}`}}:null},errorActionAlternative(){return this.errorAction&&this.errorAction.text===this.getTranslation("ERROR_PAGE_BACK_TO_MAIN")?null:(0,Gs.is401Error)(this.error)?{text:this.getTranslation("ERROR_PAGE_BACK_TO_MAIN"),action:()=>{const{hl:e}=this.langOptions;window.location.href=`/kek/v1/auth/logout2/${this.userLogoutHash}/?back=/${e}/all`}}:null},errorCode(){return(0,Gs.getHttpCode)(this.error)},is5xxError(){return(0,Gs.is5xxError)(this.error)}},beforeMount(){const e=(0,Gs.getErrorCode)(this.error),t=(0,k.q)();(0,Gs.is401Error)(this.error)&&(t.logout(),"TOKEN_PROBLEM"===e&&(t.init(!0),(0,Ws.E)().reset())),(0,Gs.is403Error)(this.error)&&"SUBSCRIPTIONS_ARE_EMPTY"===e&&this.isLoggedIn&&this.$router.push({name:"MY_FEED_SETTINGS"})},mounted(){(0,Gs.is401Error)(this.error)&&(0,s.$e)((e=>{e.setTag("error_type",(0,Gs.getHttpCode)(this.error)),e.setUser(this.user),e.setLevel("warning"),(0,s.uT)("NOT_AUTHORIZED_401",{extra:this.error,contexts:this.error})}))},methods:{getTranslation(e,t){if(t)return this.msg(e,t);const{hl:i}=this.langOptions;return i?(0,$s.w)(i,e):(0,$s.w)("en",e)},translationHasHtml(e){return xs.includes(e)},getUserProfileLink(e){return`/${this.langOptions.hl}/users/${e}/`},backToMainPage(){this.isPwa?window.location="/pwa/":window.location="/"},reloadThePage(){window.location.reload()}}},Ys=(0,J.Z)(qs,[["render",Ls]]),Zs=Ys;function js(e,t,i,s,n,a){return(0,l.wg)(),(0,l.iD)("div",{class:(0,T.C_)(["tm-page-progress-bar",e.className])},null,2)}const Ks={name:"TMPageProgressBar",props:{isFinished:Boolean,isProcessing:Boolean},data(){return{haveJustFinished:!1}},computed:{className(){return{"tm-page-progress-bar_finished":this.haveJustFinished,"tm-page-progress-bar_processing":this.isProcessing}}},watch:{isFinished(e,t){e&&!t&&(this.haveJustFinished=!0,setTimeout((()=>{this.haveJustFinished=!1}),300))}}},zs=(0,J.Z)(Ks,[["render",js]]),Qs=zs,Xs={class:"tm-regional-restriction"},Js={class:"tm-regional-restriction__title"},en={class:"tm-regional-restriction__subtitle"},tn={class:"tm-regional-restriction__list"},sn={class:"tm-regional-restriction__block"},nn={class:"tm-regional-restriction__row"},an={class:"tm-regional-restriction__label"},on={class:"tm-regional-restriction__row"},rn={class:"tm-regional-restriction__label"},ln={key:0,class:"tm-regional-restriction__row"},cn={class:"tm-regional-restriction__label"},un={key:1,class:"tm-regional-restriction__row"},dn={class:"tm-regional-restriction__label"},mn={class:"tm-regional-restriction__block"},pn={key:0,class:"tm-regional-restriction__row"},_n={class:"tm-regional-restriction__label"},hn={class:"tm-regional-restriction__block"},gn={class:"tm-regional-restriction__link-container"},vn={class:"tm-regional-restriction__label"},Tn=["href","textContent"];function En(e,t,i,s,n,a){const o=(0,l.up)("TMLegalBanIcon"),r=(0,l.up)("TMDatetime");return(0,l.wg)(),(0,l.iD)("div",Xs,[(0,l.Wm)(o,{class:"tm-regional-restriction__image"}),(0,l._)("div",Js,(0,T.zw)(e.msg("ERROR_REGIONAL_RESTRICTION_TITLE")),1),(0,l._)("div",en,(0,T.zw)(e.msg("ERROR_REGIONAL_RESTRICTION_SUBTITLE"))+": ",1),(0,l._)("div",tn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.error.data.restrictions,((t,i)=>((0,l.wg)(),(0,l.iD)("div",{key:i,class:"tm-regional-restriction__restrictions"},[(0,l._)("div",sn,[(0,l._)("div",nn,[(0,l._)("span",an,(0,T.zw)(e.msg("ERROR_REGIONAL_RESTRICTION_REGION"))+": ",1),(0,l.Uk)(" "+(0,T.zw)(t.country),1)]),(0,l._)("div",on,[(0,l._)("span",rn,(0,T.zw)(e.msg("ERROR_REGIONAL_RESTRICTION_DATE"))+": ",1),(0,l.Wm)(r,{"absolute-date":"",date:t.timeStarted},null,8,["date"])]),a.reason(t)?((0,l.wg)(),(0,l.iD)("div",ln,[(0,l._)("span",cn,(0,T.zw)(e.msg("ERROR_REGIONAL_RESTRICTION_REASON"))+": ",1),(0,l.Uk)(" "+(0,T.zw)(a.reason(t)),1)])):(0,l.kq)("",!0),a.authority(t)?((0,l.wg)(),(0,l.iD)("div",un,[(0,l._)("span",dn,(0,T.zw)(e.msg("ERROR_REGIONAL_RESTRICTION_AUTHORITY"))+": ",1),(0,l.Uk)(" "+(0,T.zw)(t.country)+" / "+(0,T.zw)(a.authority(t)),1)])):(0,l.kq)("",!0)]),(0,l._)("div",mn,[a.legalBasis(t)?((0,l.wg)(),(0,l.iD)("div",pn,[(0,l._)("div",_n,(0,T.zw)(e.msg("ERROR_REGIONAL_RESTRICTION_LEGAL_BASE"))+": ",1),(0,l.Uk)(" "+(0,T.zw)(a.legalBasis(t)),1)])):(0,l.kq)("",!0)]),(0,l._)("div",hn,[(0,l._)("div",gn,[(0,l._)("span",vn,(0,T.zw)(e.msg("ERROR_REGIONAL_RESTRICTION_REFERENCE"))+": ",1),a.legalBasisLink(t)?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"tm-regional-restriction__link",href:a.legalBasisLink(t),target:"_blank",textContent:(0,T.zw)(a.legalBasisLink(t))},null,8,Tn)):(0,l.kq)("",!0)])])])))),128))])])}const Sn=(0,pt.Rd)((()=>i.e(3955).then(i.bind(i,23955))),pt.MN),fn={name:"TMRegionalRestriction",components:{TMDatetime:B.Z,TMLegalBanIcon:Sn},props:{error:{type:Object,required:!0}},methods:{reason(e){var t;return null===(t=e.restrictionReason)||void 0===t?void 0:t.reason},authority(e){var t;return null===(t=e.authority)||void 0===t?void 0:t.shortName},legalBasis(e){return e.legalBasis.text},legalBasisLink(e){return e.legalBasis.url}}},An=(0,J.Z)(fn,[["render",En]]),bn=An;function In(e,t,i,s,n,a){const o=(0,l.up)("TMSvgIcon");return a.isDesktop&&(n.scrolledEnough||n.shouldRestoreScroll)?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"tm-scroll-top",onClick:t[0]||(t[0]=(...e)=>a.performScroll&&a.performScroll(...e))},[(0,l.Wm)(o,{id:"small-arrow",class:(0,T.C_)(["tm-scroll-top__arrow",{"tm-scroll-top__arrow_reverted":n.shouldRestoreScroll}]),tag:"span",title:n.shouldRestoreScroll?e.msg("NAV_DOWN"):e.msg("NAV_UP")},null,8,["class","title"])])):(0,l.kq)("",!0)}const yn=100,wn={name:"TMScrollTop",components:{TMSvgIcon:Ge["default"]},data(){return{storedScrollPosition:0,lastScrollPosition:0,shouldRestoreScroll:!1,scrolledEnough:!1}},computed:{isDesktop(){return(0,ne.s)().isDesktop}},mounted(){requestAnimationFrame((()=>{this.handleScroll(),window.addEventListener("scroll",this.handleScroll,{passive:!0})}))},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{performScroll(){let e=0;this.shouldRestoreScroll?(e=this.storedScrollPosition,this.storedScrollPosition=0):this.storedScrollPosition=document.scrollingElement.scrollTop,this.shouldRestoreScroll=!this.shouldRestoreScroll,window.scrollTo({top:e,left:0,behavior:"smooth"})},handleScroll(){const{scrollTop:e}=document.scrollingElement;this.scrolledEnough=e>yn,this.lastScrollPosition<e&&this.shouldRestoreScroll&&(this.shouldRestoreScroll=!1),this.lastScrollPosition=e}}},Pn=(0,J.Z)(wn,[["render",In]]),Cn=Pn;var kn=i(93356),Ln=i(10107);function Nn({fromRouter:e}={fromRouter:!1}){const t=(0,r.iH)(null);let i=null;const s=(0,pe.Q)(),n=(0,k.q)(),{isHeaderBannerVisible:a}=(0,d.Jk)(s);async function o(e){const t=await c(e);s.setIsBannerVisible(t)}async function c(e){var t;if(!n.userShowAdv)return!1;const i=u(e);if(!i)return!0;const s=(0,Ln.l)(),a=i.toLowerCase();await s.loadCompanyInfo(a);const o=s.getCompanyInfo(a),r=null===o||void 0===o||null===(t=o.settings)||void 0===t?void 0:t.shouldShowHabrAds;return r??!0}function u(e){const t=e.name,i=null===t||void 0===t?void 0:t.includes("COMPANY_ADMIN"),s=null===t||void 0===t?void 0:t.includes("COMPANY");if(i||s){const t=m(e);return t||void 0}}function m(e){return p(e,"name")||p(e,"companyName")}function p(e,t){var i;return null===(i=e.params)||void 0===i?void 0:i[t]}function _(){if(t.value){const e=t.value.offsetHeight;if(!e)return void s.setIsBannerInView(!1);i=new IntersectionObserver((([e])=>{e&&s.setIsBannerInView(e.isIntersecting)}),{threshold:0}),i.observe(t.value)}else s.setIsBannerInView(!1)}return(0,kn.u7)((()=>{e||_()})),(0,kn.B)((()=>{i&&!e&&i.disconnect()})),(0,l.YP)(t,(t=>{if(e){var n;if(!t)return null===(n=i)||void 0===n||n.disconnect(),void s.setIsBannerInView(!1);s.setIsBannerInView(!0),_()}})),{headerBanner:t,setBannerVisibilityForRoute:o,isHeaderBannerVisible:a}}const On=(0,pt.Rd)((()=>i.e(9793).then(i.bind(i,19793)))),Rn=(0,pt.Rd)((()=>Promise.resolve().then(i.bind(i,15564))));function Mn(e){const t=/https?:\/\/((?:[\w\d-]+\.)+[\w\d]{2,})/i;return t.exec(e)}const Un=["EMAIL_UNSUBSCRIBE","ERROR_INTERNAL","ERROR_UNKNOWN","ERROR_UNAUTHORIZED","ERROR_NOT_FOUND"],Dn={components:{ExpandedMenu:mt,TMAdfoxBanner:b.Z,TMRegionalRestriction:bn,TMPageError:Zs,TMPage:Ps.Z,TMPageWidth:kt.Z,TMHeaderUserMenu:ms,TMScrollLockTransition:Nt.Z,TMPopup:ai.Z,TMUserNotice:Rn,TMButtonBase:D.Z,TMDatetime:B.Z,TMFooter:Mt,TMFooterMenu:Zt,TMAnalytics:U,TMHeader:Ts,TMHotKeys:On,TMLayoutMetaWrapper:As,TMNotification:ws,TMPageProgressBar:Qs,TMScrollTop:Cn,TMSidebar:os},setup(){const e=(0,Ws.E)(),t=(0,ne.s)(),i=(0,k.q)(),s=$(),{notices:n}=(0,d.Jk)(i),{isMenuVisible:a}=(0,d.Jk)(s),{error:o}=(0,d.Jk)(e),{isPwa:r,isDesktop:l,isMobile:c,isMobilePwa:u,isMobileOnly:m,isTablet:p}=(0,d.Jk)(t),{headerBanner:_,isHeaderBannerVisible:h}=Nn();return{ssrStore:e,error:o,isPwa:r,isDesktop:l,isMobile:c,isMobilePwa:u,isMobileOnly:m,isTablet:p,notices:n,setMenuVisibility:s.setMenuVisibility,isMenuVisible:a,isHeaderBannerVisible:h,headerBanner:_}},data(){return{shouldOpenLangSettings:!1,shouldOpenPayments:!1,showRefreshNotice:!1,cacheTime:null,showCacheNotice:!1,showHotKeysPopup:!1,navMenuVisible:!1,isHeaderVisible:!0}},computed:{isPPGError(){return"PPG_REQUIRED"===(0,Gs.getErrorCode)(this.error)},isLegalBanError(){return 451===(0,Gs.getHttpCode)(this.error)},hasFullHeightBackground(){const{name:e}=this.$route;return Un.includes(e)||Boolean(this.error)},isBlankPage(){return"blank"===this.$route.meta.pageType},isConversationPage(){return"conversation"===this.$route.meta.pageType},isFooterHidden(){return this.isBlankPage||this.isConversationPage},isDisplayStandalone(){return window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone},showUserNotices(){return!this.$route.meta.hideUserNotices}},watch:{$route:{handler(){this.shouldOpenLangSettings=!1,this.setMenuVisibility(!1)},immediate:!0}},mounted(){this.isDisplayStandalone&&(0,ne.s)().initPwaMode(),Ki().init(),window.addEventListener("appinstalled",(()=>{(0,L.IZ)("pwa_add"),(0,ne.s)().initPwaMode()})),document.addEventListener("showRefreshNotice",(()=>{this.showRefreshNotice=!0}),{once:!0}),document.addEventListener("showCacheNotice",(e=>{this.cacheTime=parseInt(e.detail,10),this.showCacheNotice=!0,document.addEventListener("click",this.blockOpeningExternalLink)})),document.addEventListener("hideCacheNotice",(()=>{this.cacheTime=null,this.showCacheNotice=!1,document.removeEventListener("click",this.blockOpeningExternalLink)})),window.addEventListener("offline",(()=>{this.cacheTime=new Date,this.showCacheNotice=!0})),window.addEventListener("online",(()=>{this.showCacheNotice=!1})),window.addEventListener("beforeinstallprompt",(e=>(e.preventDefault(),!1)))},methods:{bem:ps.P,reloadThePage(){this.isPwa?window.location="/pwa/":window.location.reload(!0)},blockOpeningExternalLink(e){const{target:t}=e;if("A"===t.tagName||"A"===t.parentNode.tagName){const{href:i}=t.closest("a"),s=Mn(i),n=Mn(document.location.href);s!==n&&(e.preventDefault(),this.$toast.warning(this.msg("ERROR_PAGE_MESSAGE_NO_INTERNET_LINK")))}},toggleHotKeysPopup(){this.showHotKeysPopup=!this.showHotKeysPopup}}},Bn=(0,J.Z)(Dn,[["render",A]]),Hn=Bn,Fn={class:"tm-layout"};function Vn(e,t){const i=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("main",Fn,[(0,l.Wm)(i)])}const $n={},Wn=(0,J.Z)($n,[["render",Vn]]),Gn=Wn;var xn=i(91296),qn=i.n(xn);function Yn(){var e;let t=null===(e=document.scrollingElement)||void 0===e?void 0:e.scrollTop,i=!1;window.addEventListener("scroll",qn()((()=>{var e;i||(t=null===(e=document.scrollingElement)||void 0===e?void 0:e.scrollTop)}),50)),window.addEventListener("fullscreenchange",(()=>{document.fullscreenElement?i=!0:(i=!1,t&&document.scrollingElement&&(document.scrollingElement.scrollTop=t))}))}var Zn=i(21331);function jn(){document.addEventListener("click",(({target:e})=>{const t=e.closest(".habrahidden");t&&t.setAttribute("data-show",!0)}))}var Kn=i(10836),zn=i(61291),Qn=i(44383),Xn=i(22605);const Jn=e=>"ru"===e?"en":"ru",ea=(0,l.aZ)({components:{TMBaseLayout:Hn,TMEmptyLayout:Gn},setup(){const e=(0,l.FN)(),t=(0,k.q)(),{isLoggedIn:i,userAlias:s,isOnboardingNew:n}=(0,d.Jk)(t),a=(0,Wt.P)(),{currentLocale:o}=(0,d.Jk)(a),{pageTitle:r}=a,{msg:c,langOptions:u}=(0,y.Q)();(0,l.bv)((()=>{e&&(e.appContext.config.globalProperties.$hasHydrated.value=!0)}));const m=(0,g.f)(),p=m.get("hl"),_=m.get("fl");function h(e){m.set("hl",e,{expires:(0,Zn.ot)(365)})}function v(e){m.set("fl",e,{expires:(0,Zn.ot)(365)})}return{currentHLCookie:p,currentFLCookie:_,setHlCookie:h,setFlCookie:v,msg:c,isLoggedIn:i,userAlias:s,isOnboardingNew:n,langOptions:u,currentLocale:o,pageTitle:r}},data(){return{isCroppedByOverlay:!1,isLoadingI18n:!1}},head(){return{title:this.pageMetaTitle,titleTemplate:e=>this.pageTitle(e),link:this.pageMetaLinks,meta:this.pageMeta}},computed:{currentLayout(){return`TM-${this.$route.meta.layout||"base"}-layout`},defaultPreviewImage(){return"ru"===this.langOptions.hl?"/img/habr_ru.png":"/img/habr_en.png"},staticPageMeta(){const e=(0,v.h$)(this.defaultPreviewImage);return[...e??[],{property:"fb:app_id",content:"444736788986613"},{property:"fb:pages",content:"472597926099084"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"ru"===this.langOptions.hl?"@habr_com":"@habr_eng"},{property:"og:locale",content:this.currentLocale,vmid:"og:locale"},{property:"og:type",content:"website",vmid:"og:type"},{property:"og:site_name",content:"ru"===this.langOptions.hl?"Хабр":"Habr",vmid:"og:site_name"}]},pageMetaTitle(){const{title:e}=this.$route.meta||{};return e?this.msg(e,this.$route.params):void 0},pageMeta(){var e;const{description:t,noindex:i,nofollow:s}=this.$route.meta,n=[...this.staticPageMeta],{href:a}=this.$router.resolve({name:(null===(e=this.$route)||void 0===e?void 0:e.name)??void 0,params:this.$route.params});if(i||s){const e=[i&&"noindex",s&&"nofollow"].filter(Boolean).join(", ");n.push({name:"robots",content:e,vmid:"robots"})}return t&&(n.push({name:"description",content:this.msg(t,this.$route.params),vmid:"description"}),n.push({property:"og:description",content:this.msg(t,this.$route.params),vmid:"og:description"})),n.push({property:"og:title",content:this.pageTitle(this.pageMetaTitle),vmid:"og:title"},{property:"og:url",content:(0,Kn.Z)(a),vmid:"og:url"}),n},pageMetaLinks(){var e;const{renderAlternateMetaTag:t}=this.$route.meta,i=[{rel:"image_src",href:this.defaultPreviewImage,vmid:"image:href"}];let{href:s}=this.$router.resolve({name:(null===(e=this.$route)||void 0===e?void 0:e.name)??void 0,params:this.$route.params});if(this.$route.meta.canonicalRoute)s=this.$router.resolve({name:this.$route.meta.canonicalRoute,params:this.$route.params}).href;else if(this.$route.name&&this.$route.name.match(/_PAGES$/)){var n;const{matched:e,params:t}=this.$route;let i=e[e.length-2];null!==(n=i)&&void 0!==n&&n.redirect&&"object"===typeof i.redirect&&(i=i.redirect),s=this.$router.resolve({...i,params:t}).href}i.push({href:(0,Kn.Z)(s),rel:"canonical",vmid:"canonical"});const a=[];if(t){const e=this.$router.resolve({...this.$route,params:{...this.$route.params,hl:Jn((0,zn.K)(this.$route.params.hl))}});a.push({href:`https://habr.com${this.$route.path}`,hreflang:this.$route.params.hl,rel:"alternate",vmid:"hreflang"}),a.push({href:`https://habr.com${e.href}`,hreflang:Jn((0,zn.K)(this.$route.params.hl)),rel:"alternate",vmid:"hreflang"})}return[...i,...a]}},watch:{$route(e,t){var i;e.path!==t.path&&(0,Ke.W)().loadPromoData(e),null!==(i=e.name)&&void 0!==i&&i.includes("ONBOARDING")||this.isLoggedIn&&this.isOnboardingNew&&this.$router.replace({name:Xn.jj.greetings})},isLoggedIn:{handler(e){var t;!e||null!==(t=this.$route.name)&&void 0!==t&&t.includes("ONBOARDING")||this.isOnboardingNew&&this.$router.replace({name:Xn.jj.greetings})},immediate:!0}},mounted(){const{fl:e,hl:t}=this.langOptions;t!==this.currentHLCookie&&this.setHlCookie(t),e!==this.currentFLCookie&&this.setFlCookie(e),window.addEventListener("message",(e=>{var t;this.validEmbedOrigin(e)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.type&&("embed-size"===e.data.type&&this.resizeIframe(e.data),"embed-scroll"===e.data.type&&this.scrollToIframe(e.data),"request-user"===e.data.type&&this.sendUser(e))})),this.$route.hash!==`#${Qn.dY}`&&(window.history.scrollRestoration="auto"),(0,Ke.W)().loadPromoData(this.$route),jn(),Yn()},methods:{resizeIframe(e){const t=e.id,i=document.querySelectorAll(`[id="${t}"]`);for(let s=0;s<i.length;s+=1)i[s].height=e.height},scrollToIframe(e){const t=e.id,i=document.querySelector(`[id="${t}"]`);if(i){const e=i.getBoundingClientRect().top+window.pageYOffset-56;window.scrollTo({top:e,behavior:"smooth"})}},sendUser(e){var t;null===(t=e.source)||void 0===t||t.postMessage({type:"user",alias:this.userAlias},{targetOrigin:e.origin})},validEmbedOrigin(e){return"https://embedd.srv.habr.com"===e.origin}}}),ta=(0,J.Z)(ea,[["render",h]]),ia=ta;var sa=i(72307),na=i.n(sa),aa=i(29612),oa=i(51084);const ra=(0,d.Q_)("location",{state:()=>({urlStruct:(0,oa.au)((0,oa.j4)())}),actions:{updateUrl(e){const t=(0,oa.j4)()||e.fullPath,i=(0,oa.au)(t);i.path=e.path,i.pathname=e.path,Object.assign(i.query,e.query),delete i.search,this.urlStruct=i}}});var la=i(67267),ca=i(86409),ua=i(10707);function da(e){return(0,ca.Q)((0,ua.k)("ulog/"),e)}var ma=i(88447);function pa(e){const{langOptions:t}=(0,y.Q)(),{hl:i}=t.value;if(e.params.hl!==i)return e.name&&"ERROR_NOT_FOUND"!==e.name?{params:{...e.params,hl:i},name:e.name,query:e.query}:{path:`/${i}${e.fullPath}`,query:e.query};const s="/"===e.path[e.path.length-1];return s?null:{path:`${e.path}/`,query:e.query}}function _a(e,t){const i={FLOW_PAGE:"ARTICLES_LIST_BY_FLOW_ALL",ARTICLES_LIST_ALL:"ARTICLES_LIST_ALL",ALL_FLOWS:"ARTICLES_LIST_ALL",NEWS_LIST_BY_FLOW_ALL:"NEWS_LIST_BY_FLOW_ALL",NEWS_LIST_ALL:"NEWS_LIST_ALL",POSTS_ALL:"POSTS_ALL",POSTS_BY_FLOW_ALL:"POSTS_BY_FLOW_ALL",NEWS_BY_HUB_ALL:"NEWS_BY_HUB_ALL",POSTS_BY_HUB_ALL:"POSTS_BY_HUB_ALL",HUB_PAGE:"ARTICLES_LIST_BY_HUB_ALL",ARTICLES_LIST_BY_HUB_ALL:"ARTICLES_LIST_BY_HUB_ALL",ARTICLES_LIST_BY_FLOW_ALL:"ARTICLES_LIST_BY_FLOW_ALL"};let s=null;const n=t.useCookies();e.beforeEach(((e,t,a)=>{const{name:o,params:r,hash:l}=e,c=i[o]?{...e,name:i[o]}:null,u=na()(s,c),d=!c||u;if(s=c,d&&"ALL_FLOWS"===o)return a(c);if(d)return a();const m=Boolean((0,k.q)().isLoggedIn);if(!m)return a(c);const p=r.flowName||"all",{hubName:_}=r,h=o&&o.startsWith("NEWS"),g=o&&o.startsWith("POSTS"),v=(0,ma.buildCookieName)({flowName:p,hubName:_,isNews:h,isPosts:g}),T=n.get(v),E=`/${r.hl}${T}${l||""}`;return a(T?{path:E}:c)}))}function ha(e){e.beforeResolve(((e,t,i)=>{e.matched.some((e=>"allFlows"===e.meta.feedType))&&(0,aa.g)().loadUpdates(),(0,k.q)().loadUpdates(),i()}))}function ga(e){e.afterEach(((e,t,i)=>{i||(0,N.q)("/page-visit",{url:e.fullPath,uuid:(0,k.q)().uuid})}))}function va(e){e.beforeEach((async(e,t,i)=>{const{setBannerVisibilityForRoute:s}=Nn({fromRouter:!0});await s(e),i()}))}function Ta(e,t){e.beforeEach(((e,t,i)=>{const s=e.matched.reduce(((e,t)=>Array.isArray(t.meta.groups)?[...e,...t.meta.groups]:e),[]),n=`/${e.params.hl}/404/`,a=(0,k.q)().user;if(s.length){if(!a)return i({path:n});if(!s.every((e=>a.groups.includes(e))))return i({path:n})}if("/"!==t.path){const t=pa(e);return t?i(t):i()}return i()})),_a(e,t),ha(e),va(e),ga(e),e.afterEach(((e,t)=>{const i="undefined"!==typeof window;ra().updateUrl(e);const s=(0,Ws.E)(),n=s.error,a="PPG_REQUIRED"===(0,Gs.getErrorCode)(n);n&&!a&&(s.reset(),s.markDataLoading());const o=(0,k.q)().user;if(o&&i){const{href:e}=ra().urlStruct;da({url:e}).catch((e=>la.Z.notifyException(e)))}Object.assign(e.meta,{prevFullPath:t.fullPath})}))}function Ea(e,t,i,s,n,a){const o=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(o,null,{default:(0,l.w5)((({Component:t})=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(t),(0,l.dG)(e.$attrs,{key:a.routeKey}),null,16))])),_:1})}const Sa=["utm_source","utm_medium","utm_content","utm_campaign","utm_term"],fa={name:"TMRouterRoot",computed:{routeKey(){const{query:e,hash:t,meta:i}=this.$route;return i&&i.keepAliveKey?i.keepAliveKey(this.$route):Object.keys(e).some((e=>Sa.indexOf(e)>=0))||t?this.$route.path:this.$route.fullPath}}},Aa=(0,J.Z)(fa,[["render",Ea]]),ba=Aa;var Ia=i(48070),ya=i(183);function wa(){return i.e(5631).then(i.bind(i,26059))}function Pa(){return i.e(5631).then(i.bind(i,46414))}function Ca(){return i.e(5631).then(i.bind(i,89630))}function ka(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,21368))}function La(e,t=null,i){return{components:{default:wa},props:{default:!0},children:[{name:e,path:"",components:t?{sidebar:t}:{},props:{sidebar:!!t},meta:{pageType:"post_comments",customGA:!0,rssLink:e=>i?`/rss/news/t/${e.id}/`:`/rss/post/${e.id}/`}}],meta:{pageType:"post_comments",customGA:!0,rssLink:e=>i?`/rss/news/t/${e.id}/`:`/rss/post/${e.id}/`,isNews:i}}}const Na=!0,Oa=[{name:"USER_PROFILE",path:`users/:login${ya.USER_ALIAS_PARAM_REGEXP}/`,components:{default:ka},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,renderAlternateMetaTag:!0}},{path:`post/:id${ya.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Ia.VU.ARTICLE_COMMENTS}},{...La(Ia.VU.ARTICLE_COMMENTS,Ca),path:`articles/:id${ya.PUBLICATION_ID_MATCH}/comments/`},{path:`p/:id${ya.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Ia.VU.ARTICLE_COMMENTS}},{path:`news/t/:id${ya.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Ia.VU.NEWS_COMMENTS}},{...La(Ia.VU.NEWS_COMMENTS,Ca,Na),path:`news/:id${ya.PUBLICATION_ID_MATCH}/comments/`},{path:`company/:companyName/blog/:id${ya.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Ia.VU.ARTICLE_OF_COMPANY_COMMENTS}},{...La(Ia.VU.ARTICLE_OF_COMPANY_COMMENTS,Pa),path:`companies/:companyName/articles/:id${ya.PUBLICATION_ID_MATCH}/comments/`,alias:`/:hl/blogs/:companyName/:id${ya.PUBLICATION_ID_MATCH}/comments/`},{path:`company/:companyName/news/t/:id${ya.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Ia.VU.NEWS_OF_COMPANY_COMMENTS}},{...La(Ia.VU.NEWS_OF_COMPANY_COMMENTS,Pa,Na),path:`companies/:companyName/news/:id${ya.PUBLICATION_ID_MATCH}/comments/`},{path:`article/:id${ya.PUBLICATION_ID_MATCH}/comments/`,redirect:{name:Ia.VU.SPECIAL_COMMENTS}},{...La(Ia.VU.SPECIAL_COMMENTS),path:`specials/:id${ya.PUBLICATION_ID_MATCH}/comments/`}],Ra=()=>i.e(2636).then(i.bind(i,73724));function Ma(e,t,i){const s={geektimes:"geektimes",mozg:"megamozg"};return(0,ca.Hm)((0,ua.k)(`migrated/${s[e]}/${t}/${i}`,"v2"),null).then((e=>({pageType:t,targetId:e.alias||e.id})))}function Ua(e,t,i,s){const{hl:n}=e.params,a=e.fullPath.split("/")[2];return console.log(e,i,s),Ma(a,i,s).then((i=>{if(i){const s=e.params.pathMatch||"",a=e.params.rss?"/rss":"",o=()=>{switch(i.pageType){case ya.PAGE_TYPE.HUB:return"hub";case ya.PAGE_TYPE.COMPANY:return"companies";case ya.PAGE_TYPE.POST:return"articles";default:return i.pageType}};return t({path:`/${n}${a}/${o()}/${i.targetId}/${s}`})}return t()})).catch((e=>((0,Ws.E)().showError(e),t(e))))}const Da={error:"redirect"},Ba={status:301};function Ha(e,t){return{path:e,component:Ra,beforeEnter:t,props:Da,meta:Ba}}function Fa(){return[Ha("companies/:alias/:pathMatch(.*)*",((e,t,i)=>Ua(e,i,ya.PAGE_TYPE.COMPANY,e.params.alias))),Ha("company/:alias/:pathMatch(.*)*",((e,t,i)=>Ua(e,i,ya.PAGE_TYPE.COMPANY,e.params.alias))),Ha("companies/:alias/articles/:id/",((e,t,i)=>Ua(e,i,ya.PAGE_TYPE.POST,e.params.id))),Ha("company/:alias/blog/:id/",((e,t,i)=>Ua(e,i,ya.PAGE_TYPE.POST,e.params.id))),Ha("hub/:alias/:pathMatch(.*)*",((e,t,i)=>Ua(e,i,ya.PAGE_TYPE.HUB,e.params.alias))),Ha("articles/:id/",((e,t,i)=>Ua(e,i,ya.PAGE_TYPE.POST,e.params.id))),Ha("post/:id/",((e,t,i)=>Ua(e,i,ya.PAGE_TYPE.POST,e.params.id))),Ha("p/:id/",((e,t,i)=>Ua(e,i,ya.PAGE_TYPE.POST,e.params.id))),Ha("sandbox/:id/",((e,t,i)=>Ua(e,i,ya.PAGE_TYPE.SANDBOX,e.params.id)))]}const Va=()=>[{path:"geektimes/:rss(rss)?",component:Ra,children:Fa(),props:{error:"redirect"},meta:{status:301}},{path:"mozg/:rss(rss)?",component:Ra,children:Fa(),props:{error:"redirect"},meta:{status:301}}];function $a(e,t,i,s,n,a){const o=(0,l.up)("TMPlaceholder");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(o,{modificator:"preview",times:7,type:"article"})])}const Wa={components:{TMPlaceholder:Ui.Z},setup(){const e=(0,g.f)(),t=e.get("habr_web_home_feed"),{langOptions:i}=(0,y.Q)();return{homeCookie:t,langOptions:i}},beforeMount(){(0,ne.s)().initPwaMode()},mounted(){const e=(0,_s.bc)(this.langOptions,this.homeCookie);this.$router.replace(e)}},Ga=(0,J.Z)(Wa,[["render",$a]]),xa=Ga,qa=[{name:"PWA",path:"/pwa/",component:xa}],Ya=()=>i.e(2443).then(i.bind(i,74669)),Za=[{name:"ABOUT",path:"about/",components:{default:Ya},meta:{pageType:"blank",layout:"empty"}}];function ja(e,t,i,s,n,a){const o=(0,l.up)("TMCompanyBranding"),r=(0,l.up)("TMAdfoxBanner"),c=(0,l.up)("TMCompanyProfileCard"),u=(0,l.up)("TMRegionalRestrictionNotice"),d=(0,l.up)("TMSponsorBlock"),m=(0,l.up)("BannerResolver"),p=(0,l.up)("TMPlaceholder"),_=(0,l.up)("TMBlock"),h=(0,l.up)("TMMultiwidgetBlock"),g=(0,l.up)("TMCompanyPoll"),v=(0,l.up)("TMCompanyInfo"),T=(0,l.up)("TMPromoBlock"),E=(0,l.up)("TMStories"),S=(0,l.up)("TMRandomProjectBlock"),f=(0,l.up)("TMPromoPostLink"),A=(0,l.up)("TMUserArticleBlocks"),b=(0,l.up)("TMUserPublicationPresenter"),I=(0,l.up)("TMArticleCorporativeSidebar"),y=(0,l.up)("TMPage");return(0,l.wg)(),(0,l.j4)(y,null,{header:(0,l.w5)((()=>[s.companyInfo&&a.showCompanyBranding?((0,l.wg)(),(0,l.j4)(o,{key:0,class:"tm-company-article__top-image","company-info":s.companyInfo},null,8,["company-info"])):(0,l.kq)("",!0)])),default:(0,l.w5)((()=>[(0,l.Wm)(b,{"company-info":s.companyInfo,"is-loading":e.isLoading,"is-post":s.isPost,publication:s.article},{beforeBody:(0,l.w5)((()=>[s.userShowAdv&&a.showPromo&&s.isMobile?((0,l.wg)(),(0,l.j4)(r,{key:0,"adfox-id":"169815559787254866","div-id":"topBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},variant:"narrow"})):(0,l.kq)("",!0),s.isDesktop?((0,l.wg)(),(0,l.j4)(c,{key:1,class:"tm-company-article__profile-card",company:s.companyInfo},null,8,["company"])):(0,l.kq)("",!0),s.article&&s.article.regionalRestrictions&&s.article.regionalRestrictions.length?((0,l.wg)(),(0,l.j4)(u,{key:2,email:s.article.authorEmail,restrictions:s.article.regionalRestrictions},null,8,["email","restrictions"])):(0,l.kq)("",!0)])),footer:(0,l.w5)((()=>[(0,l.Wm)(A,{id:i.id,article:s.article,"is-loading":e.isLoading,"is-show-stories":a.showPromo,"show-similar-articles":a.showSimilarArticlesAndVacanciesOrCourses},(0,l.Nv)({beforeUserCard:(0,l.w5)((()=>[s.companyInfo?((0,l.wg)(),(0,l.j4)(v,{key:0,"company-info":s.companyInfo},null,8,["company-info"])):(0,l.kq)("",!0)])),beforeDailyArticles:(0,l.w5)((()=>[a.showPromo?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[s.isMobile?((0,l.wg)(),(0,l.j4)(E,{key:1,"ga-category":"stories_mobile"})):((0,l.wg)(),(0,l.j4)(T,{key:0,"ga-type":"post",layout:"article"})),a.showRandomProjectBlock?((0,l.wg)(),(0,l.j4)(S,{key:2,"block-id":"project-block-company-article",hubs:s.articlesListStore.getArticleHubsTitles(i.id),location:"post",tags:s.articlesListStore.getArticleTagsTitles(i.id)},null,8,["hubs","tags"])):(0,l.kq)("",!0)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[a.showRandomProjectBlock?((0,l.wg)(),(0,l.j4)(S,{key:0,"block-id":"project-block-company-article",blocks:a.blocks,"career-alias":a.careerAlias,"company-alias":s.companyAlias,"company-title":a.companyTitle,hubs:s.articlesListStore.getArticleHubsTitles(i.id),location:"post","school-alias":a.schoolAlias,tags:s.articlesListStore.getArticleTagsTitles(i.id)},null,8,["blocks","career-alias","company-alias","company-title","hubs","school-alias","tags"])):(0,l.kq)("",!0)],64))])),_:2},[s.article?{name:"afterAuthorBlocks",fn:(0,l.w5)((()=>{var t,i;return[s.userShowAdv&&a.showPromo?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[s.isDesktop&&"ru"===s.langOptions.hl?((0,l.wg)(),(0,l.j4)(d,{key:0,"flow-name":null===(t=s.article)||void 0===t||null===(i=t.flowNew)||void 0===i?void 0:i.alias},null,8,["flow-name"])):((0,l.wg)(),(0,l.j4)(m,{key:1,"adfox-params":{adfoxId:"164725660339535756",divId:"articleBottomBanner",params:{pp:"h",ps:"fnps",p2:"hnyb"}},class:"tm-company-article__banner","roxot-params":{bannerName:"Leaderboard-gam"},variant:"leaderboard"}))],64)):(0,l.kq)("",!0),!e.isLoading&&a.companyHasActivePolls?((0,l.wg)(),(0,l.j4)(g,{key:1,"article-has-polls":a.articleHasPolls,"company-alias":s.companyAlias,"post-lang":s.article.lang,"show-fallback":a.articleHasMultiwidget&&!a.articleHasPolls},{fallback:(0,l.w5)((({isLoading:e})=>[e?((0,l.wg)(),(0,l.j4)(_,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{times:1,type:"static_section_name"}),(0,l.Wm)(p,{times:1,type:"articleCards"})])),_:1})):a.articleHasMultiwidget&&!e?((0,l.wg)(),(0,l.j4)(h,{key:1,"article-id":s.article.id,blocks:s.article.multiwidget,place:"publication"},null,8,["article-id","blocks"])):(0,l.kq)("",!0)])),_:1},8,["article-has-polls","company-alias","post-lang","show-fallback"])):a.articleHasMultiwidget?((0,l.wg)(),(0,l.j4)(h,{key:2,"article-id":s.article.id,blocks:s.article.multiwidget,"company-alias":s.companyAlias,place:"publication","widget-uuid":s.article.multiwidgetUuid},null,8,["article-id","blocks","company-alias","widget-uuid"])):(0,l.kq)("",!0)]})),key:"0"}:void 0,s.isMobile&&a.showPromo?{name:"afterDailyArticles",fn:(0,l.w5)((()=>[(0,l.Wm)(T,{"ga-type":"post",layout:"article"})])),key:"1"}:void 0,a.dailyTopPromoLink&&a.showPromo?{name:"dailyTopPromoLink",fn:(0,l.w5)((()=>[(0,l.Wm)(f,{appearance:a.isSandboxArticle?"top-daily":"top-daily-card","promo-post":a.dailyTopPromoLink},null,8,["appearance","promo-post"])])),key:"2"}:void 0]),1032,["id","article","is-loading","is-show-stories","show-similar-articles"])])),_:1},8,["company-info","is-loading","is-post","publication"])])),sidebar:(0,l.w5)((()=>[(0,l.Wm)(I,{"company-info":s.companyInfo,"company-name":s.companyAlias},null,8,["company-info","company-name"])])),_:1})}var Ka=i(35246),za=i(70352),Qa=i(3406);const Xa={class:"tm-article-author__company"},Ja={class:"tm-article-author__company-card"},eo={class:"tm-article-author__buttons"},to={key:0,class:"tm-article-author__button"},io={key:1,class:"tm-article-author__button"},so={class:"tm-article-author__follow-block"},no={key:0,class:"tm-article-author__company-contacts"},ao=["href"];function oo(e,t,i,s,n,a){const o=(0,l.up)("TMCompanySnippet"),r=(0,l.up)("TMAdministrationLinks"),c=(0,l.up)("TMButtonFollow");return(0,l.wg)(),(0,l.iD)("div",Xa,[(0,l._)("div",Ja,[(0,l.Wm)(o,{company:i.companyInfo},null,8,["company"]),(0,l._)("div",eo,[s.meStore.isSuperAdmin?((0,l.wg)(),(0,l.iD)("div",to,[(0,l.Wm)(r,{links:a.companyLinksItems},null,8,["links"])])):(0,l.kq)("",!0),s.meStore.isLoggedIn?((0,l.wg)(),(0,l.iD)("div",io,[(0,l._)("div",so,[(0,l.Wm)(c,{subscribed:a.isCompanySubscribed,"use-follow-label":!0,onOnToggle:t[0]||(t[0]=e=>s.companiesStore.toggleSubscribeStatus(i.companyInfo.alias))},null,8,["subscribed"])])])):(0,l.kq)("",!0)])]),i.companyInfo.contacts&&i.companyInfo.contacts.length?((0,l.wg)(),(0,l.iD)("div",no,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.companyInfo.contacts,(e=>((0,l.wg)(),(0,l.iD)("a",{key:e.url,class:"tm-article-author__contact",href:e.url,rel:"noopener",target:"_blank"},(0,T.zw)(e.title),9,ao)))),128))])):(0,l.kq)("",!0),t[1]||(t[1]=(0,l._)("div",{class:"tm-article-author__separator"},null,-1))])}var ro=i(80165),lo=i(89693);const co=(0,pt.Rd)((()=>i.e(2328).then(i.bind(i,97259))),pt.MN),uo={name:"TMCompanyInfo",components:{TMButtonFollow:ro.Z,TMAdministrationLinks:co,TMCompanySnippet:lo.Z},props:{companyInfo:{type:Object,required:!0}},setup(){const e=(0,Ln.l)(),t=(0,k.q)();return{companiesStore:e,meStore:t}},computed:{companyLinksItems(){const{alias:e}=this.companyInfo,t={en:{EDIT_PROFILE:"Edit profile via CP"},ru:{EDIT_PROFILE:"Редактировать профиль в CP"}},i=`https://habr.com/kek/admin/company/${e}/`;return[{title:t[this.langOptions.hl].EDIT_PROFILE,link:i}]},isCompanySubscribed(){return this.companyInfo.relatedData&&this.companyInfo.relatedData.isSubscribed}}},mo=(0,J.Z)(uo,[["render",oo]]),po=mo,_o={key:1};function ho(e,t,i,s,n,a){const o=(0,l.up)("TMArticlePoll"),r=(0,l.up)("TMBlock");return s.companyPoll?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"tm-company-poll",spacing:"around",title:e.msg("POLLS_COMPANY")},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{"enabled-for-guests":"","is-loading-decline":s.isLoadingDecline,"is-loading-vote":s.isLoadingVote,poll:s.companyPoll,onDeclineVote:a.declineVote,onSubmitVote:a.sendVote},null,8,["is-loading-decline","is-loading-vote","poll","onDeclineVote","onSubmitVote"])])),_:1},8,["title"])):i.showFallback?((0,l.wg)(),(0,l.iD)("div",_o,[(0,l.WI)(e.$slots,"fallback",{isLoading:s.isLoadingPolls})])):(0,l.kq)("",!0)}var go=i(58643),vo=i(96447);const To={name:"TMCompanyPoll",components:{TMArticlePoll:go.Z,TMBlock:za.Z},props:{companyAlias:{required:!0,type:String},postLang:{required:!0,type:String},articleHasPolls:{required:!0,type:Boolean},showFallback:{required:!0,type:Boolean}},setup(e){const t=(0,r.iH)(null),i=(0,r.iH)(!1),s=(0,r.iH)(!1),n=(0,r.iH)(!0),a=(0,k.q)(),{uuid:o}=(0,d.Jk)(a);return(0,l.bv)((()=>{(0,l.YP)((()=>o.value),(i=>{i&&(t.value||e.articleHasPolls||(n.value=!0,(0,vo.C1)(e.companyAlias,{postLang:e.postLang}).then((({companyPoll:e})=>{t.value=e})).catch((()=>null)).finally((()=>{n.value=!1}))))}),{immediate:!0})})),{companyPoll:t,isLoadingDecline:i,isLoadingVote:s,isLoadingPolls:n}},methods:{saveCompanyPollAnswer(e,t){(0,vo.Wd)(this.companyAlias,e,t).then((e=>{this.companyPoll=e})).catch((e=>{this.$toast.error(e.message)})).finally((()=>{this.isLoadingVote=!1,this.isLoadingDecline=!1}))},declineVote({pollId:e}){this.isLoadingDecline=!0;const t={variants:[]};this.saveCompanyPollAnswer(e,t)},sendVote({variantId:e,pollId:t}){const i={variants:e};this.saveCompanyPollAnswer(t,i)}}},Eo=(0,J.Z)(To,[["render",ho]]),So=Eo;var fo=i(10159),Ao=i(58675),bo=i(37872),Io=i(75554),yo=i(62640),wo=i(41369),Po=i(91813);function Co(e,t,i,s,n,a){const o=(0,l.up)("TMUserNotice");return(0,l.wg)(),(0,l.j4)(o,{notice:a.notice,slim:""},null,8,["notice"])}var ko=i(15564);const Lo={name:"TMRegionalRestrictionNotice",components:{TMUserNotice:ko["default"]},props:{restrictions:{type:Array,required:!0},email:{type:String,required:!0}},computed:{notice(){return{level:"error",isPermanent:!0,message:this.msg("PUBLICATION_REGIONAL_RESTRICTION",{countries:this.countries,email:this.email})}},countries(){return this.restrictions.map((e=>e.country)).join(", ")}}},No=(0,J.Z)(Lo,[["render",Co]]),Oo=No;var Ro=i(33195),Mo=i(1231);function Uo(e,t,i,s,n,a){const o=(0,l.up)("TMArticleAuthor"),r=(0,l.up)("TMBlock"),c=(0,l.up)("SimilarAuthorsBlock"),u=(0,l.up)("TMArticleListBlock"),d=(0,l.up)("TMSimilarAndDailyArticles"),m=(0,l.up)("TMArticleBlocks");return(0,l.wg)(),(0,l.j4)(m,{article:i.article,"is-loading":i.isLoading},{beforeComments:(0,l.w5)((()=>[a.userInfo?((0,l.wg)(),(0,l.j4)(r,{key:0,"body-variant":"balanced"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{user:a.userInfo,"onChange:isSubscribed":a.onToggleSubscribeStatusArticle},(0,l.Nv)({_:2},[e.$slots.beforeUserCard&&e.$slots.beforeUserCard()?{name:"beforeCard",fn:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"beforeUserCard")])),key:"0"}:void 0]),1032,["user","onChange:isSubscribed"])])),_:3})):(0,l.kq)("",!0),s.showSimilarAuthors?((0,l.wg)(),(0,l.j4)(c,{key:1,alias:a.userInfo.alias,embedded:""},null,8,["alias"])):(0,l.kq)("",!0),(0,l.WI)(e.$slots,"afterAuthorBlocks")])),afterComments:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"beforeSimilarArticles"),s.isSandboxArticle&&s.similarList.length?((0,l.wg)(),(0,l.j4)(u,{key:0,"bookmark-module":"similarList","data-list":s.similarList,"ga-event":e.$options.similarGAEventName,title:e.msg("TITLE_SIMILAR")},null,8,["data-list","ga-event","title"])):i.showSimilarArticles?((0,l.wg)(),(0,l.j4)(d,{key:1,"article-id":i.id,"is-news":a.isNews},(0,l.Nv)({_:2},[e.$slots.dailyTopPromoLink?{name:"dailyTopPromoLink",fn:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"dailyTopPromoLink")])),key:"0"}:void 0]),1032,["article-id","is-news"])):(0,l.kq)("",!0),(0,l.WI)(e.$slots,"beforeDailyArticles"),s.isSandboxArticle&&s.dailyArticles.length?((0,l.wg)(),(0,l.j4)(u,{key:2,"data-list":s.dailyArticles,"ga-event":e.$options.dailyTopGaEventNames,spacing:"top",title:e.msg("TITLE_TOP_DAILY")},{lastItem:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"dailyTopPromoLink")])),_:3},8,["data-list","ga-event","title"])):(0,l.kq)("",!0),(0,l.WI)(e.$slots,"afterDailyArticles")])),_:3},8,["article","is-loading"])}var Do=i(47262),Bo=i(21805),Ho=i(38561),Fo=i(68970);const Vo={class:"article-author","data-test-id":"article-author-info"},$o={key:0,class:"author-contacts","data-test-id":"author-contacts"},Wo=["href"],Go=["href"],xo=["href"],qo=(0,l.aZ)({__name:"article-author",props:{user:{}},emits:["change:isSubscribed"],setup(e){const{msg:t}=(0,y.Q)(),i=e,{careerProfileLinks:s,contacts:n,areContactsFetched:a}=(0,Ho.L)((()=>i.user)),{isLoading:o}=(0,Bo.w)((()=>a()?Promise.resolve():(0,Fo.UJ)().loadProfileInfo(i.user.alias,!0)));return(e,i)=>((0,l.wg)(),(0,l.iD)("div",Vo,[(0,l.WI)(e.$slots,"beforeCard"),(0,l.Wm)(Do.Z,{"avatar-size":40,class:"user-card","invite-button-visible":!1,user:e.user,variant:"article","onChange:isSubscribed":i[0]||(i[0]=t=>e.$emit("change:isSubscribed",t))},null,8,["user"]),(0,r.SU)(o)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",$o,[(0,r.SU)(s)&&(0,r.SU)(s).careerProfileLink?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"contact","data-test-id":"author-contact-link",href:(0,r.SU)(s).careerProfileLink,rel:"noopener",target:"_blank"},(0,T.zw)((0,r.SU)(t)("HABR_CAREER")),9,Wo)):(0,l.kq)("",!0),(0,r.SU)(s)&&(0,r.SU)(s).expertProfileLink?((0,l.wg)(),(0,l.iD)("a",{key:1,class:"contact","data-test-id":"author-contact-link",href:(0,r.SU)(s).expertProfileLink,rel:"noopener",target:"_blank"},(0,T.zw)((0,r.SU)(t)("HABR_EXPERTS")),9,Go)):(0,l.kq)("",!0),(0,r.SU)(n)&&(0,r.SU)(n).length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:2},(0,l.Ko)((0,r.SU)(n),(e=>((0,l.wg)(),(0,l.iD)("a",{key:e.url,class:"contact","data-test-id":"author-contact-link",href:e.url,rel:"noopener",target:"_blank"},(0,T.zw)(e.title),9,xo)))),128)):(0,l.kq)("",!0)]))]))}}),Yo=(0,J.Z)(qo,[["__scopeId","data-v-0a6f3590"]]),Zo=Yo;var jo=i(37077),Ko=i(44555),zo=i(57546),Qo=i(53883),Xo=i(30636),Jo=i(92682),er=i(99343);const tr={name:"TMUserArticleBlocks",components:{SimilarAuthorsBlock:Qo.Z,TMSimilarAndDailyArticles:zo.Z,TMArticleListBlock:Ko.Z,TMArticleAuthor:Zo,TMBlock:za.Z,TMArticleBlocks:jo.Z},similarGAEventName:er.Pr,dailyTopGaEventNames:er.Ro,props:{article:{type:Object,default:()=>null},id:{type:String,required:!0},isLoading:{type:Boolean,required:!0},isShowStories:{type:Boolean,default:!0},showSimilarArticles:{type:Boolean,default:!0}},setup(e){const t=(0,Fo.UJ)(),i=(0,Jo.F)(),s=(0,F.g)(),n=(0,l.Fl)((()=>e.article&&"sandbox"===e.article.postType)),a=(0,Xo.w)((()=>{var t;return null===(t=e.article)||void 0===t?void 0:t.author.alias}));(0,l.bv)((()=>{(0,l.YP)((()=>e.article),(e=>{e&&(t.setUserInfo(e.author.alias,e.author),n.value&&(s.loadDailyArticles(),i.loadSimilarList(e.id)))}),{immediate:!0})}));const{getDailyArticles:o}=(0,d.Jk)(s),{similarList:r}=(0,d.Jk)(i);return{isSandboxArticle:n,showSimilarAuthors:a,dailyArticles:o,similarList:r}},data(){return{similarAndDailyActiveTabs:"daily"}},computed:{userInfo(){return this.article?(0,Fo.UJ)().getUserByAlias(this.article.author.alias)||this.article.author:null},isNews(){return this.article&&"news"===this.article.postType}},methods:{onToggleSubscribeStatusArticle(e){e&&(0,L.IZ)("subscribe_user")}}},ir=(0,J.Z)(tr,[["render",Uo]]),sr=ir;function nr(e,t,i,s,n,a){const o=(0,l.up)("TMArticleExtraMenu");return(0,l.wg)(),(0,l.j4)((0,l.LL)(a.presenter),(0,T.vs)((0,l.F4)(a.presenterBinding)),{beforeBody:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"beforeBody")])),articleMenu:(0,l.w5)((()=>[(0,l.Wm)(o,{"current-author":i.publication.author,"publication-id":i.publication.id},null,8,["current-author","publication-id"])])),footer:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"footer")])),_:3},16)}var ar=i(49240),or=i(87366);const rr={class:"tm-post-presenter"},lr={class:"tm-post-presenter__body","data-test-id":"article-body"},cr={ref:"article",class:"tm-post-presenter__content"},ur={key:0,class:"tm-post-presenter__loading"},dr={class:"tm-post-presenter__header"},mr={key:0,class:"tm-post-presenter__footer"};function pr(e,t,i,s,n,a){const o=(0,l.up)("TMPlaceholder"),r=(0,l.up)("PostSnippet"),c=(0,l.Q2)("hotkey");return(0,l.wg)(),(0,l.iD)("div",rr,[(0,l.WI)(e.$slots,"beforeBody"),(0,l._)("div",lr,[(0,l.wy)(((0,l.wg)(),(0,l.iD)("article",cr,[i.isLoading?((0,l.wg)(),(0,l.iD)("div",ur,[(0,l.Wm)(o,{type:"article"}),(0,l.Wm)(o,{type:"article"})])):i.post?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("div",dr,[(0,l.WI)(e.$slots,"beforeSnippet")]),(0,l.WI)(e.$slots,"body",{},(()=>[(0,l.Wm)(r,{ref:"postSnippet","compact-view":!1,post:i.post,"show-icons":!0},null,8,["post"])]))],64)):(0,l.kq)("",!0)])),[[c,a.hotkeys,void 0,{stop:!0}]])]),(0,l.WI)(e.$slots,"beforeFooter"),e.$slots.footer?((0,l.wg)(),(0,l.iD)("div",mr,[(0,l.WI)(e.$slots,"footer")])):(0,l.kq)("",!0)])}var _r=i(34948),hr=i(6202),gr=i(42794),vr=i(57733),Tr=i(35457),Er=i(4344),Sr=i.n(Er),fr=i(61254),Ar=i.n(fr);const br={name:"TMPostPresenter",components:{TMPlaceholder:Ui.Z,PostSnippet:hr.Z},props:{post:{type:Object,default:null},isLoading:{type:Boolean,required:!0},shouldLogPageview:{type:Boolean,default:!0},companyInfo:{type:Object,required:!1,default:null}},setup(e){const t=(0,I.yj)(),i=(0,r.iH)(!1),s=(0,k.q)(),n=()=>new Promise((s=>{var n;if(i.value)return void s();(0,vr.d1)(e.post.id).catch((e=>{la.Z.notifyException(e)})).finally(s);const a={hubs_and_flows:Sr()(e.post)},o=Ar()({companySettings:null===(n=e.companyInfo)||void 0===n?void 0:n.settings,isEditorial:e.post.isEditorial});o&&(a.page_producer=o),(0,L.Z0)({fullPath:t.fullPath,optionalParams:a}),i.value=!0})),a=(0,l.Fl)((()=>t.params.companyName)),o=(0,l.Fl)((()=>a.value?e.companyInfo&&e.companyInfo.settings&&e.post?{...e.post,settings:e.companyInfo.settings}:null:e.post));(0,l.bv)((()=>{(0,l.YP)((()=>o.value),((e,t)=>{e&&!(0,gr.wm)(e,t)&&(n().then((()=>{s.isLoggedIn&&s.loadUpdates()})),(0,oa.Df)(),s.isLoggedIn||"undefined"===typeof indexedDB||(0,_r.t8)(e.id,e.statistics.commentsCount))}),{immediate:!0})}));const c=(0,g.f)(),u=c.get("habr_web_home_feed");return{hasTrackedPageview:i,homeCookie:u}},data(){return{hasMounted:!1}},head(){if(!this.post)return{};const{post:e}=this,{lang:t,metadata:i}=e,s=(0,v.vz)(e,this.msg);if(!i)return{title:s};const{shareImageUrl:n,schemaJsonLd:a,amp:o}=i,r=[{href:(0,Tr.articleCanonical)(e),rel:"canonical",vmid:"canonical"},{rel:"image_src",href:n,vmid:"image:href"}];return o&&this.langOptions.hl===t&&r.push({rel:"amphtml",href:`https://habr.com/${t}/amp/publications/${e.id}/`}),{title:s,link:r,meta:(0,v.GD)(e,this.msg),script:[{type:"application/ld+json",innerHTML:a,vmid:"ldjson-schema"}]}},computed:{hotkeys(){return{"meta+e":this.checkAndOpenPostEdit,"ctrl+e":this.checkAndOpenPostEdit,u:this.goToLastVisitedArticlesList}}},mounted(){this.hasMounted=!0},methods:{checkAndOpenPostEdit(){this.post.relatedData.canEdit&&this.$refs.postSnippet&&this.$refs.postSnippet.editPost()},goToLastVisitedArticlesList(){const e=(0,_s.bc)(this.langOptions,this.homeCookie),t=(0,F.g)().lastVisitedRoute,i=t.name?t:e;this.$router.push(i)},initAdriverPixels(){this.adriverPixels.forEach((e=>{const t=new Image;t.src=e}))}}},Ir=(0,J.Z)(br,[["render",pr]]),yr=Ir;var wr=i(56842);const Pr={name:"TMUserPublicationPresenter",components:{TMArticleExtraMenu:ar.Z,TMArticlePresenter:or.Z,TMPostPresenter:yr},props:{publication:{type:Object,default:null},isLoading:{type:Boolean,required:!0},isPost:{type:Boolean,required:!0},companyInfo:{type:Object,required:!1,default:null}},setup(e){const t=(0,I.tv)(),i=(0,I.yj)(),{langOptions:s}=(0,y.Q)(),n=()=>{const n=(0,wr.Q)(e.publication,e.publication.id,s.value.hl),a=`${n}`;i.path!==a&&t.replace({path:a,hash:i.hash})};(0,l.bv)((()=>{(0,l.YP)((()=>e.publication),(e=>{e&&n()}),{immediate:!0})}))},computed:{presenter(){return this.isPost?"TMPostPresenter":"TMArticlePresenter"},presenterBinding(){return this.isPost?{post:this.publication,isLoading:this.isLoading}:{companyInfo:this.companyInfo,article:this.publication,isLoading:this.isLoading}}}},Cr=(0,J.Z)(Pr,[["render",nr]]),kr=Cr;function Lr(e,t,i,s,n,a){const o=(0,l.up)("TMCompanyAdministrationBlock"),r=(0,l.up)("TMCompanyBasicInfoBlock"),c=(0,l.up)("TMCompanyWidgets"),u=(0,l.up)("TMArticleListBlock"),d=(0,l.up)("TMStories"),m=(0,l.up)("TMLayoutSidebar");return a.isDesktop?((0,l.wg)(),(0,l.j4)(m,{key:0,"show-adv":a.showPromo},{top:(0,l.w5)((()=>[i.companyInfo&&a.showAdministrationBlock?((0,l.wg)(),(0,l.j4)(o,{key:0,"company-info":i.companyInfo},null,8,["company-info"])):(0,l.kq)("",!0)])),default:(0,l.w5)((()=>[i.companyInfo?((0,l.wg)(),(0,l.j4)(r,{key:0,"company-info":i.companyInfo},null,8,["company-info"])):(0,l.kq)("",!0),i.companyName&&i.companyInfo&&!a.isCompanyExpired?((0,l.wg)(),(0,l.j4)(c,{key:1,"company-alias":i.companyName},null,8,["company-alias"])):(0,l.kq)("",!0),i.companyName&&a.companyBlogList&&a.companyBlogList.length?((0,l.wg)(),(0,l.j4)(u,{key:2,"data-list":a.companyBlogList,layout:"sidebar",title:e.msg("TITLE_HABR_BLOG")},null,8,["data-list","title"])):(0,l.kq)("",!0),a.showPromo?((0,l.wg)(),(0,l.j4)(d,{key:3,"ga-category":"stories_sidebar","is-sidebar":!0})):(0,l.kq)("",!0)])),_:1},8,["show-adv"])):(0,l.kq)("",!0)}var Nr=i(55007),Or=i(11644),Rr=i(20746),Mr=i(57053),Ur=i(85725),Dr=i(34565);const Br={name:"TMArticleCorporativeSidebar",components:{TMArticleListBlock:Ko.Z,TMCompanyAdministrationBlock:Nr.Z,TMCompanyBasicInfoBlock:Or.Z,TMCompanyWidgets:Rr.Z,TMLayoutSidebar:Mr.Z,TMStories:Mo.Z},props:{companyName:{type:String,default:null},companyInfo:{type:Object,default:null}},computed:{isDesktop(){return(0,ne.s)().isDesktop},isCompanyExpired(){return(0,Dr.fd)(this.companyInfo)},companyBlogList(){const e=(0,Ur.Z)((0,Dr.kM)(this.companyName));return(0,F.g)().getArticlesList(e)},showAdministrationBlock(){const e=this.companyInfo?this.companyInfo.aDeskSettings:null;return e&&e.access||(0,k.q)().isSuperAdmin},showPromo(){var e,t;return null===(e=this.companyInfo)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.shouldShowHabrAds}},mounted(){this.$watch((()=>[this.companyName,this.isDesktop]),(([e,t])=>{t&&e&&(0,F.g)().loadArticlesList({route:(0,Dr.kM)(e)})}),{immediate:!0,deep:!0})}},Hr=(0,J.Z)(Br,[["render",Lr]]),Fr=Hr;var Vr=i(32020),$r=i(73313),Wr=i(24440);const Gr={name:"TMCompanyPublicationPage",components:{BannerResolver:Ka.Z,TMRegionalRestrictionNotice:Oo,TMMultiwidgetBlock:Ao.Z,TMPromoPostLink:Po.Z,TMCompanyPoll:So,TMRandomProjectBlock:Io.Z,TMPromoBlock:wo.Z,TMArticleCorporativeSidebar:Fr,TMUserPublicationPresenter:kr,TMUserArticleBlocks:sr,TMCompanyProfileCard:fo.Z,TMCompanyBranding:Qa.Z,TMPage:Ps.Z,TMCompanyInfo:po,TMStories:Mo.Z,TMPlaceholder:Ui.Z,TMBlock:za.Z,TMAdfoxBanner:b.Z,TMSponsorBlock:Ro.Z},props:{id:{type:String,required:!0}},setup(e){const t=(0,F.g)(),i=(0,Ln.l)(),s=(0,ne.s)(),n=(0,k.q)(),{langOptions:a}=(0,y.Q)(),{userShowAdv:o}=(0,d.Jk)(n),r=(0,I.yj)(),c=(0,l.Fl)((()=>(0,$r.E)(r.name))),u=(0,l.Fl)((()=>t.getArticleById(e.id))),m=(0,l.Fl)((()=>{if(!u.value)return null;const e=u.value.hubs.find((e=>"corporative"===e.type));return e?e.alias.toLowerCase():null})),p=(0,l.Fl)((()=>m.value?i.getCompanyInfo(m.value):null));function _(){return i.loadCompanyInfo(m.value).catch((e=>{const t=(0,Gs.getErrorCode)(e);if("NOT_FOUND"!==t)throw e}))}const h=()=>u.value&&u.value.textHtml?Promise.resolve():t.loadArticle(e.id,c.value);(0,l.bv)((()=>{(0,l.YP)((()=>p.value),((e,t)=>{e&&!(0,gr.Uc)(e,t)&&(0,Vr.S)(e,r.fullPath)}),{immediate:!0})}));const{isDesktop:g,isMobile:v}=(0,d.Jk)(s),T=(0,l.Fl)((()=>{var e,t;return(null===(e=u.value)||void 0===e?void 0:e.id)&&"en"!==(null===(t=a.value)||void 0===t?void 0:t.fl)}));return{...(0,Bo.w)((()=>h().then(_))),article:u,isPost:c,companyAlias:m,companyInfo:p,articlesListStore:t,isDesktop:g,isMobile:v,userShowAdv:o,isShowProjectBlock:T,langOptions:a}},head(){const{article:e}=this;if(!e||!e.metadata||!this.companyInfo)return{};const t=`${e.titleHtml} / ${this.msg("ARTICLE_COMPANY_BLOG",{companyName:this.companyInfo.titleHtml})}`;return{title:(0,Wr._)(t)}},computed:{blocks(){const e={};return this.schoolAlias&&(e.companyCourses=bo.Z),this.careerAlias&&(e.vacancies=yo.Z),e},dailyTopPromoLink(){return(0,Ke.W)().dailyTopPromoLink},showCompanyBranding(){var e,t;return null===(e=this.companyInfo.settings)||void 0===e||null===(t=e.branding)||void 0===t?void 0:t.imageUrl},companyTitle(){return this.companyInfo.titleHtml},careerAlias(){return this.companyInfo.careerAlias},schoolAlias(){return this.companyInfo.schoolAlias},showPromo(){var e,t;return null===(e=this.companyInfo)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.shouldShowHabrAds},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType},companyHasActivePolls(){var e,t;return null===(e=this.companyInfo)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.hasActivePolls},articleHasPolls(){var e;return(null===(e=this.article.polls)||void 0===e?void 0:e.length)>0},articleHasMultiwidget(){return this.article&&Boolean(this.article.multiwidget)},showSimilarArticlesAndVacanciesOrCourses(){return!!this.companyInfo&&(!this.companyHasActivePolls&&!this.articleHasMultiwidget)},showRandomProjectBlock(){return this.companyInfo&&(this.careerAlias||this.schoolAlias)&&this.article&&this.article.id}}},xr=(0,J.Z)(Gr,[["render",ja]]),qr=xr;function Yr(e,t,i,s,n,a){const o=(0,l.up)("TMAdfoxBanner"),r=(0,l.up)("TMRegionalRestrictionNotice"),c=(0,l.up)("TMSponsorBlock"),u=(0,l.up)("BannerResolver"),d=(0,l.up)("TMPromoBlock"),m=(0,l.up)("TMStories"),p=(0,l.up)("TMRandomProjectBlock"),_=(0,l.up)("TMVacanciesBlock"),h=(0,l.up)("TMEventsWidget"),g=(0,l.up)("TMPromoPostLink"),v=(0,l.up)("TMUserArticleBlocks"),T=(0,l.up)("TMUserPublicationPresenter"),E=(0,l.up)("TMArticleSidebar"),S=(0,l.up)("TMPage");return(0,l.wg)(),(0,l.j4)(S,null,{default:(0,l.w5)((()=>[s.userShowAdv&&a.isMobile?((0,l.wg)(),(0,l.j4)(o,{key:0,"adfox-id":"169815559787254866","div-id":"topBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},variant:"narrow"})):(0,l.kq)("",!0),(0,l.Wm)(T,{"is-loading":e.isLoading,"is-post":s.isPost,publication:s.article},{beforeBody:(0,l.w5)((()=>[s.article&&s.article.regionalRestrictions&&s.article.regionalRestrictions.length?((0,l.wg)(),(0,l.j4)(r,{key:0,email:s.article.authorEmail,restrictions:s.article.regionalRestrictions},null,8,["email","restrictions"])):(0,l.kq)("",!0)])),footer:(0,l.w5)((()=>[(0,l.Wm)(v,{id:i.id,article:s.article,"is-loading":e.isLoading},(0,l.Nv)({beforeDailyArticles:(0,l.w5)((()=>[a.isMobile?((0,l.wg)(),(0,l.j4)(m,{key:1,"ga-category":"stories_mobile"})):((0,l.wg)(),(0,l.j4)(d,{key:0,"ga-type":"post",layout:"article"})),!a.isFlEnglish&&s.article&&s.article.id?((0,l.wg)(),(0,l.j4)(p,{key:2,"block-id":"project-block-article",hubs:s.articlesListStore.getArticleHubsTitles(i.id),location:"post",tags:s.articlesListStore.getArticleTagsTitles(i.id)},null,8,["hubs","tags"])):(0,l.kq)("",!0)])),dailyTopPromoLink:(0,l.w5)((()=>[s.promoDataStore.dailyTopPromoLink?((0,l.wg)(),(0,l.j4)(g,{key:0,appearance:a.isSandboxArticle?"top-daily":"top-daily-card","promo-post":s.promoDataStore.dailyTopPromoLink},null,8,["appearance","promo-post"])):(0,l.kq)("",!0)])),_:2},[s.userShowAdv?{name:"afterAuthorBlocks",fn:(0,l.w5)((()=>{var t,i;return[a.isMobile||"ru"!==e.langOptions.hl?((0,l.wg)(),(0,l.j4)(u,{key:1,"adfox-params":{adfoxId:"164725660339535756",divId:"articleBottomBanner",params:{pp:"h",ps:"fnps",p2:"hnyb"}},class:"tm-page-article__banner","roxot-params":{bannerName:"Leaderboard-gam"},variant:"leaderboard"})):((0,l.wg)(),(0,l.j4)(c,{key:0,"flow-name":null===(t=s.article)||void 0===t||null===(i=t.flowNew)||void 0===i?void 0:i.alias},null,8,["flow-name"]))]})),key:"0"}:void 0,a.isMobile?{name:"afterDailyArticles",fn:(0,l.w5)((()=>[(0,l.Wm)(d,{"ga-type":"post",layout:"article"}),!a.isFlEnglish&&s.article&&s.article.hubs?((0,l.wg)(),(0,l.j4)(_,{key:0,hubs:s.article.hubs.map((({alias:e})=>e)),spacing:"top"},null,8,["hubs"])):(0,l.kq)("",!0),a.isFlEnglish||!s.article||s.article.isCorporative?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(h,{key:1}))])),key:"1"}:void 0]),1032,["id","article","is-loading"])])),_:1},8,["is-loading","is-post","publication"])])),sidebar:(0,l.w5)((()=>[(0,l.Wm)(E,{article:s.article},null,8,["article"])])),_:1})}var Zr=i(77541),jr=i(61345);function Kr(e,t,i,s,n,a){const o=(0,l.up)("TMMostReadingBlock"),r=(0,l.up)("TMStories"),c=(0,l.up)("TMVacanciesBlock"),u=(0,l.up)("TMEventsBlock"),d=(0,l.up)("TMLayoutSidebar");return a.isDesktop&&i.article&&i.article.id?((0,l.wg)(),(0,l.j4)(d,{key:0,"show-adv":""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{"ga-type":"post",layout:"sidebar",spacing:"bottom"}),a.isFlEnglish?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(r,{key:0,"ga-category":"stories_sidebar","is-sidebar":!0})),!a.isFlEnglish&&i.article.hubs?((0,l.wg)(),(0,l.j4)(c,{key:1,hubs:i.article.hubs.map((({alias:e})=>e))},null,8,["hubs"])):(0,l.kq)("",!0),a.isFlEnglish||i.article.isCorporative?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(u,{key:2}))])),_:1})):(0,l.kq)("",!0)}var zr=i(19538),Qr=i(38947),Xr=i(7550),Jr=i(59896),el=i(85353);const tl={__name:"events-block",setup(e){const t=(0,r.iH)(!0),i=(0,el.q)();(0,l.bv)((async()=>{try{await i.loadActualEvents()}catch(e){(0,Jr.T)(e)}finally{t.value=!1}}));const s=(0,r.iH)(0),{actualEvents:n}=(0,d.Jk)(i),{msg:a}=(0,y.Q)();function o(e){(0,L.IZ)("tm_block_calendar_post",{event_label:e.id})}function c(e){s.value=e}return(e,i)=>t.value||(0,r.SU)(n)&&(0,r.SU)(n).length?((0,l.wg)(),(0,l.j4)(za.Z,{key:0,class:"block",spacing:"around",title:(0,r.SU)(a)("EVENTS_UPCOMING")},{default:(0,l.w5)((()=>[t.value&&!(0,r.SU)(n)?((0,l.wg)(),(0,l.j4)(Ui.Z,{key:0,responsive:!1,type:"eventCard"})):!t.value&&(0,r.SU)(n)&&(0,r.SU)(n).length?((0,l.wg)(),(0,l.j4)(Qr.Z,{key:1,"active-slide":s.value,"auto-height":"",class:"slider",navigation:"","slides-per-view":1,"space-between":22,onSlideChange:c},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,r.SU)(n),(e=>((0,l.wg)(),(0,l.j4)(Xr.Z,{key:e.id},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)(zr.Z,{key:`${e.id}-card`,event:e,"is-widget":"",responsive:!1,onClick:o},null,8,["event"]))])),_:2},1024)))),128))])),_:1},8,["active-slide"])):(0,l.kq)("",!0)])),_:1},8,["title"])):(0,l.kq)("",!0)}},il=(0,J.Z)(tl,[["__scopeId","data-v-f7a30433"]]),sl=il;var nl=i(479);const al={name:"TMArticleSidebar",components:{TMEventsBlock:sl,TMMostReadingBlock:nl.Z,TMLayoutSidebar:Mr.Z,TMVacanciesBlock:jr.Z,TMStories:Mo.Z},props:{article:{type:Object,default:null}},computed:{isDesktop(){return(0,ne.s)().isDesktop},isFlEnglish(){return"en"===this.langOptions.fl}}},ol=(0,J.Z)(al,[["render",Kr]]),rl=ol,ll={name:"TMUserPublicationPage",components:{BannerResolver:Ka.Z,TMEventsWidget:Zr.Z,TMRegionalRestrictionNotice:Oo,TMPromoPostLink:Po.Z,TMArticleSidebar:rl,TMRandomProjectBlock:Io.Z,TMPromoBlock:wo.Z,TMAdfoxBanner:b.Z,TMPage:Ps.Z,TMUserPublicationPresenter:kr,TMUserArticleBlocks:sr,TMVacanciesBlock:jr.Z,TMStories:Mo.Z,TMSponsorBlock:Ro.Z},props:{id:{type:String,required:!0}},setup(e){const t=(0,F.g)(),i=(0,Ke.W)(),s=(0,k.q)(),{userShowAdv:n}=(0,d.Jk)(s),a=(0,l.Fl)((()=>t.getArticleById(e.id))),o=(0,I.yj)();let r=!1;const c=(0,l.Fl)((()=>Ia.dT.includes(o.name)?(r=(0,$r.E)(o.name),r):r)),u=()=>a.value&&a.value.textHtml&&!a.value.authorContacts?Promise.resolve():t.loadArticle(e.id,c.value);return{...(0,Bo.w)(u),isPost:c,article:a,articlesListStore:t,promoDataStore:i,userShowAdv:n}},computed:{isMobile(){return(0,ne.s)().isMobile},isFlEnglish(){return"en"===this.langOptions.fl},isSandboxArticle(){return this.article&&"sandbox"===this.article.postType}}},cl=(0,J.Z)(ll,[["render",Yr]]),ul=cl;function dl(){return i.e(7478).then(i.bind(i,61763))}function ml(){return i.e(7478).then(i.bind(i,92929))}function pl(){return Promise.all([i.e(1077),i.e(269)]).then(i.bind(i,96131))}const _l=[{...(0,Ia.g1)(Ia.VU.POST,ul),path:`posts/:id${ya.PUBLICATION_ID_MATCH}/`},{path:`news/t/:id${ya.PUBLICATION_ID_MATCH}/`,redirect:{name:Ia.VU.NEWS}},{...(0,Ia.g1)(Ia.VU.NEWS,ul,!0),path:`news/:id${ya.PUBLICATION_ID_MATCH}/`},{path:`news/t/:id${ya.PUBLICATION_ID_MATCH}/`,redirect:e=>({...e,name:Ia.VU.ARTICLE_OF_COMPANY}),meta:{status:301}},{path:`post/:id${ya.PUBLICATION_ID_MATCH}/`,redirect:{name:Ia.VU.ARTICLE}},{...(0,Ia.g1)(Ia.VU.ARTICLE,ul),path:`articles/:id${ya.PUBLICATION_ID_MATCH}/`},{path:`p/:id${ya.PUBLICATION_ID_MATCH}/`,redirect:{name:Ia.VU.ARTICLE}},{path:`company/:companyName/blog/:id${ya.PUBLICATION_ID_MATCH}/`,redirect:{name:Ia.VU.ARTICLE_OF_COMPANY}},{...(0,Ia.g1)(Ia.VU.ARTICLE_OF_COMPANY,qr),path:`companies/:companyName/articles/:id${ya.PUBLICATION_ID_MATCH}/`},{path:`blogs/:companyName/:id${ya.PUBLICATION_ID_MATCH}/`,redirect:e=>({...e,name:Ia.VU.ARTICLE_OF_COMPANY}),meta:{status:301}},{name:Ia.VU.ARTICLE_SANDBOX,path:`sandbox/:id${ya.PUBLICATION_ID_MATCH}/`,components:{default:pl},meta:{pageType:"sandbox",rssLink:e=>`/rss/post/${e.id}/`}},{path:`company/:companyName/news/t/:id${ya.PUBLICATION_ID_MATCH}/`,redirect:{name:Ia.VU.NEWS_OF_COMPANY}},{...(0,Ia.g1)(Ia.VU.NEWS_OF_COMPANY,qr,!0),path:`companies/:companyName/news/:id${ya.PUBLICATION_ID_MATCH}/`},{...(0,Ia.g1)(Ia.VU.POST_OF_COMPANY,qr),path:`companies/:companyName/posts/:id${ya.PUBLICATION_ID_MATCH}/`},{path:`article/:id${ya.PUBLICATION_ID_MATCH}/`,redirect:{name:Ia.VU.SPECIAL}},{...(0,Ia.g1)(Ia.VU.SPECIAL,dl),path:`specials/:id${ya.PUBLICATION_ID_MATCH}/`},{path:`article/preview/:hash${ya.HASH_MATCH}/`,redirect:{name:Ia.VU.SPECIAL_PREVIEW}},{...(0,Ia.g1)(Ia.VU.SPECIAL_PREVIEW,ml),path:`specials/preview/:hash${ya.HASH_MATCH}/`}];function hl(){return i.e(7628).then(i.bind(i,73062))}function gl(){return i.e(7628).then(i.bind(i,28110))}function vl(){return i.e(7628).then(i.bind(i,86599))}const Tl=[{path:"beta/",components:{default:hl},children:[{name:"BETA_TEST",path:"",meta:{title:"BETA_TESTING_TITLE",requiresAuth:!0,rootPage:!0},components:{default:gl}},{name:"BETA_TEST_ARCHIVED_ANNOUNCEMENT",path:`archieve/:id${ya.ID_MATCH}`,meta:{title:"BETA_TESTING_TITLE"},components:{default:vl}},{path:"welcome/",redirect:e=>({...e,name:"BETA_TEST"})}]}];var El=i(66259);function Sl(e){return/^page\d+$/i.test(e)}function fl(e){return e.replace(/[^0-9]/g,"")}function Al(){return Promise.all([i.e(348),i.e(1539),i.e(2972)]).then(i.bind(i,48452))}function bl(){return i.e(204).then(i.bind(i,22096))}function Il(){return i.e(204).then(i.bind(i,82811))}function yl(){return i.e(204).then(i.bind(i,89831))}function wl(){return i.e(204).then(i.bind(i,58854))}function Pl(){return i.e(204).then(i.bind(i,89495))}function Cl(){return i.e(204).then(i.bind(i,93385))}function kl(){return Promise.all([i.e(348),i.e(1539),i.e(2972)]).then(i.bind(i,1898))}function Ll(){return Promise.all([i.e(348),i.e(1539),i.e(2972)]).then(i.bind(i,39400))}function Nl(){return Promise.all([i.e(348),i.e(1539),i.e(2972)]).then(i.bind(i,27559))}function Ol(){return Promise.all([i.e(348),i.e(1539),i.e(2972)]).then(i.bind(i,70710))}function Rl(){return Promise.all([i.e(348),i.e(1539),i.e(2972)]).then(i.bind(i,49237))}const Ml=[{name:"COMPANY_ADD",path:"companies/add/",components:{default:bl},children:[{name:"COMPANY_ADD_AGREEMENT",path:"agreement/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Il}},{name:"COMPANY_ADD_CONTACTS",path:"contacts/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:yl}},{name:"COMPANY_ADD_TARIFF",path:"tariff/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:wl}},{name:"COMPANY_ADD_COMPANY",path:"company/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Pl}},{name:"COMPANY_ADD_REQUISITES",path:"requisites/",pathToRegexpOptions:{strict:!0},meta:{requiresAuth:!0},components:{default:Cl}}]},{path:`company/:name${ya.COMPANY_ALIAS_MATCH}/`,redirect:{name:"ARTICLES_LIST_BY_COMPANY"}},{name:"COMPANY_PROFILE_ROOT",path:`companies/:name${ya.COMPANY_ALIAS_MATCH}/`,meta:{pageType:"company",customGA:!0},components:{default:Al},redirect:e=>Sl(`${e.params.name}`)?{...e,params:{...e.params,pageNum:fl(e.params.name)},name:"COMPANIES_PAGES"}:{...e,name:"ARTICLES_LIST_BY_COMPANY"},children:[{name:"COMPANY_PROFILE",path:"profile/",components:{default:Nl},meta:{renderAlternateMetaTag:!0}},{name:"COMPANY_BRANDING_PREVIEW",path:`branding/:brandingId${ya.ID_MATCH}/preview/`,components:{default:kl},meta:{showArticleFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_BRANDING_PREVIEW_PAGES",path:"page:pageNum(\\d+)/",meta:{showArticleFilter:!0,navTitle:"NAV_NEW"}}]},{path:"blog/",redirect:{name:"ARTICLES_LIST_BY_COMPANY"}},{name:"POSTS_BY_COMPANY",path:"posts/",components:{default:kl},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_NEW"},children:[{name:"POSTS_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_NEW"}}]},{name:"POSTS_BY_COMPANY_TOP",path:"posts/top/",pathToRegexpOptions:{strict:!0},components:{default:kl},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_BEST"},children:[{name:"POSTS_BY_COMPANY_TOP_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{showArticleFilter:!1,showPostsFilter:!0,navTitle:"NAV_BEST"}}]},{name:"ARTICLES_LIST_BY_COMPANY",path:"articles/",components:{default:kl},meta:{showArticleFilter:!0,navTitle:"NAV_NEW",rssLink:e=>`/rss/companies/${e.name}/articles/`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",meta:{showArticleFilter:!0,navTitle:"NAV_NEW",rssLink:e=>`/rss/companies/${e.name}/articles/`}}]},{name:"ARTICLES_LIST_TOP_BY_COMPANY",path:"articles/top/",components:{default:kl},meta:{showArticleFilter:!0,navTitle:"NAV_BEST",renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_TOP_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",meta:{showArticleFilter:!0,navTitle:"NAV_BEST"}}]},{name:"NEWS_LIST_BY_COMPANY",path:"news/",components:{default:kl},meta:{rssLink:e=>`/rss/companies/${e.name}/articles/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_BY_COMPANY_PAGES",path:"page:pageNum(\\d+)/",meta:{rssLink:e=>`/rss/companies/${e.name}/articles/`}}]},{name:"COMPANY_VACANCIES",path:"vacancies/",components:{default:Ol},children:[{name:"COMPANY_VACANCIES_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"COMPANY_VACANCIES",noindex:!0}}]},{name:"COMPANY_WORKERS",path:"workers/",redirect:{name:"COMPANY_WORKERS_ALL"}},{name:"COMPANY_WORKERS_ALL",path:"workers/all/rating/",components:{default:Rl},meta:{canonicalRoute:"COMPANY_PROFILE",noindex:!0,nofollow:!0,showUsersFilter:!0,navTitle:"NAV_ALL"},children:[{name:"COMPANY_WORKERS_ALL_PAGES",path:"page:pageNum(\\d+)/",beforeEnter:El.X,meta:{noindex:!0,nofollow:!0,canonicalRoute:"COMPANY_PROFILE",showUsersFilter:!0,navTitle:"NAV_ALL"}}]},{name:"COMPANY_WORKERS_NEW",path:"workers/new/rating/",components:{default:Rl},meta:{canonicalRoute:"COMPANY_PROFILE",noindex:!0,nofollow:!0,showUsersFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_WORKERS_NEW_PAGES",path:"page:pageNum(\\d+)/",beforeEnter:El.X,meta:{noindex:!0,nofollow:!0,canonicalRoute:"COMPANY_PROFILE",showUsersFilter:!0,navTitle:"NAV_NEW"}}]},{name:"COMPANY_FANS",path:"fans/",redirect:{name:"COMPANY_FANS_ALL"}},{name:"COMPANY_FANS_ALL",path:"fans/all/rating/",components:{default:Ll},meta:{showFansFilter:!0,navTitle:"NAV_ALL",noindex:!0,nofollow:!0,canonicalRoute:"COMPANY_PROFILE"},children:[{name:"COMPANY_FANS_ALL_PAGES",path:"page:pageNum(\\d+)/",beforeEnter:El.X,meta:{showFansFilter:!0,navTitle:"NAV_ALL",noindex:!0,nofollow:!0,canonicalRoute:"COMPANY_PROFILE"}}]},{name:"COMPANY_FANS_NEW",path:"fans/new/rating/",components:{default:Ll},meta:{noindex:!0,nofollow:!0,canonicalRoute:"COMPANY_PROFILE",showFansFilter:!0,navTitle:"NAV_NEW"},children:[{name:"COMPANY_FANS_NEW_PAGES",path:"page:pageNum(\\d+)/",beforeEnter:El.X,meta:{noindex:!0,nofollow:!0,canonicalRoute:"COMPANY_PROFILE",showFansFilter:!0,navTitle:"NAV_NEW"}}]}]}];function Ul(){const e=["widgets/","vkontakte-groups/","facebook-like-box/","applications/","twitter-stream/","links/"],t=e.reduce(((e,t)=>({...e,[t]:"settings/widgets/"})),{});return{...t,"statistics-summary/":"statistics/summary/","authors-statistics/":"statistics/authors/","hubs-statistics/":"statistics/hubs/","post-list/":"posts/articles/","post-list/page:pageNum(\\d+)/":"posts/articles/page:pageNum/","news-list/":"posts/news/","news-list/page:pageNum(\\d+)/":"posts/news/page:pageNum/","administrators-list/":"company/users/","administrators-list/page:pageNum(\\d+)/":"company/users/page:pageNum/","administrators-list/add/":"company/users/add/","employees-list/":"company/employees/","employees-list/page:pageNum(\\d+)/":"company/employees/page:pageNum/","employees-list/requests/":"company/employees/requests/","employees-list/requests/page:pageNum(\\d+)/":"company/employees/requests/page:pageNum/","employees-list/add/":"company/employees/add/","invites/":"company/invitations/","vacancies/":"company/vacancies/listing/","vacancies/page:pageNum(\\d+)/":"company/vacancies/listing/page:pageNum/","log/":"company/logs/","log/page:pageNum(\\d+)/":"company/logs/page:pageNum/","current-subscription/":"billing/current/","prolongation/":"billing/renewal/","activation-code/":"billing/activation/","requisites/":"billing/requisites/","requisites/add/":"billing/requisites/add","finance/":"billing/finance/","description/":"settings/card/","widgets/":"settings/widgets/","branding/":"settings/branding/","localization/":"settings/localization/","analytics/":"settings/analytics/","documents/faq/":"faq/"}}function Dl(){const e=Ul();return Object.keys(e).reduce(((t,i)=>{const s={path:i,redirect:e[i]};return t.concat(s)}),[])}function Bl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,77344))}function Hl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,73122))}function Fl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,95891))}function Vl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,2179))}function $l(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,26845))}function Wl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,18788))}function Gl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,10227))}function xl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,64255))}function ql(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,41625))}function Yl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,13245))}function Zl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,74674))}function jl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,42933))}function Kl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,26907))}function zl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,32555))}function Ql(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,98161))}function Xl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,27276))}function Jl(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,8499))}function ec(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,47462))}function tc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,80547))}function ic(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,54563))}function sc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,23782))}function nc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,34838))}function ac(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,43626))}function oc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,78223))}function rc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,53230))}function lc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,548))}function cc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,37987))}function uc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,20245))}function dc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,90423))}function mc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,69244))}function pc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,36701))}function _c(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,97153))}function hc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,20339))}function gc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,83092))}function vc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,70985))}function Tc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,31802))}function Ec(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,77052))}function Sc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,24168))}function fc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,83470))}function Ac(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,98386))}function bc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,33970))}function Ic(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,12460))}function yc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,92665))}function wc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,61646))}function Pc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,90549))}function Cc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,54338))}function kc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,40287))}function Lc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,36387))}function Nc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,45510))}function Oc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,12331))}function Rc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,3362))}function Mc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,31210))}function Uc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,57901))}function Dc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,57266))}function Bc(){return Promise.all([i.e(6555),i.e(1539),i.e(7255),i.e(4670)]).then(i.bind(i,1365))}const Hc=[{path:"company/:name/admin/",redirect:{name:"COMPANY_ADMIN"}},{name:"COMPANY_ADMIN",path:"companies/:name/admin/",components:{default:Bl},redirect:{name:"COMPANY_ADMIN_STATISTICS"},meta:{rootPage:!0},children:[...Dl(),{name:"COMPANY_ADMIN_STATISTICS",path:"statistics/",meta:{requiresAuth:!0},components:{default:Hl},redirect:{name:"COMPANY_ADMIN_STATISTICS_SUMMARY"},children:[{name:"COMPANY_ADMIN_STATISTICS_SUMMARY",path:"summary/",components:{default:Yl},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_STATISTICS_AUTHORS",path:"authors/",components:{default:Zl},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_STATISTICS_AUTHORS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_STATISTICS_AUTHORS"}}]},{name:"COMPANY_ADMIN_STATISTICS_HUBS",path:"hubs/",components:{default:ql},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_STATISTICS_HUBS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_STATISTICS_HUBS"}}]}]},{name:"COMPANY_ADMIN_POSTS",path:"",meta:{requiresAuth:!0},components:{default:Vl},redirect:{name:"COMPANY_ADMIN_POSTS_ARTICLES"},children:[{name:"COMPANY_ADMIN_POSTS_ARTICLES",path:"articles/",components:{default:$l},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_POSTS_ARTICLES_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"COMPANY_ADMIN",activeNavigationSection:"COMPANY_ADMIN_POSTS_ARTICLES"}}]},{name:"COMPANY_ADMIN_POSTS_NEWS",path:"news/",components:{default:Wl},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_POSTS_NEWS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"COMPANY_ADMIN",activeNavigationSection:"COMPANY_ADMIN_POSTS_NEWS"}}]}]},{name:"COMPANY_ADMIN_COMPANY",path:"company/",meta:{requiresAuth:!0},components:{default:Fl},redirect:{name:"COMPANY_ADMIN_COMPANY_USERS"},children:[{name:"COMPANY_ADMIN_COMPANY_USERS",path:"users/",components:{default:Pc},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_COMPANY_USERS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_USERS"}}]},{path:"employees/",components:{default:fc},redirect:{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES"},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES",path:"",components:{default:Ac},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}}]},{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_REQUESTS",path:"requests/",components:{default:Ic},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"},children:[{name:"COMPANY_ADMIN_COMPANY_EMPLOYEES_REQUESTS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}}]}]},{path:"invitations/",components:{default:kc},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_APPROVED_INVITATIONS",path:"",components:{default:Nc},meta:{requiresAuth:!0},children:[{name:"COMPANY_ADMIN_APPROVED_INVITATIONS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"}}]},{name:"COMPANY_ADMIN_SENT_INVITATIONS",path:"sent/",components:{default:Lc},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"},children:[{name:"COMPANY_ADMIN_SENT_INVITATIONS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_APPROVED_INVITATIONS"}}]}]},{name:"COMPANY_ADMIN_COMPANY_NEW_EMPLOYEE",path:"employees/add/",components:{default:bc},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_EMPLOYEES"}},{name:"COMPANY_ADMIN_COMPANY_NEW_INVITATION",path:"invitations/add/",components:{default:Oc},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_COMPANY_NEW_USER",path:"users/add/",components:{default:Cc},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_USERS"}},{name:"COMPANY_ADMIN_COMPANY_LOGS",path:"logs/",meta:{requiresAuth:!0},component:Kl,children:[{name:"COMPANY_ADMIN_COMPANY_LOGS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_LOGS"}}]},{name:"COMPANY_ADMIN_COMPANY_CAREER",path:"vacancies/",meta:{requiresAuth:!0},redirect:{name:"COMPANY_ADMIN_COMPANY_CAREER_SETTINGS"},component:jl,children:[{name:"COMPANY_ADMIN_COMPANY_CAREER_SETTINGS",path:"settings/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_CAREER"},component:sc},{name:"COMPANY_ADMIN_COMPANY_VACANCIES_LISTING",path:"listing/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_CAREER"},component:nc,children:[{name:"COMPANY_ADMIN_COMPANY_VACANCIES_LISTING_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_COMPANY_CAREER"}}]}]}]},{name:"COMPANY_ADMIN_BILLING",path:"billing/",meta:{requiresAuth:!0},components:{default:Gl},redirect:{name:"COMPANY_ADMIN_BILLING_CURRENT"},children:[{name:"COMPANY_ADMIN_BILLING_CURRENT",path:"current/",meta:{requiresAuth:!0},component:yc},{name:"COMPANY_ADMIN_BILLING_RENEWAL",path:"renewal/",meta:{requiresAuth:!0},components:{default:wc}},{name:"COMPANY_ADMIN_BILLING_ACTIVATION",path:"activation/",meta:{requiresAuth:!0},components:{default:zl}},{name:"COMPANY_ADMIN_BILLING_REQUISITES",path:"requisites/",meta:{requiresAuth:!0},components:{default:Rc},children:[{name:"COMPANY_ADMIN_BILLING_REQUISITES_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"}}]},{name:"COMPANY_ADMIN_BILLING_REQUISITES_FORM_EDIT",path:"requisites/edit/:id/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"},components:{default:Mc}},{name:"COMPANY_ADMIN_BILLING_REQUISITES_FORM_ADD",path:"requisites/add/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_REQUISITES"},components:{default:Mc}},{name:"COMPANY_ADMIN_BILLING_FINANCE",path:"finance/",meta:{requiresAuth:!0},components:{default:Ql},children:[{name:"COMPANY_ADMIN_BILLING_FINANCE_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_BILLING_FINANCE"}}]}]},{name:"COMPANY_ADMIN_SETTINGS",path:"settings/",meta:{requiresAuth:!0},components:{default:xl},redirect:{name:"COMPANY_ADMIN_SETTINGS_CARD"},children:[{name:"COMPANY_ADMIN_SETTINGS_CARD",path:"card/",meta:{requiresAuth:!0},components:{default:tc}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_VK",path:"widgets/vk/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:pc}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_BANNER",path:"widgets/banner/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Ec}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_LINKS",path:"widgets/links/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:_c}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS",path:"widgets/rss/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:hc}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS_LIST",path:"widgets/rss/:widgetId(new|\\d+)/list/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:gc},children:[{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_NEWS_LIST_PAGES",path:"page:pageNum(\\d+)/"}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_APPLICATIONS",path:"widgets/applications/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:vc}},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_APPLICATION",path:"widgets/application/:widgetId(new|\\d+)/:applicationId/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_WIDGETS"},components:{default:Tc}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_GALLERY",path:"landing/gallery/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:uc}},{name:"COMPANY_ADMIN_SETTINGS_LANDING_BANNER",path:"landing/banner/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:dc},children:[{name:"COMPANY_ADMIN_SETTINGS_LANDING_BANNER_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"}}]},{name:"COMPANY_ADMIN_SETTINGS_LANDING_TECHNOLOGIES",path:"landing/technologies/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_LANDING"},components:{default:mc}},{name:"COMPANY_ADMIN_SETTINGS_LANDING",path:"landing/",meta:{requiresAuth:!0},components:{default:cc}},{name:"COMPANY_ADMIN_SETTINGS_WIDGETS",path:"widgets/",meta:{requiresAuth:!0},components:{default:ac}},{name:"COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS",path:"multi-widgets/",meta:{requiresAuth:!0},components:{default:oc},props:{default:{title:"NAV_COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS",addButtonTitle:"COMPANY_ADMIN_MULTI_WIDGETS_ADD",viewType:"post"}},children:[{name:"COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS_PAGES",path:"page:pageNum(\\d+)/"}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_MULTIWIDGET",path:"multi-widgets/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS"},components:{default:Sc},props:{default:{viewType:"post"}}},{name:"COMPANY_ADMIN_SETTINGS_FEED_MULTI_WIDGETS",path:"feed-widgets/",meta:{requiresAuth:!0},components:{default:oc},props:{default:{title:"NAV_COMPANY_ADMIN_SETTINGS_MULTI_WIDGETS_LIST",addButtonTitle:"COMPANY_ADMIN_MULTI_WIDGETS_ADD",viewType:"list"}},children:[{name:"COMPANY_ADMIN_SETTINGS_FEED_MULTI_WIDGETS_PAGES",path:"page:pageNum(\\d+)/"}]},{name:"COMPANY_ADMIN_SETTINGS_WIDGET_EDIT_FEED_WIDGET",path:"feed-widgets/:widgetId(new|\\d+)/",meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_FEED_MULTI_WIDGETS"},components:{default:Sc},props:{default:{viewType:"list"}}},{name:"COMPANY_ADMIN_SETTINGS_BANNERS",path:"banners/",meta:{requiresAuth:!0},components:{default:rc}},{name:"COMPANY_ADMIN_SETTINGS_NEW_BANNER",path:"banners/new/",meta:{requiresAuth:!0},components:{default:lc}},{name:"COMPANY_ADMIN_SETTINGS_EDIT_BANNER",path:"banners/edit/:id/",meta:{requiresAuth:!0},components:{default:lc}},{name:"COMPANY_ADMIN_SETTINGS_BRANDING",path:"branding/",components:{default:Uc},meta:{requiresAuth:!0}},{name:"COMPANY_ADMIN_NEW_BRANDING",path:"branding/new/",components:{default:Dc},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_BRANDING"}},{name:"COMPANY_ADMIN_EDIT_BRANDING",path:"branding/edit/:id/",components:{default:Dc},meta:{requiresAuth:!0,activeNavigationSection:"COMPANY_ADMIN_SETTINGS_BRANDING"}},{name:"COMPANY_ADMIN_SETTINGS_LOCALIZATION",path:"localization/",meta:{requiresAuth:!0},components:{default:ic}},{name:"COMPANY_ADMIN_SETTINGS_ANALYTICS",path:"analytics/",meta:{requiresAuth:!0},components:{default:Xl}},{name:"COMPANY_ADMIN_SETTINGS_POLLS",path:"polls/",meta:{requiresAuth:!0},components:{default:Jl},children:[{name:"COMPANY_ADMIN_SETTINGS_POLLS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0}}]},{name:"COMPANY_ADMIN_SETTINGS_NEW_POLL",path:"polls/new/",meta:{requiresAuth:!0},components:{default:ec}},{name:"COMPANY_ADMIN_SETTINGS_EDIT_POLL",path:"polls/edit/:id/",meta:{requiresAuth:!0},components:{default:ec}}]},{name:"COMPANY_ADMIN_FAQ",path:"faq/",meta:{requiresAuth:!0},components:{default:Bc},children:[{name:"COMPANY_ADMIN_FAQ_PAGE",path:":alias/",meta:{requiresAuth:!0}}]}]}];function Fc(){return i.e(7576).then(i.bind(i,73901))}const Vc=[{name:"CONVERSATION_MESSAGES",path:`conversations/:login${ya.USER_ALIAS_PARAM_REGEXP}/`,components:{default:Fc},meta:{pageType:"conversation",requiresAuth:!0,hideUserNotices:!0,rootPage:!0}}];function $c(){return i.e(7576).then(i.bind(i,33738))}const Wc=[{name:"CONVERSATIONS",path:"conversations/",components:{default:$c},meta:{pageType:"conversations",title:"CONVERSATIONS_TITLE",requiresAuth:!0,rootPage:!0},children:[{name:"CONVERSATIONS_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"CONVERSATIONS_TITLE"}}]}],Gc=()=>i.e(1163).then(i.bind(i,78704)),xc=[{name:"DOCS",path:`docs/:alias${ya.DOCS_ARTICLE_ALIAS_MATCH}?/`,components:{default:Gc},meta:{rootPage:!0},children:[{name:"DOCS_ARTICLE",path:`:articleAlias${ya.DOCS_ARTICLE_ALIAS_MATCH}?/`}]}];function qc(){return i.e(6428).then(i.bind(i,8481))}const Yc=[{name:"EMAIL_UNSUBSCRIBE",path:"email-unsubscribe/",components:{default:qc},meta:{title:"UNSUBSCRIBE_TITLE",requiresAuth:!1}}],Zc=()=>i.e(2636).then(i.bind(i,73724)),jc=[{name:"ERROR_INTERNAL",path:"error/500/",component:Zc,meta:{HTTPStatus:500,rootPage:!0},props:{error:"internal"}},{name:"ERROR_UNKNOWN",path:"error/unknown/",component:Zc,meta:{HTTPStatus:500,rootPage:!0},props:{error:"unknown"}},{name:"ERROR_UNAUTHORIZED",path:"error/403/",component:Zc,meta:{HTTPStatus:403,rootPage:!0},props:{error:"unauthorized"}},{path:"/:hl(ru|en)/:pathMatch(.*)*",name:"ERROR_NOT_FOUND",component:Zc,meta:{HTTPStatus:404,rootPage:!0},props:{error:"notFound"}}],Kc=()=>i.e(2136).then(i.bind(i,2960)),zc=()=>i.e(2136).then(i.bind(i,63074)),Qc=[{name:"EVENTS",path:"events/",components:{default:Kc},children:[{name:"EVENTS_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0}}],meta:{pageType:"events",title:"EVENTS_TITLE_META"}},{name:"EVENT",path:"events/:id(\\d+)/",components:{default:zc},meta:{pageType:"event"}}];function Xc(){return i.e(318).then(i.bind(i,20051))}const Jc=[{path:"feed/",components:{default:Xc},name:"INDEX",meta:{pageType:"feed",rootPage:!0},redirect:{name:"MY_FEED"},children:[{name:"MY_FEED",path:"",component:Xc,meta:{customRssLink:!0,pageType:"feed",rootPage:!0}},{name:"MY_FEED_PAGES",path:"page:pageNum(\\d+)/",component:Xc,meta:{customRssLink:!0,pageType:"feed",rootPage:!0}}]}];function eu(){return i.e(6841).then(i.bind(i,41298))}const tu=[{name:"MY_FEED_SETTINGS",path:"feed/settings/",components:{default:eu},meta:{title:"TITLE_FEED_SETTINGS",requiresAuth:!0,rootPage:!0}}];function iu(){return i.e(8656).then(i.bind(i,40784))}const su=[{name:"FEEDBACK",path:"feedback/",components:{default:iu},meta:{rootPage:!0}}],nu={class:"tm-page__top"},au={key:0,class:"tm-suggest-button",href:"https://tmtm.ru/services/corpblog/",target:"_blank"},ou={class:"tm-flow__subheader"},ru={key:1,class:"tm-flow__hub-tabs"};function lu(e,t,i,s,n,a){const o=(0,l.up)("TMAdfoxBanner"),r=(0,l.up)("TMSectionName"),c=(0,l.up)("TMTabs"),u=(0,l.up)("TMRssButton"),d=(0,l.up)("TMNavigationFilters"),m=(0,l.up)("TMNavigationSearch"),p=(0,l.up)("RadioLikeButton"),_=(0,l.up)("router-view"),h=(0,l.up)("TMPage");return(0,l.wg)(),(0,l.j4)(h,null,{default:(0,l.w5)((()=>{var t;return[a.userShowAdv&&a.isMobile?((0,l.wg)(),(0,l.j4)(o,{key:0,"adfox-id":"169815559787254866","div-id":"topBanner",params:{pp:"g",ps:"fnps",p2:"iqny"},variant:"narrow"})):(0,l.kq)("",!0),(0,l._)("div",nu,[(0,l.Wm)(r,{name:a.flowName},{default:(0,l.w5)((()=>[a.showAddCompanyButton?((0,l.wg)(),(0,l.iD)("a",au,(0,T.zw)(e.msg("SUGGEST_COMPANY")),1)):(0,l.kq)("",!0)])),_:1},8,["name"]),(0,l.Wm)(c,{class:"tm-tabs_page-header",exact:"",tabs:a.tabs},null,8,["tabs"]),(0,l._)("div",ou,[a.isArticleFilterShown?((0,l.wg)(),(0,l.j4)(d,{key:0,"extra-options":a.filterExtraOptions,options:a.filterOptions,onApplyFilter:a.saveFlowFilter},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1},8,["extra-options","options","onApplyFilter"])):(0,l.kq)("",!0)]),a.showNavigationSearch?((0,l.wg)(),(0,l.j4)(m,{key:0})):(0,l.kq)("",!0),null!==(t=a.newFlowTabs)&&void 0!==t&&t.length&&s.isDesktop?((0,l.wg)(),(0,l.iD)("div",ru,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.newFlowTabs,((t,i)=>((0,l.wg)(),(0,l.j4)(p,{key:i,"model-value":a.checkIsActiveHubTab(t.value),name:"hubTab",value:"true",onClick:e=>a.setHubTab(t.value)},{default:(0,l.w5)((()=>{var i;return[(0,l.Uk)((0,T.zw)(e.msg(t.title,{count:null===(i=a.flowTabsCounters)||void 0===i?void 0:i[t.value]})),1)]})),_:2},1032,["model-value","onClick"])))),128))])):(0,l.kq)("",!0)]),(0,l.Wm)(_)]})),sidebar:(0,l.w5)((()=>[(0,l.Wm)(_,{name:"sidebar"})])),_:1})}var cu=i(11044),uu=i(83308),du=i(69923),mu=i(98201),pu=i(73401),_u=i(28336),hu=i(73833),gu=i(10963);const vu={components:{TMNavigationFilters:cu.Z,TMNavigationSearch:uu.Z,TMRssButton:mu.Z,TMPage:Ps.Z,TMSectionName:pu.Z,TMTabs:_u.Z,TMAdfoxBanner:b.Z,RadioLikeButton:du.Z},setup(){const{langOptions:e}=(0,y.Q)(),t=(0,ne.s)(),i=(0,Wt.P)(),{pageTitle:s}=i,{isDesktop:n}=(0,d.Jk)(t);return{langOptions:e,pageTitle:s,isDesktop:n}},head(){return{title:this.pageTitlePart,meta:[...this.pageMetaDescription,...this.pageMeta]}},computed:{userShowAdv(){return(0,k.q)().userShowAdv},isMobile(){return(0,ne.s)().isMobile},isFlEnglish(){return"en"===this.langOptions.fl},newFlowTabs(){return this.isNewFlow&&this.$route.meta.hasTopicTabs?[{title:"FLOWS_MENU_TECHNOLOGIES",value:"technologies"},{title:"FLOWS_MENU_TOPICS",value:"topics"}]:[]},flowTabsCounters(){return(0,C.X)().getHubCounters(this.$route.params.flowName)},showNavigationSearch(){return this.$route.meta.hasSearch},i18nFlows(){return{admin:this.msg("NAV_FLOW_ADMIN"),design:this.msg("NAV_FLOW_DESIGN"),develop:this.msg("NAV_FLOW_DEVELOP"),geektimes:this.msg("NAV_FLOW_GEEKTIMES"),popsci:this.msg("NAV_FLOW_POPSCI"),management:this.msg("NAV_FLOW_MANAGEMENT"),marketing:this.msg("NAV_FLOW_MARKETING"),misc:this.msg("NAV_FLOW_MISC"),backend:this.msg("NAV_FLOW_BACKEND"),frontend:this.msg("NAV_FLOW_FRONTEND")}},flowName(){return this.i18nFlows[this.$route.params.flowName]},addExtraOptions(){return!this.isNewsRoute&&!this.isPostsRoute},filterExtraOptions(){return this.addExtraOptions?(0,hu.r)(this.msg):[]},filterOptions(){return this.isNewsRoute?this.newsFilterOptions:this.isPostsRoute?this.postsFilterOptions:this.articlesFilterOptions},articlesFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"ARTICLES_LIST_BY_FLOW_ALL",params:{}},{label:"≥0",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"0"}},{label:"≥10",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"10"}},{label:"≥25",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"25"}},{label:"≥50",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"50"}},{label:"≥100",value:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},newsFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"NEWS_LIST_BY_FLOW_ALL",params:{}},{label:"≥0",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"0"}},{label:"≥10",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"10"}},{label:"≥25",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"25"}},{label:"≥50",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"50"}},{label:"≥100",value:"NEWS_LIST_BY_FLOW_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},postsFilterOptions(){return[{label:this.msg("NAV_NEW"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_RATING"),children:[{label:this.msg("NAV_ALL"),value:"POSTS_BY_FLOW_ALL",params:{}},{label:"≥0",value:"POSTS_BY_FLOW_SCORE",params:{score:"0"}},{label:"≥10",value:"POSTS_BY_FLOW_SCORE",params:{score:"10"}},{label:"≥25",value:"POSTS_BY_FLOW_SCORE",params:{score:"25"}},{label:"≥50",value:"POSTS_BY_FLOW_SCORE",params:{score:"50"}},{label:"≥100",value:"POSTS_BY_FLOW_SCORE",params:{score:"100"}}]},{label:this.msg("NAV_BEST"),rootLabel:this.msg("NAV_SHOW_FIRST"),mainLabel:this.msg("NAV_SHOW_BY_PERIOD"),children:[{label:this.msg("NAV_DAY"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"daily"}},{label:this.msg("NAV_WEEK"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"weekly"}},{label:this.msg("NAV_MONTH"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"monthly"}},{label:this.msg("NAV_YEAR"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"yearly"}},{label:this.msg("NAV_ALLTIME"),value:"POSTS_BY_FLOW_TOP_PERIOD",params:{period:"alltime"}}]}]},tabs(){const e="ru"!==this.$route.params.hl||this.isFlEnglish?[]:[{title:this.msg("NAV_COMPANIES"),route:{name:"COMPANIES_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}}];return[{title:this.msg("NAV_ARTICLES"),route:{name:"FLOW_PAGE",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,Qn.nz)(this.articlesFilterOptions)},{title:this.msg("NAV_POSTS"),route:{name:"POSTS_BY_FLOW_ALL",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,Qn.nz)(this.postsFilterOptions)},{title:this.msg("NAV_NEWS"),route:{name:"NEWS_LIST_BY_FLOW_ALL",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:(0,Qn.nz)(this.newsFilterOptions)},{title:this.msg("NAV_HUBS"),route:{name:"HUBS_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}},children:["HUBS_BY_FLOW_CATEGORY","HUBS_BY_FLOW"]},{title:this.msg("NAV_AUTHORS"),route:{name:"AUTHORS_BY_FLOW",params:{flowName:this.$route.params.flowName,hl:this.langOptions.hl}}},...e]},isArticleFilterShown(){return!0===this.$route.meta.showFilter},pageMetaDescription(){return this.$route.meta.description?[{vmid:"description",name:"description",content:this.msg(this.$route.meta.description,{...this.$route.params,flowName:this.flowName})},{vmid:"og:description",property:"og:description",content:this.msg(this.$route.meta.description,{...this.$route.params,flowName:this.flowName})}]:[]},pageMeta(){return[{property:"og:title",content:this.pageTitle(this.pageTitlePart),vmid:"og:title"}]},pageTitlePart(){return this.$route.meta.title?this.msg(this.$route.meta.title,{...this.$route.params,flowName:this.flowName}):""},isNewsRoute(){return this.$route.matched.some((e=>e.name&&e.name.startsWith("NEWS_LIST_BY_FLOW_")))},isPostsRoute(){return this.$route.matched.some((e=>e.name&&e.name.startsWith("POSTS_BY_FLOW_")))},isNewFlow(){var e;return(0,gu.checkIsNewFlow)(null===(e=this.$route.params)||void 0===e?void 0:e.flowName)},showAddCompanyButton(){return"COMPANIES_BY_FLOW"===this.$route.name&&this.isNewFlow}},methods:{bem:ps.P,checkIsActiveHubTab(e){return this.$route.params.category===e},setHubTab(e){this.$router.push({...this.$route,name:this.checkIsActiveHubTab(e)?"HUBS_BY_FLOW":"HUBS_BY_FLOW_CATEGORY",params:{...this.$route.params,category:e}})},saveFlowFilter(e){(0,_s.YL)({route:this.$router.resolve(e),flowName:this.$route.params.flowName,isNews:this.isNewsRoute,isPosts:this.isPostsRoute})}}},Tu=(0,J.Z)(vu,[["render",lu]]),Eu=Tu;var Su=i(75630),fu=i(58974);function Au(){return Promise.all([i.e(348),i.e(7471),i.e(4634)]).then(i.bind(i,12010))}function bu(){return Promise.all([i.e(348),i.e(7471),i.e(4634)]).then(i.bind(i,12010))}function Iu(){return Promise.all([i.e(348),i.e(7471),i.e(4634)]).then(i.bind(i,12010))}function yu(){return Promise.all([i.e(348),i.e(7471),i.e(4634)]).then(i.bind(i,24246))}function wu(){return Promise.all([i.e(348),i.e(7471),i.e(4634)]).then(i.bind(i,46130))}function Pu(){return Promise.all([i.e(348),i.e(7471),i.e(4634)]).then(i.bind(i,90578))}function Cu(){return Promise.all([i.e(348),i.e(7471),i.e(4634)]).then(i.bind(i,15717))}const ku=[{path:"flows/geektimes/:pathMatch(.*)*",redirect:e=>({path:`/${e.params.hl}/flows/popsci/${e.params.pathMatch}`})},{path:"flows/:flowName/top/*",redirect:e=>({path:`/${e.params.hl}/flows/:flowName/articles/top/${e.params.pathMatch}`})},{path:"flows/:flowName/:complexity(easy|medium|hard)/*",redirect:e=>({path:`/${e.params.hl}/flows/:flowName/articles/:complexity/${e.params.pathMatch}`})},{path:"flows/:flowName/top:score(0|10|25|50|100)/*",redirect:e=>({path:`/${e.params.hl}/flows/:flowName/articles/rated:score/${e.params.pathMatch}`})},{path:"flows/:flowName/:type(articles|news|posts)/top:score(0|10|25|50|100)/*",redirect:e=>({path:`/${e.params.hl}/flows/:flowName/:type/rated:score/${e.params.pathMatch}`})},{name:"ALL_FLOWS",path:"flows/all/",component:Eu,meta:{rootPage:!0}},{name:"FLOW_PAGE",path:`flows/:flowName${ya.FLOW_ALIAS_MATCH}/`,component:Eu,redirect:{name:"ARTICLES_LIST_BY_FLOW_ALL"},meta:{pageType:"feed",rootPage:!0},children:[{path:"articles",components:{default:Su["default"],sidebar:Au},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL",path:":complexity(easy|medium|hard)?/",components:{default:Su["default"],sidebar:Au},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_FLOW_PAGE_LATEST",rssLink:e=>`/rss/flows/${e.flowName}/articles/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_FLOW_PAGE_LATEST",rssLink:e=>`/rss/flows/${e.flowName}/articles/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_FLOW_ALL_SCORE",path:"rated:score(0|10|25|50|100)/:complexity(easy|medium|hard)?/",components:{default:Su["default"],sidebar:Au},meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_FLOW_PAGE_SCORE",rssLink:e=>`/rss/flows/${e.flowName}/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_FLOW_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_FLOW_PAGE_SCORE",rssLink:e=>`/rss/flows/${e.flowName}/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_FLOW_TOP",path:"top/",components:{default:Su["default"],sidebar:Au},redirect:e=>({name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/:complexity(easy|medium|hard)?/",meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,showPinnedPost:!0,title:"TITLE_FLOW_PAGE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_FLOW_PAGE_PERIOD",rssLink:e=>`/rss/flows/${e.flowName}/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"FLOW_PAGE",showFilter:!0,title:"TITLE_FLOW_PAGE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_FLOW_PAGE_PERIOD",rssLink:e=>`/rss/flows/${e.flowName}/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`}}]}]}]},{path:"posts/",components:{default:Cu,sidebar:Au},children:[{name:"POSTS_BY_FLOW_ALL",path:"",components:{default:Cu,sidebar:Au},meta:{title:"TITLE_POSTS_FLOW",showFilter:!0,description:"DESCRIPTION_POSTS_FLOW",showCompanyRatingBlock:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/flows/${e.flowName}/posts/`},children:[{name:"POSTS_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"TITLE_POSTS_FLOW",showFilter:!0,description:"DESCRIPTION_POSTS_FLOW",rssLink:e=>`/rss/flows/${e.flowName}/posts/`}},{name:"POSTS_BY_FLOW_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{canonicalRoute:"POSTS_BY_FLOW_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_FLOW_SCORE",rssLink:e=>`/rss/flows/${e.flowName}/posts/rated${e.score}/`},children:[{name:"POSTS_BY_FLOW_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"POSTS_BY_FLOW_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_FLOW_SCORE",rssLink:e=>`/rss/flows/${e.flowName}/posts/rated${e.score}/`}}]}]},{name:"POSTS_BY_FLOW_TOP",path:"top/",components:{default:Cu,sidebar:Au},redirect:e=>({name:"POSTS_BY_FLOW_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"POSTS_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_FLOW_PERIOD",rssLink:e=>`/rss/flows/${e.flowName}/posts/top/${e.period}/`},children:[{name:"POSTS_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_FLOW_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_FLOW_PERIOD",rssLink:e=>`/rss/flows/${e.flowName}/posts/top/${e.period}/`}}]}]}]},{path:"news/",components:{default:fu["default"],sidebar:Au},children:[{name:"NEWS_LIST_BY_FLOW_ALL",path:"",components:{default:fu["default"],sidebar:Au},meta:{title:"FLOW_PAGE_NEWS_META_TITLE",showFilter:!0,description:"FLOW_PAGE_NEWS_META_DESCRIPTION",showCompanyRatingBlock:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/flows/${e.flowName}/news/`},children:[{name:"NEWS_LIST_BY_FLOW_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_NEWS_META_TITLE",showFilter:!0,description:"FLOW_PAGE_NEWS_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/`}},{name:"NEWS_LIST_BY_FLOW_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"FLOW_PAGE_NEWS_SCORE_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/rated${e.score}/`},children:[{name:"NEWS_LIST_BY_FLOW_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"FLOW_PAGE_NEWS_SCORE_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/rated${e.score}/`}}]}]},{name:"NEWS_LIST_BY_FLOW_TOP",path:"top/",components:{default:fu["default"],sidebar:Au},redirect:e=>({name:"NEWS_LIST_BY_FLOW_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD_FLOW",navTitle:"NAV_TITLE_PERIOD",description:"FLOW_PAGE_NEWS_TOP_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/top/${e.period}/`},children:[{name:"NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD_FLOW",navTitle:"NAV_TITLE_PERIOD",description:"FLOW_PAGE_NEWS_TOP_META_DESCRIPTION",rssLink:e=>`/rss/flows/${e.flowName}/news/top/${e.period}/`}}]}]}]},{name:"HUBS_BY_FLOW",path:"hubs/",components:{default:wu,sidebar:Iu},meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0},children:[{name:"HUBS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0}}]},{name:"AUTHORS_BY_FLOW",path:"authors/",components:{default:Pu,sidebar:bu},meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0},children:[{name:"AUTHORS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0}}]},{name:"COMPANIES_BY_FLOW",path:"companies/",components:{default:yu,sidebar:bu},meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0},children:[{name:"COMPANIES_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0}}]},{name:"HUBS_BY_FLOW",path:"hubs/",components:{default:wu,sidebar:Iu},meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0,hasTopicTabs:!0},children:[{name:"HUBS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_HUBS_META_TITLE",description:"FLOW_PAGE_HUBS_META_DESCRIPTION",hasSearch:!0}},{name:"HUBS_BY_FLOW_CATEGORY",path:":category(technologies|topics)/",meta:{title:"FLOW_PAGE_HUBS_CATEGORY_META_TITLE",description:"FLOW_PAGE_HUBS_CATEGORY_META_DESCRIPTION"},children:[{name:"HUBS_BY_FLOW_CATEGORY_PAGES",path:"page:pageNum(\\d+)/"}]}]},{name:"AUTHORS_BY_FLOW",path:"authors/",components:{default:Pu,sidebar:bu},meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0},children:[{name:"AUTHORS_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_AUTHORS_META_TITLE",description:"FLOW_PAGE_AUTHORS_META_DESCRIPTION",hasSearch:!0}}]},{name:"COMPANIES_BY_FLOW",path:"companies/",components:{default:yu,sidebar:bu},meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0},children:[{name:"COMPANIES_BY_FLOW_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"FLOW_PAGE_COMPANIES_META_TITLE",description:"FLOW_PAGE_COMPANIES_META_DESCRIPTION",hasSearch:!0}}]}]}];function Lu(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,3133))}function Nu(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,106))}function Ou(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,57940))}function Ru(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,26604))}function Mu(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,75630))}function Uu(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,24246))}function Du(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,46130))}function Bu(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,58974))}function Hu(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,90578))}function Fu(){return Promise.all([i.e(348),i.e(7471),i.e(1231)]).then(i.bind(i,15717))}const Vu=[{path:"all/top*",redirect:e=>({path:`/${e.params.hl}/articles/rated${e.params.pathMatch}`})},{path:"all/*",redirect:e=>({path:`/${e.params.hl}/articles/${e.params.pathMatch}`})},{path:"top/*",redirect:e=>({path:`/${e.params.hl}/articles/top/${e.params.pathMatch}`})},{path:":complexity(easy|medium|hard)/*",redirect:e=>({path:`/${e.params.hl}/articles/:complexity/${e.params.pathMatch}`})},{path:":type(news|posts)/top:score(0|10|25|50|100)/*",redirect:e=>({path:`/${e.params.hl}/:type/rated:score/${e.params.pathMatch}`})},{path:"articles/",components:{default:Lu},redirect:{name:"ARTICLES_LIST_ALL"},meta:{pageType:"feed",feedType:"allFlows",rootPage:!0},children:[{name:"ARTICLES_LIST_ALL",path:":complexity(easy|medium|hard)?/",components:{default:Mu,sidebar:Nu},meta:{showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_COMPLEXITY",rssLink:e=>"/rss/articles/"+(e.complexity?`${e.complexity}/`:""),renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_COMPLEXITY",rssLink:e=>"/rss/articles/"+(e.complexity?`${e.complexity}/`:"")}}]},{name:"ARTICLES_LIST_ALL_SCORE",path:"rated:score(0|10|25|50|100)/:complexity(easy|medium|hard)?/",components:{default:Mu,sidebar:Nu},meta:{canonicalRoute:"ARTICLES_LIST_ALL",showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_SCORE_AND_COMPLEXITY",rssLink:e=>`/rss/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"ARTICLES_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_SCORE_AND_COMPLEXITY",rssLink:e=>`/rss/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_TOP",path:"top/",components:{default:Mu,sidebar:Nu},redirect:e=>({name:"ARTICLES_LIST_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"ARTICLES_LIST_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/:complexity(easy|medium|hard)?/",meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showPinnedPost:!0,showCompanyRatingBlock:!0,title:"TITLE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD",rssLink:e=>`/rss/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_PERIOD",rssLink:e=>`/rss/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`}}]}]}]},{path:"posts/",components:{default:Lu},redirect:{name:"POSTS_ALL"},meta:{pageType:"feed",feedType:"allFlows",rootPage:!0},children:[{name:"POSTS_ALL",path:"",components:{default:Fu,sidebar:Nu},meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_POSTS",rssLink:()=>"/rss/posts/",renderAlternateMetaTag:!0},children:[{name:"POSTS_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"ARTICLES_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_LATEST",navTitle:"NAV_TITLE_LATEST",description:"DESCRIPTION_POSTS",rssLink:()=>"/rss/posts/",renderAlternateMetaTag:!0}},{name:"POSTS_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{canonicalRoute:"POSTS_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_SCORE",rssLink:e=>`/rss/posts/rated${e.score}/`,renderAlternateMetaTag:!0},children:[{name:"POSTS_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"POSTS_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"DESCRIPTION_POSTS_SCORE",rssLink:e=>`/rss/posts/rated${e.score}/`}}]}]},{name:"POSTS_TOP",path:"top/",components:{default:Fu,sidebar:Nu},redirect:e=>({name:"POSTS_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"POSTS_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_PERIOD",rssLink:e=>`/rss/posts/top/${e.period}/`},children:[{name:"POSTS_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"POSTS_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_POSTS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"DESCRIPTION_POSTS_PERIOD",rssLink:e=>`/rss/posts/top/${e.period}/`}}]}]}]},{path:"news/",components:{default:Lu},redirect:{name:"NEWS_LIST_ALL"},meta:{pageType:"feed",feedType:"allFlows",rootPage:!0},children:[{name:"NEWS_LIST_ALL",path:"",components:{default:Bu,sidebar:Nu},meta:{showFilter:!0,showCompanyRatingBlock:!0,title:"NEWS_PAGE_META_TITLE",navTitle:"NAV_TITLE_LATEST",description:"NEWS_PAGE_META_DESCRIPTION",rssLink:()=>"/rss/news/",renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,title:"NEWS_PAGE_META_TITLE",navTitle:"NAV_TITLE_LATEST",description:"NEWS_PAGE_META_DESCRIPTION",rssLink:()=>"/rss/news/",showCompanyRatingBlock:!0}},{name:"NEWS_LIST_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"NEWS_PAGE_SCORE_META_DESCRIPTION",rssLink:e=>`/rss/news/rated${e.score}/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"NEWS_LIST_ALL",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_SCORE",navTitle:"NAV_TITLE_SCORE",description:"NEWS_PAGE_SCORE_META_DESCRIPTION",rssLink:e=>`/rss/news/rated${e.score}/`}}]}]},{name:"NEWS_LIST_TOP",path:"top/",components:{default:Bu,sidebar:Nu},redirect:e=>({name:"NEWS_LIST_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"NEWS_LIST_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"NEWS_PAGE_TOP_META_DESCRIPTION",rssLink:e=>`/rss/news/top/${e.period}/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_LIST_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"NEWS_LIST_TOP",showFilter:!0,showCompanyRatingBlock:!0,title:"TITLE_NEWS_PERIOD",navTitle:"NAV_TITLE_PERIOD",description:"NEWS_PAGE_TOP_META_DESCRIPTION",rssLink:e=>`/rss/news/top/${e.period}/`}}]}]}]},{path:"hubs/",components:{default:Lu},redirect:{name:"HUBS"},meta:{hasSearch:!0,title:"NAV_HUBS",feedType:"allFlows",rootPage:!0},children:[{name:"HUBS",path:"",components:{default:Du,sidebar:Nu},meta:{hasSearch:!0,title:"NAV_HUBS"},children:[{name:"HUBS_PAGES",path:"page:pageNum(\\d+)/",meta:{hasSearch:!0,title:"NAV_HUBS"}}]}]},{path:"users/",components:{default:Lu},redirect:{name:"USERS"},meta:{title:"SEARCH_TAB_USERS_LONG",hasSearch:!0,noindex:!0,feedType:"allFlows",rootPage:!0},children:[{name:"USERS",path:"",components:{default:Hu,sidebar:Ou},meta:{title:"SEARCH_TAB_USERS_LONG",hasSearch:!0,noindex:!0},children:[{name:"USERS_PAGES",path:"page:pageNum(\\d+)/",meta:{hasSearch:!0,title:"SEARCH_TAB_USERS_LONG",noindex:!0}}]}]},{path:"companies/",components:{default:Lu},redirect:{name:"COMPANIES"},meta:{feedType:"allFlows",rootPage:!0},children:[{name:"COMPANIES",path:"",components:{default:Uu,sidebar:Ru},meta:{title:"NAV_COMPANIES",hasSearch:!0}},{name:"COMPANIES_CATEGORIES",path:"category/:categoryAlias/",components:{default:Uu,sidebar:Ru},children:[{name:"COMPANIES_CATEGORIES_PAGES",path:"page:pageNum(\\d+)/"}]},{name:"COMPANIES_PAGES",path:"page:pageNum(\\d+)/",meta:{hasSearch:!0,title:"NAV_COMPANIES"},components:{default:Uu,sidebar:Ru}}]}];function $u(){return Promise.all([i.e(348),i.e(7471),i.e(6379)]).then(i.bind(i,48129))}function Wu(){return Promise.all([i.e(348),i.e(7471),i.e(6379)]).then(i.bind(i,28129))}function Gu(){return Promise.all([i.e(348),i.e(7471),i.e(6379)]).then(i.bind(i,26469))}function xu(){return Promise.all([i.e(348),i.e(7471),i.e(6379)]).then(i.bind(i,75630))}function qu(){return Promise.all([i.e(348),i.e(7471),i.e(6379)]).then(i.bind(i,24246))}function Yu(){return Promise.all([i.e(348),i.e(7471),i.e(6379)]).then(i.bind(i,90578))}function Zu(){return Promise.all([i.e(348),i.e(7471),i.e(6379)]).then(i.bind(i,47694))}const ju=[{path:"hubs/:hubName/posts/top:score(0|10|25|50|100)/*",redirect:e=>({path:`/${e.params.hl}/hubs/${e.params.hubName}/posts/rated${e.params.score}/${e.params.pathMatch}`})},{path:`hubs/:hubName${ya.HUB_ALIAS_MATCH}/`,name:"HUB_PAGE",component:$u,redirect:{name:"ARTICLES_LIST_BY_HUB_ALL"},meta:{pageType:"feed"},children:[{path:"articles",components:{default:xu,sidebar:Wu},children:[{name:"ARTICLES_LIST_BY_HUB_ALL",path:":complexity(easy|medium|hard)?/",components:{default:xu,sidebar:Wu},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/articles/${e.complexity?`${e.complexity}/`:""}`,renderAlternateMetaTag:!0},children:[{name:"ARTICLES_LIST_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/articles/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_HUB_ALL_SCORE",path:"rated:score(0|10|25|50|100)/:complexity(easy|medium|hard)?/",components:{default:xu,sidebar:Wu},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/articles/rated${e.score}/${e.complexity?`${e.complexity}/`:""}`}}]},{name:"ARTICLES_LIST_BY_HUB_TOP",path:"top/",components:{default:xu,sidebar:Wu},redirect:e=>({name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/:complexity(easy|medium|hard)?/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`},children:[{name:"ARTICLES_LIST_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/articles/top/${e.period}/${e.complexity?`${e.complexity}/`:""}`}}]}]}]},{path:"news/",components:{default:xu,sidebar:Wu},children:[{name:"NEWS_BY_HUB_ALL",path:"",components:{default:xu,sidebar:Wu},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/news/`,renderAlternateMetaTag:!0},children:[{name:"NEWS_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/news/`}}]},{name:"NEWS_BY_HUB_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",components:{default:xu,sidebar:Wu},meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/news/rated${e.score}/`},children:[{name:"NEWS_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/news/rated${e.score}/`}}]},{name:"NEWS_BY_HUB_TOP",path:"top/",components:{default:xu,sidebar:Wu},redirect:e=>({name:"NEWS_BY_HUB_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"NEWS_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/news/top/${e.period}/`},children:[{name:"NEWS_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",showFilter:!0,title:"TITLE_LATEST",navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/news/top/${e.period}/`}}]}]}]},{path:"posts/",components:{default:Zu,sidebar:Wu},children:[{name:"POSTS_BY_HUB_ALL",path:"",meta:{showFilter:!0,navTitle:"NAV_TITLE_LATEST",rssLink:e=>`/rss/hubs/${e.hubName}/posts/`},children:[{name:"POSTS_BY_HUB_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,canonicalRoute:"POSTS_BY_HUB_ALL",rssLink:e=>`/rss/hubs/${e.hubName}/posts/`}},{name:"POSTS_BY_HUB_ALL_SCORE",path:"rated:score(0|10|25|50|100)/",meta:{showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/posts/rated${e.score}/`},children:[{name:"POSTS_BY_HUB_ALL_SCORE_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,navTitle:"NAV_TITLE_SCORE",rssLink:e=>`/rss/hubs/${e.hubName}/posts/rated${e.score}/`}}]}]},{name:"POSTS_BY_HUB_TOP",path:"top/",redirect:e=>({name:"POSTS_BY_HUB_TOP_PERIOD",params:{...e.params,period:"daily"}}),children:[{name:"POSTS_BY_HUB_TOP_PERIOD",path:":period(daily|monthly|weekly|yearly|alltime)/",meta:{showFilter:!0,navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/posts/top/${e.period}/`},children:[{name:"POSTS_BY_HUB_TOP_PERIOD_PAGES",path:"page:pageNum(\\d+)/",meta:{showFilter:!0,navTitle:"NAV_TITLE_PERIOD",rssLink:e=>`/rss/hubs/${e.hubName}/posts/top/${e.period}/`}}]}]}]},{name:"AUTHORS_BY_HUB",path:"authors/",meta:{hasSearch:!0},components:{default:Yu,sidebar:Gu},children:[{name:"AUTHORS_BY_HUB_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",hasSearch:!0}}]},{name:"COMPANIES_BY_HUB",path:"companies/",meta:{hasSearch:!0},components:{default:qu,sidebar:Gu},children:[{name:"COMPANIES_BY_HUB_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"HUB_PAGE",hasSearch:!0}}]}]}];function Ku(){return i.e(7064).then(i.bind(i,14385))}const zu=[{name:"INTERACTIVES_RT_DC",path:"interactives/rt-dc/",components:{default:Ku},meta:{noindex:!0,nofollow:!0}}];function Qu(){return i.e(5106).then(i.bind(i,20507))}function Xu(){return i.e(6453).then(i.bind(i,81917))}const Ju=[{path:"megapost/admin/",redirect:{name:"MEGAPOST_ADMIN"}},{name:"MEGAPOST_ADMIN",path:"specials/admin/",meta:{title:"MEGAPOSTS_TITLE",requiresAuth:!0,isMegapostPage:!0,groups:["super"]},components:{default:Xu},children:[{name:"MEGAPOST_ADMIN_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"MEGAPOSTS_TITLE",requiresAuth:!0,isMegapostPage:!0,groups:["super"]}}]},{name:"PUBLICATION_MEGAPOST",path:"specials/new/",component:Qu,meta:{isMegapostPage:!0,rootPage:!0}},{name:"PUBLICATION_MEGAPOST_EDIT",path:"specials/edit/:publicationId/",component:Qu,meta:{isMegapostPage:!0}}];function ed(){return i.e(7324).then(i.bind(i,93351))}const td=[{path:"megaprojects/",redirect:{name:"MEGAPROJECTS"}},{name:"MEGAPROJECTS",path:"specials/",components:{default:ed},meta:{title:"NAV_MEGAPROJECTS",description:"MEGAPROJECTS_DESCRIPTION",rootPage:!0,pageType:"feed",rssLink:()=>"/rss/specials/",groups:["super"]},children:[{name:"MEGAPROJECTS_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"NAV_MEGAPROJECTS",description:"MEGAPROJECTS_DESCRIPTION",rssLink:()=>"/rss/specials/",groups:["super"]}}]}];function id(){return i.e(1492).then(i.bind(i,74744))}function sd(){return i.e(1492).then(i.bind(i,63558))}function nd(){return i.e(1492).then(i.bind(i,67986))}function ad(){return i.e(1492).then(i.bind(i,57694))}function od(){return i.e(1492).then(i.bind(i,76738))}function rd(){return i.e(1492).then(i.bind(i,81521))}const ld=[{name:"ONBOARDING",path:"welcome/",components:{default:id},meta:{title:"ONBOARDING_TITLE",requiresAuth:!0},children:[{name:Xn.jj.greetings,path:"greetings/",meta:{title:"ONBOARDING_TITLE",requiresAuth:!0,step:Xn.xh.greetings},components:{default:sd}},{name:Xn.jj.specialization,path:"specialization/",meta:{title:"ONBOARDING_TITLE",requiresAuth:!0,step:Xn.xh.specialization},components:{default:nd}},{name:Xn.jj.subscriptions,path:"subscriptions/",meta:{title:"ONBOARDING_TITLE",requiresAuth:!0,step:Xn.xh.subscriptions},components:{default:ad}},{name:Xn.jj.possibilities,path:"accounts/",meta:{title:"ONBOARDING_TITLE",requiresAuth:!0,step:Xn.xh.possibilities},components:{default:od}},{name:"ONBOARDING_FINAL",path:"final/",meta:{title:"ONBOARDING_TITLE",requiresAuth:!0,step:"final"},components:{default:rd}}]}];function cd(){return i.e(4306).then(i.bind(i,73329))}function ud(){return i.e(4306).then(i.bind(i,77403))}function dd(){return i.e(4306).then(i.bind(i,55821))}function md(){return i.e(4306).then(i.bind(i,96074))}function pd(){return i.e(4306).then(i.bind(i,43348))}function _d(){return i.e(4306).then(i.bind(i,45436))}function hd(){return i.e(4306).then(i.bind(i,37245))}function gd(){return i.e(4306).then(i.bind(i,3837))}const vd=[{name:"PPA_ROOT",path:"ppa/",component:cd,redirect:{name:"PPA_ABOUT"},meta:{rootPage:!0},children:[{name:"PPA_BALANCE",path:"balance/",meta:{title:"PPA_SUBPAGE_BALANCE"},components:{default:hd,sidebar:md},children:[{name:"PPA_BALANCE_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"PPA_SUBPAGE_BALANCE"}}]},{name:"PPA_WITHDRAW",path:"withdraw/",components:{default:gd,sidebar:ud},meta:{title:"PPA_SUBPAGE_FUNDS_WITHDRAWAL"}},{name:"PPA_ABOUT",path:"about/",components:{default:pd,sidebar:dd},meta:{title:"PPA_SUBPAGE_ABOUT"}},{name:"PPA_ARTICLE",path:`:alias${ya.DOCS_ARTICLE_ALIAS_MATCH}/`,components:{default:_d,sidebar:dd}}]}],Td=()=>i.e(7996).then(i.bind(i,60804)),Ed=[{name:"PPG_COMMENTS",path:"ppg/comments/",component:Td,meta:{requiresAuth:!0}},{name:"PPG_SMILES",path:"ppg/smiles/",component:Td,meta:{requiresAuth:!0}}];function Sd(){return i.e(5106).then(i.bind(i,20507))}function fd(){return i.e(5106).then(i.bind(i,27502))}const Ad=[{name:"PUBLICATION",path:"publication/new/",redirect:{name:"PUBLICATION_ARTICLE"}},{name:"PUBLICATION_EDIT",path:`publication/edit/:publicationId${ya.PUBLICATION_ID_MATCH}/`,redirect:e=>({name:"PUBLICATION_ARTICLE_EDIT",params:{...e.params}})},{name:"PUBLICATION_ARTICLE",path:"article/new/",component:Sd,meta:{rootPage:!0,requiresAuth:!0}},{name:"PUBLICATION_ARTICLE_EDIT",path:`article/edit/:publicationId${ya.PUBLICATION_ID_MATCH}/`,component:Sd,meta:{requiresAuth:!0}},{name:"PUBLICATION_NEWS",path:"news/new/",component:Sd,meta:{rootPage:!0,requiresAuth:!0}},{name:"PUBLICATION_NEWS_EDIT",path:`news/edit/:publicationId${ya.PUBLICATION_ID_MATCH}/`,component:Sd,meta:{requiresAuth:!0}},{name:"PUBLICATION_POST",path:"post/new/",component:fd,meta:{rootPage:!0,requiresAuth:!0}},{name:"PUBLICATION_POST_EDIT",path:`post/edit/:publicationId${ya.PUBLICATION_ID_MATCH}/`,component:fd,meta:{requiresAuth:!0}}];function bd(){return Promise.all([i.e(1077),i.e(7484)]).then(i.bind(i,46219))}function Id(){return Promise.all([i.e(1077),i.e(7484)]).then(i.bind(i,82440))}function yd(){return Promise.all([i.e(1077),i.e(7484)]).then(i.bind(i,82952))}function wd(){return Promise.all([i.e(1077),i.e(7484)]).then(i.bind(i,37355))}function Pd(){return Promise.all([i.e(1077),i.e(7484)]).then(i.bind(i,63011))}function Cd(){return Promise.all([i.e(1077),i.e(7484)]).then(i.bind(i,4910))}function kd(){return Promise.all([i.e(1077),i.e(7484)]).then(i.bind(i,90113))}function Ld(){return i.e(5106).then(i.bind(i,20507))}const Nd=[{path:"sandbox/",components:{default:bd},meta:{pageType:"sandbox",rootPage:!0},children:[{name:"MOST_IMPORTANT_SANBOX_INFO",path:"start/",components:{default:kd,sidebar:Pd},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_MOST_IMPORTANT_TITLE"}},{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST",path:"",components:{default:Cd,sidebar:Id},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_INVITE_AUTHORS_TITLE"},children:[{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_INVITE_AUTHORS_TITLE"}}]},{name:"NEW_AUTHORS_ARTICLES_LIST",path:"invited/",components:{default:Cd,sidebar:yd},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_NEW_AUTHORS_TITLE",rssLink:()=>"/rss/sandbox/invited/"},children:[{name:"NEW_AUTHORS_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_NEW_AUTHORS_TITLE",rssLink:()=>"/rss/sandbox/invited/"}}]},{name:"MY_SANDBOX_ARTICLES_LIST",path:"my/",components:{default:Cd,sidebar:wd},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_MY_TITLE"},children:[{name:"MY_SANDBOX_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/"}]},{name:"AWAIT_MODERATION_ARTICLES_LIST",path:"disapproved/",components:{default:Cd,sidebar:wd},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_MODERATION_TITLE"},children:[{name:"AWAIT_MODERATION_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_AWAIT_MODERATION_TITLE"}}]},{name:"SCHEDULED_SANDBOX_ARTICLES_LIST",path:"scheduled/",components:{default:Cd,sidebar:wd},meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_SCHEDULED_TITLE"},children:[{name:"SCHEDULED_SANDBOX_ARTICLES_LIST_PAGES",path:"page:pageNum(\\d+)/",meta:{isSandboxPage:!0,title:"SANDBOX_PAGE_SCHEDULED_TITLE"}}]}]},{name:"PUBLICATION_SANDBOX",path:"sandbox/new/",component:Ld,meta:{isSandboxPage:!0}},{name:"PUBLICATION_SANDBOX_EDIT",path:`sandbox/edit/:publicationId${ya.PUBLICATION_ID_MATCH}/`,component:Ld,meta:{isSandboxPage:!0}}],Od=()=>Promise.all([i.e(348),i.e(6464)]).then(i.bind(i,63724));function Rd(){return Promise.all([i.e(348),i.e(6464)]).then(i.bind(i,58890))}function Md(){return Promise.all([i.e(348),i.e(6464)]).then(i.bind(i,8680))}function Ud(){return Promise.all([i.e(348),i.e(6464)]).then(i.bind(i,98883))}function Dd(){return Promise.all([i.e(348),i.e(6464)]).then(i.bind(i,5570))}function Bd(){return Promise.all([i.e(348),i.e(6464)]).then(i.bind(i,97531))}const Hd=[{path:"search/",props:e=>({currentPageName:e.query.target_type}),component:Od,meta:{pageType:"search",rootPage:!0},children:[{name:"SEARCH_QUERY_RESULTS",path:"",components:{posts:Rd,users:Md,companies:Ud,hubs:Dd,comments:Bd},meta:{rssLink:e=>`/rss/search/?q=${e.q}&order_by=${e.order}&target_type=${e.target_type}&hl=${e.hl}&fl=${e.fl}`},children:[{name:"SEARCH_QUERY_RESULTS_PAGES",path:"page:pageNum(\\d+)/",rssLink:e=>`/rss/search/?q=${e.q}&order_by=${e.order}&target_type=${e.target_type}&hl=${e.hl}&fl=${e.fl}`}]}]}];function Fd(){return i.e(5112).then(i.bind(i,85197))}function Vd(){return i.e(388).then(i.bind(i,36926))}function $d(){return i.e(388).then(i.bind(i,56680))}function Wd(){return i.e(2047).then(i.bind(i,95020))}function Gd(){return i.e(3049).then(i.bind(i,17107))}const xd=[{name:"USER_SETTINGS_ROOT",path:"settings/",pathToRegexpOptions:{strict:!0},components:{default:Fd},meta:{requiresAuth:!0,rootPage:!0},redirect:{name:"USER_SETTINGS_PROFILE"},children:[{name:"USER_SETTINGS_PROFILE",path:"profile/",pathToRegexpOptions:{strict:!0},components:{default:Fd},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_UPGRADE",path:"upgrade/:invite/",pathToRegexpOptions:{strict:!0},components:{default:Gd},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_PRIVACY",path:"privacy/",pathToRegexpOptions:{strict:!0},components:{default:Fd},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_NOTIFICATIONS",path:"notifications/",pathToRegexpOptions:{strict:!0},components:{default:Fd},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_SPECS",path:"specialization/",pathToRegexpOptions:{strict:!0},components:{default:Fd},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_MISC",path:"others/",pathToRegexpOptions:{strict:!0},components:{default:Fd},meta:{requiresAuth:!0}},{path:"apps/",components:{default:Vd},meta:{requiresAuth:!0},children:[{name:"USER_SETTINGS_APPS",path:"",pathToRegexpOptions:{strict:!0},components:{default:$d},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_MY",path:"my/",pathToRegexpOptions:{strict:!0},components:{default:$d},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_REGISTER",path:"register/",pathToRegexpOptions:{strict:!0},components:{default:Wd},meta:{requiresAuth:!0}},{name:"USER_SETTINGS_APPS_EDIT",path:"details/:appId/",pathToRegexpOptions:{strict:!0},components:{default:Wd},meta:{requiresAuth:!0}}]}]}];function qd(){return i.e(3839).then(i.bind(i,99257))}const Yd=[{name:"STARTUP_FORM",path:`startup/form/:requestId${ya.MONGO_OBJECT_ID}/`,components:{default:qd},meta:{requiresAuth:!1}}];function Zd(){return Promise.all([i.e(7255),i.e(3193)]).then(i.bind(i,21009))}function jd(){return Promise.all([i.e(7255),i.e(3193)]).then(i.bind(i,73629))}function Kd(){return Promise.all([i.e(7255),i.e(3193)]).then(i.bind(i,76626))}function zd(){return Promise.all([i.e(7255),i.e(3193)]).then(i.bind(i,45429))}const Qd=[{name:"STATISTICS_PUBLICATION",path:`statistics/:publicationId${ya.PUBLICATION_ID_MATCH}/`,pathToRegexpOptions:{strict:!0},components:{default:Zd},redirect:{name:"STATISTICS_PUBLICATION_FUNNELS"},children:[{name:"STATISTICS_PUBLICATION_VIEWS",path:"views/",pathToRegexpOptions:{strict:!0},meta:{title:"STATISTICS_GRAPH",canonicalRoute:"STATISTICS_PUBLICATION",requiresAuth:!0},components:{default:Kd}},{name:"STATISTICS_PUBLICATION_FUNNELS",path:"funnels/",pathToRegexpOptions:{strict:!0},meta:{title:"STATISTICS_FUNNELS",canonicalRoute:"STATISTICS_PUBLICATION",requiresAuth:!0},components:{default:jd}},{name:"STATISTICS_PUBLICATION_OTHERS",path:"others/",pathToRegexpOptions:{strict:!0},meta:{title:"STATISTICS_OTHER",canonicalRoute:"STATISTICS_PUBLICATION",requiresAuth:!0},components:{default:zd}}]}];var Xd=i(91578);function Jd(){return i.e(3389).then(i.bind(i,16196))}function em(){return i.e(3389).then(i.bind(i,31404))}const tm=[{name:"ARTICLES_LIST_TECHNOTEXT",path:"technotext/",components:{default:Jd},beforeEnter:async(e,t,i)=>{if(!e.params.year){const{technotexts:t}=await(0,Xd.N8)();return i(`/${e.params.hl}/technotext/${t[0]}/`)}return i()}},{name:"ARTICLES_LIST_TECHNOTEXT_WINNERS",path:"technotext/:year/winners/",meta:{title:"TITLE_TECHNOTEXT_WINNERS"},components:{default:em}},{name:"ARTICLES_LIST_TECHNOTEXT_ALL",path:"technotext/:year/",components:{default:Jd},meta:{title:"TITLE_TECHNOTEXT",pageType:"feed"},children:[{name:"ARTICLES_LIST_TECHNOTEXT_ALL_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"TITLE_TECHNOTEXT"}},{name:"ARTICLES_LIST_TECHNOTEXT_NOMINATION",path:":nomination/",meta:{title:"TITLE_TECHNOTEXT_NOMINATION"},children:[{name:"ARTICLES_LIST_TECHNOTEXT_NOMINATION_PAGES",path:"page:pageNum(\\d+)/",meta:{title:"TITLE_TECHNOTEXT_NOMINATION"}}]}]}],im=()=>i.e(8778).then(i.bind(i,49794));function sm(){return i.e(8778).then(i.bind(i,19513))}function nm(){return i.e(8778).then(i.bind(i,16891))}const am=[{name:"TRACKER",path:"tracker/",meta:{pageType:"tracker",rootPage:!0},components:{default:im},redirect:{name:"TRACKER_PUBLICATIONS"},children:[{name:"TRACKER_PUBLICATIONS",path:"",components:{default:sm}},{name:"TRACKER_PUBLICATIONS_PAGES",path:"page:pageNum(\\d+)/",components:{default:sm}},{name:"TRACKER_MY_PUBLICATIONS",path:"my/",components:{default:sm},children:[{name:"TRACKER_MY_PUBLICATIONS_PAGES",path:"page:pageNum(\\d+)/",components:{default:sm}}]},{name:"TRACKER_BY_CATEGORY",path:":category(subscribers|mentions|notifications|applications)/",components:{default:nm},children:[{name:"TRACKER_BY_CATEGORY_PAGES",path:"page:pageNum(\\d+)/",components:{default:nm}}]}]}];function om(){return i.e(7086).then(i.bind(i,26598))}function rm(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,59264))}function lm(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,70447))}function cm(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,26399))}function um(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,59342))}function dm(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,51523))}function mm(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,8973))}function pm(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,21368))}function _m(){return i.e(6504).then(i.bind(i,8042))}function hm(){return Promise.all([i.e(1077),i.e(8631)]).then(i.bind(i,62677))}function gm(){return Promise.all([i.e(1077),i.e(8631)]).then(i.bind(i,62026))}function vm(){return Promise.all([i.e(1077),i.e(8631)]).then(i.bind(i,51334))}function Tm(){return Promise.all([i.e(1077),i.e(8631)]).then(i.bind(i,28726))}function Em(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,11071))}function Sm(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,23274))}function fm(){return Promise.all([i.e(1077),i.e(8631)]).then(i.bind(i,97623))}function Am(){return Promise.all([i.e(6555),i.e(8463)]).then(i.bind(i,87243))}function bm(){return Promise.all([i.e(6555),i.e(8463)]).then(i.bind(i,44567))}function Im(){return Promise.all([i.e(6555),i.e(8463)]).then(i.bind(i,68110))}function ym(){return Promise.all([i.e(348),i.e(734)]).then(i.bind(i,70253))}const wm={status:301},Pm=[{path:`users/:login${ya.USER_ALIAS_PARAM_REGEXP}/`,components:{default:rm},meta:{pageType:"feed",keepAliveKey(e){return`USER_PAGE_${e.params.login}`}},children:[{name:"USER_PROFILE",path:"",components:{default:pm},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,renderAlternateMetaTag:!0}},{name:"USER_INVITES",path:"invitations/",components:{default:_m},meta:{canonicalRoute:"USER_PROFILE",requiresAuth:!0,showFilter:!0}},{name:"USER_NOTES",path:"notes/",components:{default:fm},meta:{canonicalRoute:"USER_PROFILE",title:"NAV_PROFILE_NOTES",requiresAuth:!0,showFilter:!0},children:[{name:"USER_NOTES_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",title:"NAV_PROFILE_NOTES",requiresAuth:!0,showFilter:!0}}]},{name:"USER_KARMA_RESET",path:"reset/",components:{default:Tm},meta:{canonicalRoute:"USER_PROFILE",title:"KARMA_RESET",requiresAuth:!0,showFilter:!0}},{name:"USER_VOTES_COMMENTS",path:"votes-comments/",components:{default:bm,profileAdditionalNav:ym},meta:{canonicalRoute:"USER_PROFILE",title:"PROFILE_VOTES_COMMENTS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_COMMENTS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_VOTES_COMMENTS",title:"PROFILE_VOTES_COMMENTS_TITLE",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_POSTS",path:"votes-publications/",components:{default:Im,profileAdditionalNav:ym},meta:{canonicalRoute:"USER_PROFILE",title:"PROFILE_VOTES_POSTS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_POSTS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_VOTES_POSTS",title:"PROFILE_VOTES_POSTS_TITLE",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_KARMA",path:"votes-karma/",components:{default:Em,profileAdditionalNav:ym},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_KARMA",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_KARMA_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_KARMA",requiresAuth:!0,showFilter:!0}}]},{name:"USER_VOTES_USERS",path:"votes-users/",components:{default:Sm,profileAdditionalNav:ym},meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_USERS_TITLE",requiresAuth:!0,showFilter:!0},children:[{name:"USER_VOTES_USERS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",title:"VOTES_FOR_USERS_TITLE",requiresAuth:!0,showFilter:!0}}]},{name:"USER_STATISTICS",path:"statistics/",components:{default:Am},meta:{requiresAuth:!0,showFilter:!0},children:[{name:"USER_STATISTICS_PAGES",path:"page:pageNum(\\d+)/",meta:{requiresAuth:!0,showFilter:!0}}]},{path:"publications/articles/",redirect:{name:"ARTICLES_LIST_BY_USER"}},{path:"articles/",components:{default:I.MA},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,rssLink:e=>`/rss/users/${e.login}/articles/`},props:{default:{publicationsType:"articles"}},children:[{path:"",name:"ARTICLES_LIST_BY_USER",components:{default:lm},children:[{name:"ARTICLES_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,rssLink:e=>`/rss/users/${e.login}/articles/`}}]},{name:"ARTICLES_LIST_SANDBOX_BY_USER",path:"sandbox/",components:{default:gm},meta:{canonicalRoute:"USER_PROFILE",pageType:"feed",showTabs:!0,isSandboxPage:!0},children:[{name:"ARTICLES_LIST_SANDBOX_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",pageType:"feed",showTabs:!0,isSandboxPage:!0}}]},{name:"ARTICLES_DRAFTS_LIST_BY_USER",path:"drafts/",components:{default:hm},props:{default:{publicationsType:"articles"}},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0},children:[{name:"ARTICLES_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}},{path:"news/",redirect:{name:"NEWS_DRAFTS_LIST_BY_USER"}},{path:"posts/",redirect:{name:"POSTS_DRAFTS_LIST_BY_USER"}}]},{name:"ARTICLES_PLANNED_LIST_BY_USER",path:"scheduled/",strict:!0,components:{default:vm},props:{default:{publicationsType:"articles"}},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0},children:[{name:"ARTICLES_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,showTabs:!0}},{path:"news/",redirect:{name:"NEWS_PLANNED_LIST_BY_USER"}},{path:"posts/",redirect:{name:"POSTS_PLANNED_LIST_BY_USER"}}]}]},{path:"publications/news/",redirect:{name:"NEWS_LIST_BY_USER"}},{path:"news/",components:{default:I.MA},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,rssLink:e=>`/rss/users/${e.login}/news/`},props:{default:{publicationsType:"news"}},children:[{path:"",name:"NEWS_LIST_BY_USER",components:{default:lm},children:[{name:"NEWS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,rssLink:e=>`/rss/users/${e.login}/news/`}}]},{name:"NEWS_DRAFTS_LIST_BY_USER",path:"drafts/",components:{default:hm},props:{default:{publicationsType:"news"}},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0},children:[{name:"NEWS_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showTabs:!0}}]},{name:"NEWS_PLANNED_LIST_BY_USER",path:"scheduled/",pathToRegexpOptions:{strict:!0},components:{default:vm},props:{default:{publicationsType:"news"}},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0},children:[{name:"NEWS_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0}}]}]},{path:"publications/posts/",redirect:{name:"POSTS_LIST_BY_USER"}},{path:"posts/",components:{default:I.MA},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,rssLink:e=>`/rss/users/${e.login}/posts/`},props:{default:{publicationsType:"posts"}},children:[{path:"",name:"POSTS_LIST_BY_USER",components:{default:lm},children:[{name:"POSTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,rssLink:e=>`/rss/users/${e.login}/posts/`}}]},{name:"POSTS_DRAFTS_LIST_BY_USER",path:"drafts/",components:{default:hm},props:{default:{publicationsType:"posts"}},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0},children:[{name:"POSTS_DRAFTS_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showTabs:!0}}]},{name:"POSTS_PLANNED_LIST_BY_USER",path:"scheduled/",pathToRegexpOptions:{strict:!0},components:{default:vm},props:{default:{publicationsType:"posts"}},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0},children:[{name:"POSTS_PLANNED_LIST_BY_USER_PAGES",path:"page:pageNum(\\d+)/",pathToRegexpOptions:{strict:!0},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0}}]}]},{path:"publications/sandbox/",redirect:{name:"ARTICLES_LIST_SANDBOX_BY_USER"}},{path:"publications/drafts/",redirect:{name:"ARTICLES_DRAFTS_LIST_BY_USER"},children:[{path:"articles/",strict:!0,redirect:{name:"ARTICLES_DRAFTS_LIST_BY_USER"}},{path:"news/",redirect:{name:"NEWS_DRAFTS_LIST_BY_USER"}},{path:"posts/",redirect:{name:"POSTS_DRAFTS_LIST_BY_USER"}}]},{path:"publications/scheduled/",redirect:{name:"ARTICLES_PLANNED_LIST_BY_USER"},children:[{path:"articles/",strict:!0,redirect:{name:"ARTICLES_PLANNED_LIST_BY_USER"}},{path:"news/",redirect:{name:"NEWS_PLANNED_LIST_BY_USER"}},{path:"posts/",redirect:{name:"POSTS_PLANNED_LIST_BY_USER"}}]},{path:"publications/statistics/",redirect:{name:"USER_STATISTICS"}},{path:"topics/",children:[{path:"page:pageNum(\\d+)/",redirect:e=>({...e,name:"ARTICLES_LIST_BY_USER_PAGES"}),meta:wm}],redirect:e=>({...e,name:"ARTICLES_LIST_BY_USER"}),meta:wm},{name:"USER_BOOKMARKED",path:"bookmarks/",components:{default:um},meta:{canonicalRoute:"USER_PROFILE"},redirect:e=>({...e,name:"ARTICLES_LIST_BOOKMARKED"}),children:[{name:"ARTICLES_LIST_BOOKMARKED",path:"articles/",components:{default:cm},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0},props:{default:{publicationsType:"articles"}},children:[{name:"ARTICLES_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",meta:{showTabs:!0}}]},{name:"COMMENTS_LIST_BOOKMARKED",path:"comments/",components:{default:om},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,commentType:"userFavorites"},children:[{name:"COMMENTS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,commentType:"userFavorites"}}]},{name:"POSTS_LIST_BOOKMARKED",path:"posts/",components:{default:cm},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,commentType:"userFavorites"},props:{default:{publicationsType:"posts"}},children:[{name:"POSTS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,commentType:"userFavorites"}}]},{name:"NEWS_LIST_BOOKMARKED",path:"news/",components:{default:cm},meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,commentType:"userFavorites"},props:{default:{publicationsType:"news"}},children:[{name:"NEWS_LIST_BOOKMARKED_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showTabs:!0,commentType:"userFavorites"}}]}]},{path:"favorites/",children:[{path:"posts/:pathMatch(.*)*",redirect:e=>({...e,name:"ARTICLES_LIST_BOOKMARKED"})},{path:"comments/:pathMatch(.*)*",redirect:e=>({...e,name:"COMMENTS_LIST_BOOKMARKED"})}],redirect:e=>({...e,name:"ARTICLES_LIST_BOOKMARKED"})},{name:"USER_COMMENTS_PUBLICATIONS",path:"comments/",components:{default:om},meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userComments",rssLink:e=>`/rss/users/${e.login}/comments/`},children:[{name:"USER_COMMENTS_PUBLICATIONS_PAGES",path:"page:pageNum(\\d+)/",meta:{canonicalRoute:"USER_PROFILE",showFilter:!0,commentType:"userComments",rssLink:e=>`/rss/users/${e.login}/comments/`}}]},{name:"USER_FOLLOWERS",path:"followers/",meta:{noindex:!0,nofollow:!0,canonicalRoute:"USER_PROFILE"},components:{default:mm},children:[{name:"USER_FOLLOWERS_PAGES",path:"page:pageNum(\\d+)/",beforeEnter:El.X,meta:{canonicalRoute:"USER_PROFILE",noindex:!0,nofollow:!0}}]},{name:"USER_FOLLOWED",path:"following/",meta:{noindex:!0,nofollow:!0,canonicalRoute:"USER_PROFILE"},components:{default:dm},children:[{name:"USER_FOLLOWED_PAGES",path:"page:pageNum(\\d+)/",beforeEnter:El.X,meta:{canonicalRoute:"USER_PROFILE",noindex:!0,nofollow:!0}}]}]}],Cm=()=>i.e(9722).then(i.bind(i,24628)),km=()=>i.e(9722).then(i.bind(i,15265)),Lm=[{name:"VOICE",path:"voice/new/",component:Cm,meta:{rootPage:!0}},{name:"VOICE_EDIT",path:"voice/edit/:voiceId/",component:km}],Nm=[...Za,..._l,...Oa,...Tl,...Hc,...Ml,...Wc,...Vc,...xc,...tu,...Jc,...su,...ku,...Vu,...ju,...Ju,...td,...am,...vd,...Ed,...Ad,...Nd,...Hd,...Yd,...tm,...xd,...Pm,...Qc,...Qd,...jc,...Lm,...ld,...Yc,...zu];function Om(){return{path:"/:hl(ru|en)/",children:[...Va(),...Nm],components:{default:ba}}}function Rm(){const e=(0,I.p7)({strict:!0,history:"server"==={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV?(0,I.PP)():(0,I.PO)(),routes:[...qa,Om()],scrollBehavior(e,t,i){return e.hash?{el:e.hash}:e.fullPath!==t.fullPath&&(i||{left:0,top:0})}}),t=e.resolve;return e.resolve=function(e,i){var s;if(!e)return t.call(this,e,i);const{langOptions:n}=(0,y.Q)();if(e&&"object"===typeof e&&(null===(s=e.params)||void 0===s||!s.hl)){const t=e.params||{};t.hl=n.value.hl,e.params=t}return t.call(this,e,i)},e}var Mm=i(13406);const Um={created(){const e=(0,l.FN)();if(!e)return;const t=e.type;if(!t||!("head"in t))return;const i="function"===typeof t.head?()=>t.head.call(e.proxy):t.head;Dm(i)}};function Dm(e,t={}){const i=(0,u.i)();if(i)return i.ssr?i.push(e,t):Bm(i,e,t)}function Bm(e,t,i={}){const s=(0,r.iH)({}),n=(0,l.FN)();(0,l.m0)((()=>{s.value=Fm(t)}),{flush:"post"});const a=e.push(s.value,i);return(0,l.YP)(s,(e=>{a.patch(e)})),n&&(0,l.Jd)((()=>{a.dispose()})),a}function Hm(e){return"function"===typeof e?e():(0,r.SU)(e)}function Fm(e,t=""){if(e instanceof Promise)return e;const i=Hm(e);return e&&i?Array.isArray(i)?i.map((e=>Fm(e,t))):"object"===typeof i?Object.fromEntries(Object.entries(i).map((([e,t])=>"titleTemplate"===e||e.startsWith("on")?[e,(0,r.SU)(t)]:[e,Fm(t,e)]))):i:i}var Vm=i(90928),$m=i(42261);function Wm(e){const t=(0,d.WB)(),i=Rm(),s=(0,u.c)();i.isReady().then((()=>Ta(i,e)));const n=(0,o.vr)({setup(){n.config.globalProperties.$hasHydrated=(0,r.iH)(!1),n.config.globalProperties.$toast=(0,c.pm)(),(0,$m.setToast)(n.config.globalProperties.$toast),(0,l.d1)((e=>Gm(e)))},render:()=>(0,l.h)(ia)});return(0,Jr.j)(n,i),n.use(i),n.use(t),n.use(p.ZP),n.use(m.ZP,{portalName:"Portal",portalTargetName:"PortalTarget"}),n.mixin((0,Vm.Z)()),n.use(s),n.mixin(Um),(0,Mm.rg)(n),(0,Mm.RX)(n),(0,Mm.AS)(n),(0,Mm.wv)(n),{app:n,router:i,head:s,pinia:t}}function Gm(e){xm(e)?Ym(e):Zm(e)}function xm(e){return!qm(e)}function qm(e){return e.message.includes("NetworkError")}function Ym(e){const t="server"==={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV;let i;t&&(i=(0,l.Zq)()),i?i.error=e:(0,Ws.E)().showError(e).catch((()=>{}))}function Zm(e){console.error(e)}var jm=i(95916),Km=i(66482),zm=i(77208);function Qm(e){const t=[];return(0,Km.shouldPolyfill)()&&t.push(i.e(9616).then(i.bind(i,38210)),i.e(9616).then(i.t.bind(i,1329,23)),i.e(9616).then(i.t.bind(i,66037,23))),(0,zm.shouldPolyfill)()&&(t.push(i.e(9616).then(i.bind(i,74462))),"ru"===e?t.push(i.e(9616).then(i.t.bind(i,45542,23))):t.push(i.e(9616).then(i.t.bind(i,17689,23)))),t}function Xm(e){let t=Promise.resolve();return(0,jm.shouldPolyfill)()&&(t=i.e(9616).then(i.bind(i,31942))),t.then((()=>Promise.all(Qm(e))))}var Jm=i(47820);function ep(){let e=Promise.resolve();return(0,Jm.Z)()||(e=Promise.all([i.e(1830).then(i.t.bind(i,39989,23)),i.e(2341).then(i.t.bind(i,55594,23)).then((e=>{window.fetchStream=e.default}))])),e}var tp=i(95205);"serviceWorker"in navigator&&(0,tp.z)("https://habr.com/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var ip=i(92710);function sp(e){return"object"===typeof e&&null!==e}function np(e){Object.values(e).forEach((e=>{ap(e)}))}function ap(e){function t(e){if(sp(e)){const i=e[gr.jO];i&&Object.setPrototypeOf(e,null),Object.values(e).forEach((e=>{t(e)}))}}"undefined"!==typeof window&&t(e)}function op(){const e=(0,_e.Zd)(),t=(0,ne.s)();t.device!==e&&t.setDevice(e)}const rp=(0,g.f)(),lp=!0,{app:cp,router:up,pinia:dp}=Wm({useCookies:g.f});if(cp.config.globalProperties.$isStreaming=!1,(0,Mm.Iz)(cp,(0,ip.parseFeaturesSettings)(rp.get("features")||"")),window.__PINIA_STATE__){const e=window.__PINIA_STATE__;np(e),dp.state.value=e,window.__PINIA_STATE__=null}window.addEventListener("resize",a()((()=>op()),100),!1),(0,ne.s)().isPwa&&"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.active.postMessage({runCache:!0})}));const mp=(0,k.q)().userAlias;function pp(e){lp?(0,Jr.T)(e):console.error(e)}(0,s.av)({username:mp||"HABR_GUEST"}),Promise.all([window.i18nFetch,Xm((0,Wt.P)().hl),ep(),(0,P.c)().findOutAdblockStatus()]).then((([e])=>{(0,$s.p)(e),up.isReady().then((()=>{cp.mount("#mount"),op()}),(e=>{throw e}))})),cp.config.errorHandler=pp,up.onError=pp,window.onerror=pp,window.onunhandledrejection=({reason:e})=>pp(e)},50780:(e,t,i)=>{"use strict";function s(){return!0}i.d(t,{s:()=>n});const n={required:!0,type:Object,validator:s}},96139:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(11269);function n(e){return(0,s.HD)(e.alias)&&((0,s.HD)(e.avatarUrl)||null===e.avatarUrl||(0,s.HD)(e.image))}const a={required:!0,type:Object,validator:n}},75633:(e,t,i)=>{"use strict";i.d(t,{p:()=>o,w:()=>r});var s=i(32773),n=i(20980);let a;function o(e){a=e}function r(e,t,i){if(!a)return"▇▅▄▅▅▄ ▇▄▅";const o=a[e];if(!o)return(0,n.Z)(t,new Error(`Language "${e}" is not present in the locales cache`)),"▇▅▄▅▅▄ ▇▄▅";const r=o[t];try{const t=new s.ZP(r,e,null,{ignoreTag:!0}),n=Object.create(null);return t.ast.forEach((({type:e,value:t})=>{5!==e||i[t]||(n[t]=null)})),t.ast.forEach((e=>{e.options&&Object.setPrototypeOf(e.options,null)})),Object.assign(n,i),t.format(n)}catch(l){return(0,n.Z)(t,l),"▇▅▄▅▅▄ ▇▄▅"}}},59896:(e,t,i)=>{"use strict";i.d(t,{T:()=>E,j:()=>T});var s=i(9015),n=i(12699),a=i(81646),o=i(20535),r=i(21577),l=i(51035),c=i(64816),u=i(64487),d=i(44897),m=i.n(d);function p(e,t,i){return t=_(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _(e){var t=h(e,"string");return"symbol"===typeof t?t:String(t)}function h(e,t){if("object"!==typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!==typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const g=!0;class v{constructor(){p(this,"name",v.id),p(this,"_hasSessionStorage","undefined"!==typeof window&&"sessionStorage"in window)}setupOnce(e,t){if(!this._hasSessionStorage)return;const i=t(),s=this._getSession();if(s)i.getScope().setSession(this._deserializeSession(i,s));else{const e=i.startSession();i.captureSession(),this._setSession(e)}}_setSession(e){try{window.sessionStorage.setItem("__SENTRY_SDK_SESSION__",JSON.stringify(e))}catch{}}_getSession(){try{const e=window.sessionStorage.getItem("__SENTRY_SDK_SESSION__");if(e)return JSON.parse(e)}catch{}}_deserializeSession(e,t){return(0,s.Hv)((0,o.Jr)({sid:t.sid,init:!1,started:new Date(t.started).getTime(),timestamp:new Date(t.timestamp).getTime(),status:t.status,errors:t.errors,did:t.did,duration:t.duration,release:t.attrs&&t.attrs.release,environment:t.attrs&&t.attrs.environment,ipAddress:t.attrs&&t.attrs.ip_address,userAgent:t.attrs&&t.attrs.user_agent}))}}function T(e,t){{const i=100,s=Math.random()<i/100;s&&(0,r.S)({...m(),app:e,autoSessionTracking:!1,dsn:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",environment:"production",release:"2025-10-15-10-11",integrations:[new v,new n.S,new a.m,new l.gE({routingInstrumentation:(0,c.x)(t)})],allowUrls:g?[/https?:\/\/((www)\.)?(m\.)?habr\.com/,"https://assets.habr.com/habr-web/"]:[]})}}function E(e){"string"!==typeof e?"TimeoutError"!==e.name?((0,u.e)((e=>{e.setTag("app_version","2.268.2")})),(0,u.Tb)(e)):(0,u.$e)((t=>{t.setFingerprint(["TimeoutError"]),(0,u.Tb)(e)})):(0,u.$e)((t=>{t.setLevel("info"),(0,u.uT)(e)}))}p(v,"id","SessionTracking")},13406:(e,t,i)=>{"use strict";i.d(t,{AS:()=>p,Iz:()=>d,RX:()=>_,rg:()=>u,wv:()=>m});var s=i(66252),n=i(23002),a=i(91270),o=i(59545),r=i(36134),l=i(66478),c=i(92710);function u(e){e.config.globalProperties.$getFeatureFlag=function(e){return(0,c.getFeatureFlag)(e,this.$features)}}function d(e,t){e.config.globalProperties.$features=t}function m(e){e.component("TMSpecs",(0,o.Rd)((()=>i.e(5503).then(i.bind(i,45503))),o.b2)),e.component("TMSimilarSkills",(0,o.Rd)((()=>i.e(1181).then(i.bind(i,81181))),o.b2)),e.component("TMMDLeadtext",(0,o.Rd)((()=>i.e(542).then(i.bind(i,60542))),o.b2)),e.component("TMAppReset",{components:{TMButtonBase:a.Z},emits:["update:data"],setup(){const{msg:e}=(0,r.Q)();return{msg:e}},methods:{resetUserApp(e){const t=this.$route.params.appId,i={clientId:t};return(0,l.Uu)(i,t,e).then((t=>{this.$emit("update:data",t),"credentials"===e&&this.$router.replace({...this.$route,params:{...this.$route.params,appId:t.clientId}}),this.$toast.success(this.msg("SETTINGS_SUCCESS"))})).catch((e=>{this.isSubmitLoading=!1,this.$toast.error(e.message)}))}},render(){const e={props:{"style-size":"medium","style-type":"transparent"},class:"tm-user-app__reset-button"},t=(0,s.h)(a.Z,{...e,on:{click:()=>this.resetUserApp("credentials")}},[this.msg("SETTINGS_APP_RESET_CLIENT_ID")]),i=(0,s.h)(a.Z,{...e,on:{click:()=>this.resetUserApp("apikey")}},[this.msg("SETTINGS_APP_RESET_API_KEY")]),n=(0,s.h)("p",{class:"tm-user-app__reset-hint"},[this.msg("SETTINGS_APP_RESET_HINT")]);return(0,s.h)("div",{class:"tm-user-app__reset"},[t,i,n])}})}function p(e){e.config.globalProperties.$isServer="server"==={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_ENV}function _(e){const t=(e,t)=>!t.some((t=>t.type===e.type&&t.content===e.content))&&e,i={closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!1,position:"top-center",draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:!1,newestOnTop:!0,icon:!1,filterBeforeCreate:t};e.use(n.ZP,i)}},18761:(e,t,i)=>{"use strict";i.d(t,{gV:()=>s,qr:()=>n});function s(e,t){return e.reduce(((e,i)=>(e[i]=t(i),e)),{})}function n(e,t){let i=-1;return e.forEach(((e,s)=>{const n=t(e);n&&(i=s)})),i}},56842:(e,t,i)=>{"use strict";i.d(t,{Q:()=>n});var s=i(73313);function n(e,t,i){const n=(0,s.o)(e),a="news"===e.postType,o="megaproject"===e.postType,r=e.hubs.filter((e=>"corporative"===e.type)),l=r.length&&r[0].alias;let c=`/${i}/articles/${t}/`;return a&&(c=`/${i}/news/${t}/`),e.isCorporative&&(c=`/${i}/companies/${l}/articles/${t}/`),a&&e.isCorporative&&(c=`/${i}/companies/${l}/news/${t}/`),n&&(c=`/${i}/posts/${t}/`),n&&e.isCorporative&&(c=`/${i}/companies/${l}/posts/${t}/`),o&&(c=`/${i}/specials/${t}/`),c}},73833:(e,t,i)=>{"use strict";function s(e){return[{label:e("NAV_COMPLEXITY"),value:"ARTICLES_LIST_COMPLEXITY",children:[{label:e("NAV_ALL"),params:{}},{label:e("NAV_COMPLEXITY_LOW"),params:{complexity:"easy"}},{label:e("NAV_COMPLEXITY_MEDIUM"),params:{complexity:"medium"}},{label:e("NAV_COMPLEXITY_HIGH"),params:{complexity:"hard"}}]}]}i.d(t,{r:()=>s})},1714:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});var s=i(3682);const n={beforeMount(e){(0,s.Z)(e)},mounted(e){s.Z.update(e)},updated(e){s.Z.update(e)},unmounted(e){s.Z.destroy(e)}}},25109:(e,t,i)=>{"use strict";function s(e,t){const i=Object.keys(t),s=[];return i.forEach((i=>{const n=t[i];if(n)if(Array.isArray(n))n.forEach((t=>{s.push(`${e}_${i}-${t}`)}));else{const t="boolean"===typeof n?i:`${i}-${n}`;s.push(`${e}_${t}`)}})),[e,s]}i.d(t,{P:()=>s})},85725:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var s=i(62931);function n(e,t=!1){const i=(0,s.SU)(e.params);let n=(0,s.SU)(e.name);const a=i.flowName||i.hubName||i.login||i.name,o=!t&&i.pageNum&&1!==Number(i.pageNum)?i.pageNum:null,r=i.score,l=i.period,c=i.complexity,u=i.categoryAlias,d=i.nomination,m=i.year,p=i.category,_=[a,r,l,o,c,u,d,m,p].filter(Boolean);return n=_.length?`${n}_${_.join("_")}`:n,n.toUpperCase()}},4788:(e,t,i)=>{"use strict";function s(e){if(!e)throw new Error("Missed spoilerBlock param!");const t=e.querySelector(".spoiler_title"),i=()=>{e.classList.toggle("spoiler_open")};return t.addEventListener("click",i),()=>{t.removeEventListener("click",i)}}function n(){return i.e(7417).then(i.bind(i,7235))}i.d(t,{y:()=>c});const a=e=>n().then((t=>t.default(e)));function o(e){const t=document.createElement("div");t.className="table table_wrapped",t.appendChild(e.cloneNode(!0)),e.parentNode.replaceChild(t,e)}function r(e){const t=document.createElement("iframe"),i=e.getAttribute("id");t.setAttribute("frameborder",0),t.setAttribute("scrolling","no"),t.setAttribute("allowfullscreen",!0),t.setAttribute("loading","lazy");const s=e.getAttribute("data-src");if(s&&t.setAttribute("src",s),t.setAttribute("style",e.getAttribute("data-style")),t.setAttribute("width",e.getAttribute("width")),t.setAttribute("id",i),e.parentNode.replaceChild(t,e),i.match(/^habrQuiz\d+$/)){var n,a;const e=i.replace("habr","init");null===(n=(a=window)[e])||void 0===n||n.call(a)}}function l(e){const t=e.querySelector(".persona__image");t.onerror=()=>t.remove()}function c(e){const t=e.querySelectorAll("table");t.length&&[...t].forEach(o);const i=e.querySelectorAll("pre code");i.length&&[...i].forEach(a);const n=e.querySelectorAll("div.spoiler");n.length&&[...n].forEach(s);const c=e.querySelectorAll(".tm-iframe_temp");c.length&&[...c].forEach(r);const u=e.querySelectorAll(".persona");u.length&&[...u].forEach(l)}},47820:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var s=i(35275);function n(){return s.Qg&&!s.Cg&&window.ReadableStream}},56606:(e,t,i)=>{"use strict";i.d(t,{Lr:()=>c,Yw:()=>r,mR:()=>l,mX:()=>o,we:()=>n});const s="light",n="system",a="dark",o="theme";function r(e){return e||n}function l(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?a:s}function c(e){const t=document.querySelector("#dark-colors"),i=document.querySelector("#light-colors");e===n?(i.media="(prefers-color-scheme: light)",i.disabled=!1,t.media="(prefers-color-scheme: dark)",t.disabled=!1):e===s?(i.media="all",i.disabled=!1,t.media="not all",t.disabled=!0):e===a&&(t.media="all",t.disabled=!1,i.media="not all",i.disabled=!0)}},51737:(e,t,i)=>{"use strict";i.d(t,{_6:()=>a,dE:()=>l,ev:()=>o,ve:()=>r});var s=i(87575);function n(e){Object.assign(e.meta,{isRedirected:!0})}function a(e){Object.assign(e.meta,{isRedirected:!1})}function o(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.isRedirected}function r(e){var t;return!1===(null===(t=e.meta)||void 0===t?void 0:t.isRedirected)}function l(e,t,i){e.hash&&(0===e.hash.indexOf("#comment")||(0,s.rG)(e.hash))&&n(e),i()}},95865:(e,t,i)=>{"use strict";i.d(t,{J7:()=>_,O_:()=>r,RC:()=>p,bP:()=>l,lp:()=>h,v2:()=>a});var s=i(66676),n=i(87575);function a(e){const[,t]=e.getAttribute("name").split("comment_");return t}function o(){return Array.from(document.querySelectorAll("[data-comment-new]"))}function r(){const e=o();return e.map(a)}function l(){const e=o();return 0===e.length?null:e[0]}const c=()=>document.querySelector("[data-selected-comment]");function u(){const{top:e}=document.documentElement.getBoundingClientRect(),t=window.scrollY-Math.abs(e);return t<5}function d(){const e=o();if(0===e.length)return null;let t;if(u())t=e.indexOf(c())-1;else{const i=(0,s.p)(e);if(!i)return null;t=e.indexOf(i)-1}return e[t]||e[e.length-1]}function m(){const e=o();if(0===e.length)return null;let t;if(u())t=e.indexOf(c())+1;else{const i=(0,s.p)(e);if(!i)return null;const n=0===i.getBoundingClientRect().top,a=e.indexOf(i);t=n?a+1:a}return e[t]||e[0]}function p(e){if(e.parentElement){const t=e.parentElement.querySelector("[data-comment-header]");t&&t.focus()}}function _(){const e=m();e&&(0,n.fo)(`#${e.id}`,!0).then((()=>{p(e)}))}function h(){const e=d();e&&(0,n.fo)(`#${e.id}`,!0).then((()=>{p(e)}))}},39520:(e,t,i)=>{"use strict";i.d(t,{Cl:()=>a,Hx:()=>s,Ng:()=>n,Yi:()=>o,ZZ:()=>r});const s=300,n=300,a=300,o=300,r=3e3},34565:(e,t,i)=>{"use strict";function s(e){return{name:"ARTICLES_LIST_BY_COMPANY",query:{},params:{name:e}}}function n(e){return e&&e.settings&&"expired"===e.settings.status}function a(e,t){if(e&&Array.isArray(e.sectors)){const i=e.sectors.map((({title:e})=>e));return[t,...i].join(", ")}return""}function o(e){return e&&e.metadata&&Array.isArray(e.metadata.keywords)?e.metadata.keywords.join(", "):""}i.d(t,{Kf:()=>l,R0:()=>a,SO:()=>u,eD:()=>c,fd:()=>n,kM:()=>s,yB:()=>r,yK:()=>o});const r=new Date(2018,5,1),l=30,c=["postCount","readingCount","commentsCount","favoritesCount","score"];function u(e,t="id"){return e.map((e=>({name:e.title,value:e[t]})))}},48037:(e,t,i)=>{"use strict";function s(e){return e?e.$el||e:null}i.d(t,{d:()=>s})},43059:(e,t,i)=>{"use strict";function s(e){const t=document.createElement("input");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}i.d(t,{Z:()=>s})},21331:(e,t,i)=>{"use strict";i.d(t,{AH:()=>o,E4:()=>c,Rn:()=>l,bl:()=>p,iH:()=>m,ic:()=>r,l4:()=>d,ot:()=>u,rb:()=>_});var s=i(784),n=i(71806),a=i(89345);function o(e){return e.toISOString().slice(0,10)}function r(e){const t=new Date,i=new Date(t.getTime()-86400*e*1e3);return{date_from:o(i),date_to:o(t)}}function l(e){return+new Date(e)/1e3}function c(e,t){return new Date(e.getTime()+1e3*t*60*60*24)}function u(e){return c(new Date,e)}function d(e){const t=new Date(e);let i=t.getDate();i<10&&(i=`0${i}`);let s=t.getMonth()+1;return s<10&&(s=`0${s}`),`${i}.${s}`}function m(e){const t=new Date(e);return new Date(+t+60*t.getTimezoneOffset()*1e3)}function p(e){const t=new Date(e),i=new Date(0);return i.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),i.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),i.toISOString()}function _(e,t="ru"){if(!e)return"";const[i,o,r]=e.split(":");return(0,s.Z)({hours:i,minutes:o,seconds:r},{format:["hours","minutes","seconds"],delimiter:" ",locale:"ru"===t?n.Z:a.Z})}},13862:(e,t,i)=>{"use strict";i.d(t,{$v:()=>r,Zd:()=>a,b1:()=>o});const s=768,n=1024;function a(){const e=window.innerWidth;return e<s?"mobile":e<n?"tablet":"desktop"}function o(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function r(){return/iPad/.test(navigator.platform)&&/Mac OS X/i.test(navigator.userAgent)||void 0!==navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}},74568:(e,t,i)=>{"use strict";function s(e){const{top:t,height:i}=e.getBoundingClientRect();return t<=window.innerHeight&&t+i>0}function n(e,t){const{top:i,height:s}=e.getBoundingClientRect();return s*t/100+i<=window.innerHeight}function a(e){const{top:t,height:i}=e.getBoundingClientRect(),s=(window.innerHeight-t)/i*100;return Math.min(100,s)}function o(e){const{bottom:t}=e.getBoundingClientRect();return t-window.innerHeight<=0}i.d(t,{i9:()=>a,p8:()=>o,v4:()=>s,xU:()=>n})},35275:(e,t,i)=>{"use strict";i.d(t,{Cg:()=>r,I0:()=>c,QO:()=>l,Qg:()=>a,W6:()=>o,Yu:()=>u,v9:()=>n});const s="production",n="development"===s,a="undefined"!==typeof window,o="undefined"===typeof window,r="test"===s,l="https://qna.habr.com",c={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_FREEL_HOST,u="https://career.habr.com"},52767:(e,t,i)=>{"use strict";i.d(t,{C5:()=>a,JV:()=>o,TU:()=>n,r6:()=>r,zg:()=>s.getErrorCode});var s=i(87032);function n(e){const t=(0,s.getErrorCode)(e);return"FORM_ERRORS"===t&&e.data?e.data:null}function a(e,t){var i,n;return"FORM_ERRORS"===(0,s.getErrorCode)(e)&&null!==(i=e.data)&&void 0!==i&&null!==(n=i[t])&&void 0!==n&&n.length?e.data[t][0]:null}function o(e){return e&&e.data instanceof Blob?e.data.text().then((e=>JSON.parse(e))):Promise.resolve(e)}function r(e){return Array.isArray(e)?e[0]:e}},11307:(e,t,i)=>{"use strict";i.d(t,{P:()=>a,Q:()=>s});const s={Разработка:"development",Администрирование:"admin",Дизайн:"design",Менеджмент:"management",Маркетинг:"marketing",Аналитика:"analytics",Тестирование:"testing",Другое:"other"};function n(e,t){const i={day:e.getDate().toString(),month:e.getMonth().toString(),year:e.getFullYear()},s=t&&{day:t.getDate().toString(),month:t.getMonth().toString(),year:t.getFullYear()};return{startParams:i,finishParams:s}}function a(e,t,i){const{startParams:s,finishParams:a}=n(e,t);if(!t||t.getTime()===e.getTime())return i("WHEN_FULL_DATE",{...s,year:void 0});const o=e.getMonth(),r=e.getFullYear(),l=t.getMonth(),c=t.getFullYear();let u,d;return r!==c?(u=i("WHEN_FULL_DATE",s),d=i("WHEN_FULL_DATE",a)):o!==l?(u=i("WHEN_FULL_DATE",{...s,year:void 0}),d=i("WHEN_FULL_DATE",{...a,year:void 0})):(u=e.getDate(),d=i("WHEN_FULL_DATE",{...a,year:void 0})),`${u} – ${d}`}},75846:(e,t,i)=>{"use strict";i.d(t,{M:()=>m,W:()=>d});var s=i(22201);const n=["https://habr.com","https://m.habr.com","https://habrahabr.ru","https://habr.com","https://habr.com"];let a=!1,o=!1;function r(e){return["Control","Meta"].includes(e)}function l(e){r(e.key)&&(a=!1)}function c(e){r(e.key)&&(a=!0)}function u(){o||(document.addEventListener("keyup",l),document.addEventListener("keydown",c),o=!0)}function d(e,t){u();const i=e.querySelectorAll("a");if(!i.length)return()=>{};const s=[];return i.forEach((e=>{const i=n.includes(e.origin);if(i&&!e.hash){const i=i=>{1!==i.button&&(a||t(i,e))};e.addEventListener("click",i),s.push((()=>{e.removeEventListener("click",i)}))}window.location.origin!==e.origin&&e.setAttribute("target","_blank")})),()=>{s.forEach((e=>e()))}}function m(e){return{path:e.pathname,query:(0,s.mB)(e.search)}}},75538:(e,t,i)=>{"use strict";i.d(t,{$:()=>u,O:()=>o});var s=i(58748),n=i(72073),a=i(79182);function o(){let e=JSON.parse((0,a.rV)("hiddenBannerList")||"[]");return Array.isArray(e)||(e=[]),e}const r=["ARTICLES_LIST_BY_HUB_ALL","PUB_POST","PUB_ARTICLE","PUB_NEWS","PUB_SPECIAL"];function l(e){const t=(0,n.X)().getHubByAlias(e);return t&&t.id?[parseInt(t.id,10)]:[]}function c(e){const t=(0,s.g)().getArticleById(e);return t&&t.hubs?t.hubs.map((e=>parseInt(e.id,10))):[]}function u(e){return r.includes(e.name)?"ARTICLES_LIST_BY_HUB_ALL"===e.name?l(e.params.hubName):r.slice(1).includes(e.name)?c(e.params.id):[]:[]}},87934:(e,t,i)=>{"use strict";let s,n;function a(e){return s||(s=new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"})),s.format(e)}function o(e){return n||(n=new Intl.NumberFormat("en-US",{useGrouping:!1,signDisplay:"exceptZero"})),n.format(e)}i.d(t,{O:()=>a,j:()=>o})},99343:(e,t,i)=>{"use strict";i.d(t,{I$:()=>a,Pr:()=>n,Ro:()=>s,aF:()=>o});const s={post:"tm_block_top_daily_post_post",comment:"tm_block_top_daily_post_comment"},n="tm_block_similar_post_common";function a(e,t){const i="top_daily"===e?"topdaily_post":"similar_post";return`tm_block_${i}_${t}`}const o=e=>`tm_block_other_news_${e}`},69904:(e,t,i)=>{"use strict";i.d(t,{s:()=>l});var s=i(30172),n=i(95186),a=i(52997),o=i(20732);function r(e){const t=e.getElementsByClassName("gallery-wrapper"),i=[].slice.call(t);return i}function l(e){s.Z.use([n.Z,a.Z,o.Z]);const t=r(e),i=[],l=[];return t.forEach((e=>{const t=e.querySelector(".thumb-gallery"),n=Array.from(t.querySelectorAll(".swiper-slide")).length>8;t&&!n&&t.classList.add("thumb-gallery_nav_off");const a=new s.Z(t,{spaceBetween:12,slidesPerView:"auto",freeMode:!0,threshold:10,multipleActiveThumbs:!1,watchSlidesProgress:!0,observer:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}});l.push(a);const o=new s.Z(e.querySelector(".gallery"),{slidesPerView:1,spaceBetween:0,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},thumbs:{swiper:a}});i.push(o)})),i}},29587:(e,t,i)=>{"use strict";function s(e){return"a"===e.parentNode.tagName.toLowerCase()}function n(e,t=0){const i=s(e);return!!i||!(t>1)&&n(e.parentNode,t+1)}i.d(t,{N:()=>o});var a=i(581);function o(e){return(0,a.getImages)(e).filter((e=>!n(e)))}},80680:(e,t,i)=>{"use strict";i.d(t,{O:()=>n,z:()=>a});const s=200;function n(e,t){const i=Math.abs(e.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)%t);return i+1}function a(e){const t=n(e,s),i=`${t.toString().padStart(3,"0")}.png`;return`https://assets.habr.com/habr-web/img/avatars/${i}`}},10976:(e,t,i)=>{"use strict";function s(e){if("string"!==typeof e)return null;const t={article:"article",news:"news",post:"post",voice:"voice",specials:"specials",megaproject:"specials",sandbox:"sandbox",unknown:"unknown"};return t[e]||null}function n(e){if(!e)return null;const{publicationType:t,postType:i}=e;return t?s(t):i?s(i):null}i.d(t,{T:()=>n})},19913:(e,t,i)=>{"use strict";i.d(t,{IZ:()=>c,Lq:()=>p,Z0:()=>h,_k:()=>m,gE:()=>d,t4:()=>u,uK:()=>l});var s=i(51084);function n(e,t,i){return e?t&&t(e):i&&i()}function a(){const e=(0,s.au)((0,s.j4)());return e?e.path:""}function o(e){const t=(0,s.au)((0,s.j4)());return`${t.protocol}//${t.host}${e}`}const r=new Map,l=(e,t)=>n(window.gtag,e,t);function c(e,t={},i){const s=40;if(e.length>s)throw new Error("eventName should be shorter!");l((s=>{s("event",e,{send_to:r.get(i),...t})}))}function u(e,t){l((i=>{i("set",e,t)}))}function d(e){r.delete(e)}function m(e,t){e&&l((i=>{const s={send_page_view:!1},n=["config",e];if(t){n.push({...s,...t});const i=t.name;i&&r.set(i,e)}else n.push(s);i(...n)}))}function p(e){const{lang:t}=e,i=e.publicationType||e.postType;let s="ugc";return e.isEditorial&&(s="editorial"),e.isCorporative&&(s="corp"),[i,s,t].join("_").replace("megaproject","special")}function _(){const{location:e,history:t}=window;if(-1!==e.search.indexOf("utm_")){const i=new URL(e),s=Array.from(i.searchParams.keys()).filter((e=>e.startsWith("utm_")));s.forEach((e=>i.searchParams.delete(e))),t.replaceState({},null,i)}}function h({fullPath:e,trackerName:t=null,optionalParams:i={}}){const s=e||a(),n="G-S28W1WC23F";l((e=>{e("event","page_view",{page_location:o(s),...i,send_to:t?r.get(t):n})})),_()}},23719:(e,t,i)=>{"use strict";i.d(t,{c:()=>c});var s=i(93096),n=i.n(s),a=i(66676);function o(e){return Array.from(document.querySelectorAll(e))}function r(e){e.focus({preventScroll:!0}),window.scrollTo({top:e.offsetTop,behavior:"smooth"})}function l({navigatableSelector:e,onPrevNavigationEnd:t,onNextNavigationEnd:i,onFocusedInteraction:s}){const l=n()(r,400);return{h:()=>{const[i]=o(e);i===document.activeElement?t():l(i)},l:()=>{const t=o(e),s=t[t.length-1];s===document.activeElement?i():l(s)},k:()=>{const i=o(e),{activeElement:s}=document,n=i.indexOf(s),r=-1===n?(0,a.p)(i):i[n-1];r?l(r):t()},j:()=>{const t=o(e),{activeElement:s}=document,n=t.indexOf(s),r=-1===n?(0,a.p)(t):t[n+1];r?l(r):i()},o:()=>{const t=o(e),{activeElement:i}=document,n=t.indexOf(i);-1!==n&&s(document.activeElement)}}}function c({toggleArticleView:e}={}){const t=l({navigatableSelector:"[data-navigatable]",onFocusedInteraction(e){const t=e.querySelector("[data-article-link]");t&&t.click()},onPrevNavigationEnd(){const e=document.querySelector("[data-pagination-prev]");e&&e.click()},onNextNavigationEnd(){const e=document.querySelector("[data-pagination-next]");e&&e.click()}});return e&&(t.t=e),t}},32020:(e,t,i)=>{"use strict";i.d(t,{S:()=>o});var s=i(19913);const n={ym:"yandex",ga:"google"};function a(e={}){const{analyticsSettings:t=[]}=e;return t.reduce(((e,{type:t,trackingId:i})=>({...e,[n[t]]:i})),{})}function o(e,t){const{settings:i}=e;if(!i)return;const n=a(i);if(!n)return;const{google:o,yandex:r}=n;o&&(0,s.uK)((()=>{(0,s._k)(o,{name:"company"}),(0,s.Z0)({fullPath:t,trackerName:"company"}),(0,s.gE)("company")})),r&&window.ym&&(window.ym(r,"init",{defer:!0,webvisor:!1,clickmap:!1,accurateTrackBounce:!0}),window.ym(r,"hit",t))}},15891:(e,t,i)=>{"use strict";function s(e,t){return Math.floor(e+Math.random()*(t+1-e))}i.d(t,{r:()=>s})},66259:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s,X:()=>n});const s=50;function n(e,t,i){if(e.params.pageNum){const t=parseInt(e.params.pageNum,10),n=`/${e.params.hl}/404/`;if(t>s)return i({path:n})}return i()}},10836:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const s="https://habr.com";function n(e,t=s){const i=new URL(e,t);return`${i.origin}${i.pathname}`}},90928:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var s=i(11954);const n=()=>({computed:{langOptions(){return(0,s.P)().langOptions}},methods:{msg(e,t){return(0,s.P)().msg(e,t)}}})},73313:(e,t,i)=>{"use strict";i.d(t,{E:()=>o,o:()=>n.a});var s=i(71355),n=i.n(s),a=i(48070);function o(e){return[a.VU.POST,a.VU.POST_OF_COMPANY].includes(e)}},48070:(e,t,i)=>{"use strict";i.d(t,{VU:()=>a,dT:()=>o,g1:()=>r});var s=i(51737);function n({id:e},t){return t?`/rss/news/t/${e}/`:`/rss/post/${e}/`}const a={ARTICLE:"PUB_ARTICLE",ARTICLE_COMMENTS:"PUB_ARTICLE_COMMENTS",ARTICLE_OF_COMPANY:"PUB_ARTICLE_OF_COMPANY",ARTICLE_OF_COMPANY_COMMENTS:"PUB_ARTICLE_OF_COMPANY_COMMENTS",ARTICLE_SANDBOX:"PUB_ARTICLE_SANDBOX",NEWS:"PUB_NEWS",NEWS_COMMENTS:"PUB_NEWS_COMMENTS",NEWS_OF_COMPANY:"PUB_NEWS_OF_COMPANY",NEWS_OF_COMPANY_COMMENTS:"PUB_NEWS_OF_COMPANY_COMMENTS",POST:"PUB_POST",POST_OF_COMPANY:"PUB_POST_OF_COMPANY",SPECIAL:"PUB_SPECIAL",SPECIAL_COMMENTS:"PUB_SPECIAL_COMMENTS",SPECIAL_PREVIEW:"PUB_SPECIAL_PREVIEW"},o=Object.values(a);function r(e,t,i){return{name:e,components:{default:t},props:{default:!0},meta:{pageType:"post",customGA:!0,rssLink:e=>n({id:e.id},i),isNews:i},beforeEnter:s.dE}}},86598:(e,t,i)=>{"use strict";i.d(t,{CW:()=>l,I5:()=>T,RC:()=>h,Ro:()=>g,Zl:()=>S,cv:()=>_,dV:()=>p,fM:()=>f,fp:()=>d,jH:()=>A,k5:()=>v,ms:()=>c,y7:()=>E});var s=i(73313),n=i(79182),a=i(44383);function o(e){let t=0;return e.content&&e.content.forEach((e=>{e.text&&(t+=e.text.length)})),t}const r=1500;function l({json:e}){const t=[];if(e){const i=e.content||[];let s=0;for(let e=0;e<i.length;e+=1)if("paragraph"===i[e].type){if(!(s<r))return t;s+=o(i[e]),s>0&&t.push(i[e])}else if(t.length>0)return t}return t}function c({json:e}){const t=null;if(e){const t=e.content||[];for(let e=0;e<t.length;e+=1)if("image"===t[e].type)return t[e].attrs.src}return t}const u=e=>JSON.parse((0,n.rV)(e)||"{}");function d(e,t){const i=u(e);return i[t]}function m(e,t){(0,n.LS)(e,JSON.stringify(t))}function p(e,t){const i=u(e);delete i[t],m(e,i)}function _(e,t,i,s,n){const a=u(s),o={};a[t]&&(o[t]=a[t],delete a[t]);const r=Object.keys(a),l=r.sort(((e,t)=>new Date(a[e].savedDate)>new Date(a[t].savedDate)?-1:1)).slice(0,n);l.forEach((e=>{o[e]=a[e]})),m(s,{...o,[i]:e})}function h(e){const t=["title","text"],i={content:[],hasFirstStepErrors:!1};return Object.entries(e).forEach((([e,s])=>{if(i.hasFirstStepErrors=i.hasFirstStepErrors||t.includes(e),Array.isArray(s)||"object"!==typeof s)i[e]=Array.isArray(s)?s[0]:s,i.content.push(...s);else{let t=!1;Object.values(s).forEach((s=>{i.content.push(...s),t||(i[e]=Array.isArray(s)?s[0]:s,t=!0)}))}})),i.content=i.content.join("\n"),i}const g=new Date;function v(e){let t;switch(e.postType){case"news":t="PUBLICATION_NEWS_EDIT";break;case"sandbox":t="PUBLICATION_SANDBOX_EDIT";break;default:t="PUBLICATION_ARTICLE_EDIT"}return{name:t,params:{publicationId:e.id}}}function T(e,t){const{relatedData:i,postType:s}=e,n=(null===i||void 0===i?void 0:i.canEdit)&&"megaproject"!==s;if(!n)return;const a=parseInt(e.editorVersion,10),o=2===a;o?t.push(v(e)):console.warn("Old editor is deprecated, should not be here")}function E(e,t){switch(e){case"news":return t("NAV_NEWS");case"posts":return t("NAV_POSTS");default:return t("NAV_ARTICLES")}}function S(e){const{id:t,lang:i}=e;return(0,s.o)(e)?`https://habr.com/${i}/posts/${t}/`:`https://habr.com/p/${t}/`}function f(e,t,i){var s;const{publications:n}=e.postsLeft,a=(null===n||void 0===n?void 0:n.remain)??(null===(s=e.postsLeft[t])||void 0===s?void 0:s.remain);if(void 0===a)return"";const o={name:e.name,type:n?"publication":t,postsLeft:a};if(n)return i(a?"PUBLICATION_HUBS_POSTS_LIMIT":"PUBLICATION_HUBS_POSTS_LIMIT_EXCEEDED",o);let r="free_blog"===e.tariffId||"free_blog_3"===e.tariffId?"PUBLICATION_HUBS_FREE_BLOG_POSTS_LIMIT_EXCEEDED":"PUBLICATION_HUBS_STARTER_BLOG_POSTS_LIMIT_EXCEEDED";return i(a?"PUBLICATION_HUBS_BLOG_POSTS_LIMIT_BY_TYPE":r,o)}function A(e,t){return{...(0,a.uT)(e,t),query:{edit:!0}}}g.setDate((new Date).getDate()+1)},44383:(e,t,i)=>{"use strict";i.d(t,{MG:()=>o,OI:()=>g,Tg:()=>T,YO:()=>h,bx:()=>v,dY:()=>p,nz:()=>m,tz:()=>E,uT:()=>d,ym:()=>u});var s=i(48070),n=i(10976);const a={corp:{news:s.VU.NEWS_OF_COMPANY,specials:s.VU.SPECIAL,default:s.VU.ARTICLE_OF_COMPANY,post:s.VU.POST_OF_COMPANY},regular:{sandbox:s.VU.ARTICLE_SANDBOX,specials:s.VU.SPECIAL,news:s.VU.NEWS,post:s.VU.POST,default:s.VU.ARTICLE}};function o({isCorporative:e,postType:t}){const i=e?a.corp:a.regular;return i[t]||i.default}const r={corp:{default:s.VU.ARTICLE_OF_COMPANY_COMMENTS,post:s.VU.POST_OF_COMPANY,news:s.VU.NEWS_OF_COMPANY_COMMENTS},regular:{default:s.VU.ARTICLE_COMMENTS,news:s.VU.NEWS_COMMENTS,specials:s.VU.SPECIAL_COMMENTS,post:s.VU.POST}};function l({isCorporative:e,postType:t}){const i=e?r.corp:r.regular;return i[t]||i.default}function c(e){return e.find((e=>"corporative"===e.type)).alias}function u(e,t){const{hubs:i,id:s,isCorporative:a}=e,o=(0,n.T)(e);return{name:l({isCorporative:a,postType:o}),params:{companyName:a?c(i):null,id:s,hl:t}}}function d(e,t){const{hubs:i,id:s,isCorporative:a}=e,r=(0,n.T)(e);return{name:o({isCorporative:a,postType:r}),params:{companyName:a?c(i):null,id:s,hl:t}}}function m(e){const t=e.flatMap((e=>[e.value,...e.children?m(e.children):[]]));return Array.from(new Set(t))}const p="more-news";function _(e){const{history:t}=globalThis;t&&t.replaceState(t.state,null,e)}function h(e){const{location:t}=globalThis;if(t){const i=new URL(t);i.hash=e,_(i)}}function g(e,t){const{location:i}=globalThis;if(i){const s=new URL(i);s.searchParams.set(e,t),_(s)}}function v(e){const{location:t}=globalThis;if(t){const i=new URL(t);e.forEach((e=>{i.searchParams.delete(e)})),_(i)}}function T(){const{location:e}=globalThis;e&&_(e.pathname)}function E(e,t){const{history:i}=e.options;if(!i.state)return;const s=i.state[t],n={...i.state};delete n[t];const{location:a}=i;return i.replace(a,n),s}},68171:(e,t,i)=>{"use strict";i.d(t,{YL:()=>l,bc:()=>u,qV:()=>c});var s=i(89554),n=i(21331),a=i(88447);function o(e){const{period:t,score:i}=e;return(!t||!i)&&(t?["daily","weekly","monthly","yearly","alltime"].includes(t):!i||["0","10","25","50","100"].includes(i))}function r(e){return e.replace(/^\/(en|ru)/,"")}function l({route:e,flowName:t,hubName:i,isNews:l,isPosts:c}){const{params:u,href:d}=e;if(!o(u))return;const m=(0,s.f)(),p=(0,a.buildCookieName)({flowName:t,hubName:i,isNews:l,isPosts:c}),_=r(d);m.set(p,_,{expires:(0,n.ot)(365)})}function c(e){const{path:t}=e,i=r(t),a=(0,s.f)();a.set("habr_web_home_feed",i,{expires:(0,n.ot)(365)})}function u(e,t){const i=t||"/all/";return`/${e.hl}${i}`}},87575:(e,t,i)=>{"use strict";i.d(t,{dY:()=>_,fo:()=>p,m2:()=>h,rG:()=>o});var s=i(95865),n=i(67426),a=i(42185);function o(e){return"#first_unread"===e}function r(e){return e.indexOf("#comment_")>-1||o(e)}function l(e){return e.split("#comment_")[1]}const c=12;function u(){return Array.from(document.querySelectorAll("[data-selected-comment]")).forEach((e=>{delete e.dataset.selectedComment}))}function d(e){e.dataset.selectedComment="true"}function m(e){u(),d(e)}function p(e,t=!1){if(!r(e))return Promise.resolve(!1);let i;if(r(e)){const t=l(e);i=`[name="comment_${t}"]`}if(o(e)){const e=(0,s.bP)();e&&(i=`[name="${e.getAttribute("name")}"]`)}return(0,a.br)(i).then((async e=>{if(!e)return;t&&(m(e),await(0,a.br)("[data-selected-comment]"));const i=2*parseInt(getComputedStyle(e).scrollMarginTop);if((0,n.Zu)(e,c+i),e.parentElement){const t=e.parentElement.querySelector("[data-comment-header]");t&&t.focus()}}))}function _(e){r(e.hash)&&setTimeout((()=>{p(e.hash)}),300)}function h(e){const t=document.querySelector(`[name="comment_${e}"]`),i=document.querySelector("[data-height-limiter]");if(!i)return!0;const s=t.getBoundingClientRect(),n=i.getBoundingClientRect();return s.top+s.height<n.top}},67426:(e,t,i)=>{"use strict";i.d(t,{Ab:()=>l,Ex:()=>r,Zu:()=>o,kI:()=>a});var s=i(30121);function n(){const e=document.querySelector("header");return(null===e||void 0===e?void 0:e.getBoundingClientRect().height)??0}function a(e){const t=e.getBoundingClientRect().top,i=t+(0,s.wA)(),a=n();return a>0?(0,s.X5)(i-a):(0,s.X5)(i)}function o(e,t=0){const i=e.getBoundingClientRect().top,n=i+(0,s.wA)();return(0,s.X5)(n-t)}function r(e){const t=e.getBoundingClientRect().top,i=t+(0,s.wA)();return(0,s.X5)(i)}function l(e=document.body){const t=[".base-input__error",".base-chips__error",".base-cover__error",".tm-input__error",".tm-md-leadtext__description_error",".editor__error"],i=e.querySelector(t.join(", "));return!!i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),!0)}},24440:(e,t,i)=>{"use strict";function s(e){const t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}function n(e){return e.replace(/(<([^>]+)>)/gi,"")}i.d(t,{V:()=>s,_:()=>n})},38919:(e,t,i)=>{"use strict";function s(e){return new Date(e)}function n(e,t=2,i="0"){return e.toString().padStart(t,i)}function a(e){const t=e.getFullYear(),i=n(e.getMonth()+1),s=n(e.getDate());return`${t}-${i}-${s}`}function o(e){const t=n(e.getHours()),i=n(e.getMinutes());return`${t}:${i}`}function r(e,t){return e.getFullYear()===t.getFullYear()}function l(e,t){return!!r(e,t)&&e.getMonth()===t.getMonth()}function c(e,t){return l(e,t)&&e.getDate()===t.getDate()}function u(e,t){return l(e,t)&&e.getDate()>=t.getDate()-1}i.d(t,{SI:()=>a,gO:()=>u,rp:()=>o,sG:()=>s,zk:()=>c})},42185:(e,t,i)=>{"use strict";i.d(t,{AD:()=>r,br:()=>c});var s=i(39309);const n=s.Z;let a={};function o(){return n.document&&(a=n.document),Promise.resolve(a)}function r(){return o().then((e=>Math.max(n.pageYOffset,e.documentElement.scrollTop,e.body.scrollTop)))}function l(e){return o().then((t=>t.querySelector(e)))}function c(e,t=0,i=5){const s=300;return l(e).then((n=>{if(n||t>=i)return n;const a=t+1;return new Promise((t=>{setTimeout((()=>{t(c(e,a,i))}),s*a)}))}))}},67267:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var s=i(20980);const n="Install platform specific error tracker";let a={notifyException(e){(0,s.Z)(e),(0,s.Z)(new Error(n))}};function o(e){a=e}function r(e,t){a.notifyException(e,t)}const l={install:o,notifyException:r}},39309:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});const s=()=>{};function n(){return"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:{console:{error:s,log:s}}}const a=n()},50807:(e,t,i)=>{"use strict";i.d(t,{l:()=>r,q:()=>o});var s=i(39309);const n=s.Z,a=n.history;function o(e){a&&a.pushState({},"",e)}function r(e){a&&a.replaceState({},"",e)}},51084:(e,t,i)=>{"use strict";i.d(t,{Df:()=>p,au:()=>d,j4:()=>u});var s=i(80129),n=i.n(s),a=i(8575),o=i(39309),r=i(50807);const l=o.Z,{location:c}=l;function u(){return c?c.href:""}function d(e){return a.parse(e,!0)}function m(){const e=u(),t=d(e),i={...t.query};if(!i.utm_campaign)return null;delete i.utm_campaign,delete i.utm_medium,delete i.utm_source,t.query=i;const s=n().stringify(i);return s?`${t.pathname}?${s}${t.hash||""}`:`${t.pathname}${t.hash||""}`}function p(){const e=m();e&&(0,r.l)(e)}},30121:(e,t,i)=>{"use strict";i.d(t,{X5:()=>o,kI:()=>r,wA:()=>a});var s=i(67339);function n(){return document.scrollingElement||document.documentElement||document.body}function a(){const e=n();return e.scrollTop}function o(e,t=200){if("undefined"===typeof window)return;const i=n();(0,s.top)(i,e,{duration:t})}function r(e){const t=e.getBoundingClientRect().top,i=t+a();o(i)}},20980:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(39309);function n(...e){s.Z.console.error(...e)}const a=n},79182:(e,t,i)=>{"use strict";i.d(t,{LS:()=>o,rV:()=>r});var s=i(39309);const n=s.Z,a=n.localStorage;function o(e,t){if(a)try{return a.setItem(e,t),!0}catch{return!1}return!1}function r(e){if(a)try{return a.getItem(e)}catch{return null}return null}},11269:(e,t,i)=>{"use strict";function s(e){return"undefined"===typeof e}function n(e){return!s(e)}function a(e){return"string"===typeof e}i.d(t,{HD:()=>a,Xq:()=>n})},61739:(e,t,i)=>{"use strict";i.d(t,{z:()=>n});const s={USD:"$",RUB:"₽",EUR:"€"},n={location(e,t){return e.remoteFriendly?t("VACANCY_REMOTE_FRIENDLY"):e.location},salary(e,t){if(!e.salary)return t("VACANCY_NEGOTIATED_SALARY");const{from:i,to:n,currency:a}=e.salary,o=s[a];return i?n?t("VACANCY_SALARY",{from:i,to:n,currency:o}):t("VACANCY_SALARY_FROM",{from:i,currency:o}):t("VACANCY_SALARY_TO",{to:n,currency:o})},tags(e){const t=[];return e.qualification&&t.push(e.qualification),t.push(...e.divisions.map((e=>e.title)),...e.properties),t}}},99691:(e,t,i)=>{"use strict";i.d(t,{HZ:()=>n,aK:()=>a,oW:()=>s});const s=e=>t=>e.includes(t),n=e=>t=>!t||s(e)(t);function a(e){return t=>e.every((e=>Object.prototype.hasOwnProperty.call(t,e)))}},66676:(e,t,i)=>{"use strict";function s(e){return e.map((e=>[e,e.getBoundingClientRect()])).reduce(((e,t)=>Math.abs(t[1].top)<Math.abs(e[1].top)?t:e))[0]}i.d(t,{p:()=>s})},86409:(e,t,i)=>{"use strict";i.d(t,{ZI:()=>w,Hm:()=>A,Q:()=>y,Cm:()=>P});var s=i(9669),n=i.n(s),a=i(80129),o=i.n(a),r=i(11954);function l(e){const t=new URL(e.url);return"https://habr.com"!==t.origin?e:{...e,headers:{...e.headers,"x-app-version":"2.268.2"}}}var c=i(35275),u=i(89554),d=i(21331);function m(e){if(!e)return;const t=document.querySelector('meta[name="habr-version"]'),i=t?t.getAttribute("content"):"",[,s]=i.split("."),[,n]=e.split("."),a=(0,u.f)();if(n-s>1){const e=a.get("target-minor-version");e&&e===n||(a.set("target-minor-version",n,{expires:(0,d.ot)(30)}),window.location.reload(!0))}if(n>s){const e=new CustomEvent("showRefreshNotice");document.dispatchEvent(e)}}function p(e){if(e){const t=new CustomEvent("showCacheNotice",{detail:e});document.dispatchEvent(t)}else{const e=new CustomEvent("hideCacheNotice");document.dispatchEvent(e)}}var _=i(87032);const h=(e={})=>({...e,withCredentials:!0});function g(e,t,i){var s;this.name=this.constructor.name,this.message=e.message,this.status=null===(s=t.response)||void 0===s?void 0:s.status,Object.assign(this,e),this.stack=i||t.stack||(new Error).stack}function v(e,t){return e.isAxiosError?new g(E(e),e,t):e}function T(){return{message:(0,r.P)().msg("ERROR_MESSAGE_INTERNAL_RETRY")}}function E(e){var t;const{response:i}=e;if(!i)return T();if(null!==(t=i.data)&&void 0!==t&&t.message)return i.data;const s=(0,_.getHttpCode)(e);return s&&i.message?i:T()}function S(e,t){return t<2&&(!e.response||408===e.response.status)}function f(e){!c.v9&&c.Qg&&(m(e["server-habr-version"]),p(e["x-sw-cache"]))}function A(e,t={},i=0,s=!0,a="json"){const r={responseType:a,params:{...t},paramsSerializer:e=>o().stringify(e,{arrayFormat:"indices"})},l=s?h(r):r,{stack:c}=new Error;return n().get(e,l).then((e=>(f(e.headers),e.data))).catch((n=>{if(S(n,i))return new Promise((n=>setTimeout((()=>n(A(e,t,i+1,s),2e3)))));throw v(n,c)}))}function b(){const e=document.querySelector('meta[name="csrf-token"]');return e&&e.getAttribute("content")}function I(){const e=b(),t=e?{headers:{"csrf-token":e}}:{};return t}function y(e,t={},i=!0,s=!0){const a=s?I():{},o=i?h(a):a,{stack:r}=new Error;return n().post(e,t,o).then((e=>(f(e.headers),e.data))).catch((e=>{throw v(e,r)}))}function w(e,t={},i=!0,s=!0){const{stack:a}=new Error,o=s?I():{},r=i?h(o):o;return n()({method:"DELETE",url:e,data:t,...r}).then((e=>e.data)).catch((e=>{throw v(e,a)}))}function P(e,t={},i=!0,s=!0){const a=s?I():{},o=i?h(a):a,{stack:r}=new Error;return n()({method:"SEARCH",url:e,data:t,...o}).then((e=>(f(e.headers),e.data))).catch((e=>{throw v(e,r)}))}n().interceptors.request.use(l),g.prototype=Object.create(Error.prototype),g.prototype.constructor=g},57363:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var vue__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(66252),vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(62931),vue_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(22201),vue_toastification__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23002),_components_article_formatted_body_article_formatted_body_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(77025),_components_article_poll_article_poll_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58643),_components_article_tracking_pixels_article_tracking_pixels_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6341),_components_fallback_component_with_reload__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(59545),_composables_use_gallery_recover__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(14652),_sentry__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(59896),_store_pinia_articles_list__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(58748),_utils_enovironment_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35275),_utils_gallery_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(29587),_utils_gallery_slider_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(69904),_utils_routes_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(44383),_utils_scroll_to_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(67426),_xhr_article__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(72923);const _hoisted_1={key:2,class:"article-poll-container"},__WEBPACK_DEFAULT_EXPORT__=(0,vue__WEBPACK_IMPORTED_MODULE_12__.aZ)({__name:"article-body",props:{article:{},isMegapostScriptsLodaded:{type:Boolean}},setup(__props){const TMGallery=(0,_components_fallback_component_with_reload__WEBPACK_IMPORTED_MODULE_4__.Rd)((()=>__webpack_require__.e(5121).then(__webpack_require__.bind(__webpack_require__,66874)))),props=__props,route=(0,vue_router__WEBPACK_IMPORTED_MODULE_13__.yj)(),toast=(0,vue_toastification__WEBPACK_IMPORTED_MODULE_0__.pm)(),galleryImages=(0,vue__WEBPACK_IMPORTED_MODULE_14__.iH)([]),gallerySliders=(0,vue__WEBPACK_IMPORTED_MODULE_14__.iH)([]),isLoadingDecline=(0,vue__WEBPACK_IMPORTED_MODULE_14__.iH)(!1),isLoadingVote=(0,vue__WEBPACK_IMPORTED_MODULE_14__.iH)(!1),galleryRoot=(0,vue__WEBPACK_IMPORTED_MODULE_14__.iH)(null),{galleryRef,onImagesInitialized,handleClickOnBrokenGallery}=(0,_composables_use_gallery_recover__WEBPACK_IMPORTED_MODULE_15__.y)(),articleId=(0,vue__WEBPACK_IMPORTED_MODULE_12__.Fl)((()=>route.params.id)),editorVersion=(0,vue__WEBPACK_IMPORTED_MODULE_12__.Fl)((()=>parseInt(props.article.editorVersion,10))),isMegapostV1=(0,vue__WEBPACK_IMPORTED_MODULE_12__.Fl)((()=>"megaproject"===props.article.postType&&1===editorVersion.value));async function declineVote({pollId:e}){try{isLoadingDecline.value=!0,await sendVote({pollId:e})}catch(t){const e=t;toast.error(e.message)}finally{isLoadingDecline.value=!1}}async function sendVote({variantId:e,pollId:t}){try{isLoadingVote.value=!0;const i=await(0,_xhr_article__WEBPACK_IMPORTED_MODULE_11__.Uj)(t,{id:e});if(articleId.value){const e=articleId.value;(0,_store_pinia_articles_list__WEBPACK_IMPORTED_MODULE_6__.g)().setArticlePoll(e,i)}}catch(i){const e=i;toast.error(e.message)}finally{isLoadingVote.value=!1}}function evalMegapostScripts(){if(galleryRoot.value){const inlineScripts=Array.from(galleryRoot.value.querySelectorAll("script"));inlineScripts.forEach((script=>{try{eval(script.innerText)}catch(err){(0,_sentry__WEBPACK_IMPORTED_MODULE_5__.T)(err)}}))}}function goToAnchor(){const e=route.hash;if(e&&galleryRoot.value)try{const t=galleryRoot.value.querySelector(`a[name="${e.substr(1)}"]`)||galleryRoot.value.querySelector(e);t&&((0,_utils_scroll_to_js__WEBPACK_IMPORTED_MODULE_10__.kI)(t),(0,_utils_routes_js__WEBPACK_IMPORTED_MODULE_9__.Tg)())}catch{(0,_utils_routes_js__WEBPACK_IMPORTED_MODULE_9__.Tg)()}}return(0,vue__WEBPACK_IMPORTED_MODULE_12__.bv)((()=>{if(window.addEventListener("load",goToAnchor,{once:!0}),!isMegapostV1.value){if(galleryImages.value=(0,_utils_gallery_js__WEBPACK_IMPORTED_MODULE_8__.N)(galleryRoot.value),gallerySliders.value=(0,_utils_gallery_slider_js__WEBPACK_IMPORTED_MODULE_16__.s)(galleryRoot.value),!galleryRoot.value)return;const inlineScripts=Array.from(galleryRoot.value.querySelectorAll("script"));if(inlineScripts&&inlineScripts.length){const quizRegexp=/(function initQuiz[\d]+\(\){const t=document.getElementById)/g;inlineScripts.forEach((script=>{const scriptInner=script.innerText;null!==scriptInner.match(quizRegexp)&&eval(scriptInner)}))}}})),(0,vue__WEBPACK_IMPORTED_MODULE_12__.Ah)((()=>{window.removeEventListener("load",goToAnchor)})),(0,vue__WEBPACK_IMPORTED_MODULE_12__.YP)((()=>props.isMegapostScriptsLodaded),(e=>{e&&_utils_enovironment_js__WEBPACK_IMPORTED_MODULE_7__.Qg&&evalMegapostScripts()}),{immediate:!0}),(e,t)=>((0,vue__WEBPACK_IMPORTED_MODULE_12__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_12__.iD)("div",{ref_key:"galleryRoot",ref:galleryRoot,class:"article-body","data-gallery-root":""},[e.article.metadata&&e.article.metadata.customTrackerLinks?((0,vue__WEBPACK_IMPORTED_MODULE_12__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_12__.j4)(_components_article_tracking_pixels_article_tracking_pixels_vue__WEBPACK_IMPORTED_MODULE_3__.Z,{key:0,links:e.article.metadata.customTrackerLinks},null,8,["links"])):(0,vue__WEBPACK_IMPORTED_MODULE_12__.kq)("",!0),(0,vue__WEBPACK_IMPORTED_MODULE_12__.Wm)(_components_article_formatted_body_article_formatted_body_vue__WEBPACK_IMPORTED_MODULE_1__.Z,{id:"post-content-body","article-text":e.article.textHtml,"should-format":!isMegapostV1.value,version:editorVersion.value,onClick:(0,vue__WEBPACK_IMPORTED_MODULE_14__.SU)(handleClickOnBrokenGallery)},null,8,["article-text","should-format","version","onClick"]),galleryImages.value.length?((0,vue__WEBPACK_IMPORTED_MODULE_12__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_12__.j4)((0,vue__WEBPACK_IMPORTED_MODULE_14__.SU)(TMGallery),{key:1,ref_key:"galleryRef",ref:galleryRef,"images-list":galleryImages.value,onImagesInitialized:(0,vue__WEBPACK_IMPORTED_MODULE_14__.SU)(onImagesInitialized)},null,8,["images-list","onImagesInitialized"])):(0,vue__WEBPACK_IMPORTED_MODULE_12__.kq)("",!0),e.article.polls&&e.article.polls.length?((0,vue__WEBPACK_IMPORTED_MODULE_12__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_12__.iD)("div",_hoisted_1,[((0,vue__WEBPACK_IMPORTED_MODULE_12__.wg)(!0),(0,vue__WEBPACK_IMPORTED_MODULE_12__.iD)(vue__WEBPACK_IMPORTED_MODULE_12__.HY,null,(0,vue__WEBPACK_IMPORTED_MODULE_12__.Ko)(e.article.polls,(e=>((0,vue__WEBPACK_IMPORTED_MODULE_12__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_12__.j4)(_components_article_poll_article_poll_vue__WEBPACK_IMPORTED_MODULE_2__.Z,{key:e.id,"is-loading-decline":isLoadingDecline.value,"is-loading-vote":isLoadingVote.value,poll:e,variant:"bordered",onDeclineVote:declineVote,onSubmitVote:sendVote},null,8,["is-loading-decline","is-loading-vote","poll"])))),128))])):(0,vue__WEBPACK_IMPORTED_MODULE_12__.kq)("",!0)],512))}})},91935:(e,t,i)=>{"use strict";i.d(t,{T:()=>s});const s={"half-page":"600px",leaderboard:"200px","medium-rectangle":"250px",narrow:"100px","medium-narrow":"130px","menu-content":"100px","menu-navigation":"75px","above-header":"100%"}},38561:(e,t,i)=>{"use strict";i.d(t,{L:()=>o});var s=i(66252),n=i(62931),a=i(68970);function o(e){const t=(0,a.UJ)(),i=(0,s.Fl)((()=>t.getProfileInfo((0,n.Tn)(e).alias))),o=(0,s.Fl)((()=>{var t;return(0,n.Tn)(e).careerProfile||(null===(t=i.value)||void 0===t?void 0:t.careerProfile)})),r=(0,s.Fl)((()=>{var t;return(0,n.Tn)(e).authorContacts||(null===(t=i.value)||void 0===t?void 0:t.contacts)}));function l(){return"undefined"!==typeof r.value}return{careerProfileLinks:o,contacts:r,areContactsFetched:l}}},32851:(e,t,i)=>{"use strict";i.d(t,{H:()=>s});const s=[{id:"1",alias:"backend",title:"NAV_FLOW_BACKEND",hasMenuContent:!0,route:{name:"FLOW_PAGE",params:{flowName:"backend"}}},{id:"2",alias:"frontend",title:"NAV_FLOW_FRONTEND",hasMenuContent:!0,route:{name:"FLOW_PAGE",params:{flowName:"frontend"}}},{id:"4",title:"NAV_FLOW_ADMIN",alias:"admin",hasMenuContent:!0,route:{name:"FLOW_PAGE",params:{flowName:"admin"}}},{id:"5",title:"NAV_FLOW_DESIGN",alias:"design",hasMenuContent:!0,route:{name:"FLOW_PAGE",params:{flowName:"design"}}},{id:"6",title:"NAV_FLOW_MANAGEMENT",alias:"management",hasMenuContent:!0,route:{name:"FLOW_PAGE",params:{flowName:"management"}}},{id:"7",title:"NAV_FLOW_MARKETING",alias:"marketing",hasMenuContent:!0,route:{name:"FLOW_PAGE",params:{flowName:"marketing"}}},{id:"8",title:"NAV_FLOW_POPSCI",alias:"popsci",hasMenuContent:!0,route:{name:"FLOW_PAGE",params:{flowName:"popsci"}}},{id:"3",title:"NAV_FLOW_DEVELOP",alias:"develop",route:{name:"FLOW_PAGE",params:{flowName:"develop"}}}]},2016:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(80129),n=i.n(s),a=i(11269);function o(e,t,i){return t=r(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e){var t=l(e,"string");return"symbol"===typeof t?t:String(t)}function l(e,t){if("object"!==typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!==typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class c{constructor(e){o(this,"campaign",void 0),o(this,"content",void 0),o(this,"medium",void 0),o(this,"source",void 0),this.campaign=e.campaign,this.content=e.content,this.medium=e.medium,this.source=e.source}clone(){return new c(this)}setCampaign(e){return this.campaign=e,this}setContent(e){return this.content=e,this}setMedium(e){return this.medium=e,this}setSource(e){return this.source=e,this}toString(){return n().stringify({utm_campaign:this.campaign,utm_content:this.content,utm_medium:this.medium,utm_source:this.source},{arrayFormat:"indices"})}static isUtm(e){return(0,a.HD)(e.campaign)||(0,a.HD)(e.content)||(0,a.HD)(e.medium)||(0,a.HD)(e.source)}static toUtm(e){return{utm_campaign:e.campaign,utm_content:e.content,utm_medium:e.medium,utm_source:e.source}}static sourceToUtm(e){return{utm_source:e.source}}static parse(e){return new c(e)}}},89109:(e,t,i)=>{"use strict";i.d(t,{c:()=>d});var s=i(67476);function n(e,t,i){return`${e}?ch=${t}&rn=${i}`}function a(e){return new Promise((t=>{const i=new Image;i.onload=()=>t(!1),i.onerror=()=>{t(!0)},i.src=e}))}async function o(e,t){const[i,s]=await Promise.all([a(n(e,1,t)),a(n(e,2,t))]);return!i&&s}let r=null;async function l(){const e=parseInt((1e6*Math.random()).toString(),10),t="/img/px.gif";return r||(r=await o(t,e.toString())),r}function c(){return fetch("//yandex.ru/ads/system/context.js",{method:"HEAD",redirect:"manual"}).then((()=>!1)).catch((()=>!0))}const u={CAN_SEE_ACCEPTABLE_ADS:"aa",HAS_ADBLOCK:"yes",SEE_ADS:"no"},d=(0,s.Q_)("adblock",{state:()=>({hasAcceptableAdsFilter:!1,hasAdblock:!1}),getters:{adblockStatus(e){return e.hasAdblock?e.hasAcceptableAdsFilter?u.CAN_SEE_ACCEPTABLE_ADS:u.HAS_ADBLOCK:u.SEE_ADS}},actions:{async detectAcceptableAds(){const e=await l();this.hasAcceptableAdsFilter=e},async detectAdblock(){const e=await c();this.hasAdblock=e},async findOutAdblockStatus(){return Promise.all([this.detectAcceptableAds(),this.detectAdblock()])}}})},58748:(e,t,i)=>{"use strict";i.d(t,{g:()=>M});var s=i(72378),n=i.n(s),a=i(67476),o=i(89554),r=i(85725),l=i(21331),c=i(73313),u=i(61291),d=i(72923),m=i(79356),p=i(57733),_=i(32790),h=i(54381),g=i(23117),v=i(10107),T=i(11954),E=i(71197),S=i(28653),f=i(94769),A=i(92682),b=i(60347);const I="non-route-key:ARTICLES_LIST_TOP_PERIOD",y="OTHER_NEWS_LIST";function w(e,t){var i,s,n,a,o,r,l,c,d,m,p,_,h,g,v,T,E,S,f,A,b,y,w,P,C,k,L,N,O,R,M,U,D,B,H,F,V,$,W,G,x,q,Y,Z,j,K,z,Q,X,J,ee,te,ie,se,ne,ae,oe,re,le,ce,ue,de,me,pe,_e,he;switch(e.name){case"ARTICLES_LIST_TECHNOTEXT_ALL":case"ARTICLES_LIST_TECHNOTEXT_ALL_PAGES":case"ARTICLES_LIST_TECHNOTEXT_NOMINATION":case"ARTICLES_LIST_TECHNOTEXT_NOMINATION_PAGES":return{technotext:!0,nomination:(0,u.K)(null===(i=e.params)||void 0===i?void 0:i.nomination)||"all",year:(0,u.K)(null===(s=e.params)||void 0===s?void 0:s.year)};case"ARTICLES_LIST_ALL":case"ARTICLES_LIST_ALL_PAGES":return{sort:"rating",complexity:(0,u.K)(null===(n=e.params)||void 0===n?void 0:n.complexity)};case"ARTICLES_LIST_ALL_SCORE":case"ARTICLES_LIST_ALL_SCORE_PAGES":return{sort:"rating",score:(0,u.K)(null===(a=e.params)||void 0===a?void 0:a.score),complexity:(0,u.K)(null===(o=e.params)||void 0===o?void 0:o.complexity)};case"ARTICLES_LIST_BY_COMPANY":case"ARTICLES_LIST_BY_COMPANY_PAGES":return{company:(0,u.K)(null===(r=e.params)||void 0===r?void 0:r.name)};case"COMPANY_BRANDING_PREVIEW":case"COMPANY_BRANDING_PREVIEW_PAGES":return{company:(0,u.K)(null===(l=e.params)||void 0===l?void 0:l.name)};case"ARTICLES_LIST_TOP_BY_COMPANY":case"ARTICLES_LIST_TOP_BY_COMPANY_PAGES":return{company:(0,u.K)(null===(c=e.params)||void 0===c?void 0:c.name),sort:"rating"};case"ARTICLES_LIST_BY_FLOW_ALL":case"ARTICLES_LIST_BY_FLOW_ALL_PAGES":return{flow:(0,u.K)(null===(d=e.params)||void 0===d?void 0:d.flowName),complexity:(0,u.K)(null===(m=e.params)||void 0===m?void 0:m.complexity),sort:"all"};case"ARTICLES_LIST_BY_FLOW_ALL_SCORE":case"ARTICLES_LIST_BY_FLOW_ALL_SCORE_PAGES":return{flow:(0,u.K)(null===(p=e.params)||void 0===p?void 0:p.flowName),score:(0,u.K)(null===(_=e.params)||void 0===_?void 0:_.score),complexity:(0,u.K)(null===(h=e.params)||void 0===h?void 0:h.complexity),sort:"all"};case"ARTICLES_LIST_BY_FLOW_TOP_PERIOD":case"ARTICLES_LIST_BY_FLOW_TOP_PERIOD_PAGES":return{flow:(0,u.K)(null===(g=e.params)||void 0===g?void 0:g.flowName),period:(0,u.K)(null===(v=e.params)||void 0===v?void 0:v.period),complexity:(0,u.K)(null===(T=e.params)||void 0===T?void 0:T.complexity),sort:"all"};case"ARTICLES_LIST_BY_HUB_ALL":case"ARTICLES_LIST_BY_HUB_ALL_PAGES":return{hub:(0,u.K)(null===(E=e.params)||void 0===E?void 0:E.hubName),complexity:(0,u.K)(null===(S=e.params)||void 0===S?void 0:S.complexity),sort:"all"};case"ARTICLES_LIST_BY_HUB_ALL_SCORE":case"ARTICLES_LIST_BY_HUB_ALL_SCORE_PAGES":return{hub:(0,u.K)(null===(f=e.params)||void 0===f?void 0:f.hubName),score:(0,u.K)(null===(A=e.params)||void 0===A?void 0:A.score),complexity:(0,u.K)(null===(b=e.params)||void 0===b?void 0:b.complexity),sort:"all"};case"ARTICLES_LIST_BY_HUB_TOP_PERIOD":case"ARTICLES_LIST_BY_HUB_TOP_PERIOD_PAGES":return{hub:(0,u.K)(null===(y=e.params)||void 0===y?void 0:y.hubName),period:(0,u.K)(null===(w=e.params)||void 0===w?void 0:w.period),complexity:(0,u.K)(null===(P=e.params)||void 0===P?void 0:P.complexity),sort:"all"};case"NEWS_BY_HUB_ALL":case"NEWS_BY_HUB_ALL_PAGES":return{hub:(0,u.K)(null===(C=e.params)||void 0===C?void 0:C.hubName),news:!0};case"NEWS_BY_HUB_ALL_SCORE":case"NEWS_BY_HUB_ALL_SCORE_PAGES":return{hub:(0,u.K)(null===(k=e.params)||void 0===k?void 0:k.hubName),score:(0,u.K)(null===(L=e.params)||void 0===L?void 0:L.score),news:!0};case"NEWS_BY_HUB_TOP_PERIOD":case"NEWS_BY_HUB_TOP_PERIOD_PAGES":return{hub:(0,u.K)(null===(N=e.params)||void 0===N?void 0:N.hubName),period:(0,u.K)(null===(O=e.params)||void 0===O?void 0:O.period),news:!0};case"POSTS_BY_HUB_ALL":case"POSTS_BY_HUB_ALL_PAGES":return{hub:(0,u.K)(null===(R=e.params)||void 0===R?void 0:R.hubName),posts:!0,sort:"all"};case"POSTS_BY_HUB_ALL_SCORE":case"POSTS_BY_HUB_ALL_SCORE_PAGES":return{hub:(0,u.K)(null===(M=e.params)||void 0===M?void 0:M.hubName),score:(0,u.K)(null===(U=e.params)||void 0===U?void 0:U.score),posts:!0,sort:"all"};case"POSTS_BY_HUB_TOP_PERIOD":case"POSTS_BY_HUB_TOP_PERIOD_PAGES":return{hub:(0,u.K)(null===(D=e.params)||void 0===D?void 0:D.hubName),period:(0,u.K)(null===(B=e.params)||void 0===B?void 0:B.period),posts:!0,sort:"top"};case"POSTS_BY_COMPANY":case"POSTS_BY_COMPANY_PAGES":return{company:(0,u.K)(null===(H=e.params)||void 0===H?void 0:H.name),posts:!0,sort:"all"};case"POSTS_BY_COMPANY_TOP":case"POSTS_BY_COMPANY_TOP_PAGES":return{company:(0,u.K)(null===(F=e.params)||void 0===F?void 0:F.name),posts:!0,sort:"top"};case"POSTS_ALL":case"POSTS_ALL_PAGES":return{posts:!0,sort:"all"};case"POSTS_TOP_PERIOD":case"POSTS_TOP_PERIOD_PAGES":return{posts:!0,period:(0,u.K)(null===(V=e.params)||void 0===V?void 0:V.period),sort:"top"};case"POSTS_ALL_SCORE":case"POSTS_ALL_SCORE_PAGES":return{score:(0,u.K)(null===($=e.params)||void 0===$?void 0:$.score),posts:!0,sort:"all"};case"ARTICLES_LIST_BY_USER":case"ARTICLES_LIST_BY_USER_PAGES":case"ARTICLES_DRAFTS_LIST_BY_USER":case"ARTICLES_DRAFTS_LIST_BY_USER_PAGES":case"ARTICLES_PLANNED_LIST_BY_USER":case"ARTICLES_PLANNED_LIST_BY_USER_PAGES":return{user:(0,u.K)(null===(W=e.params)||void 0===W?void 0:W.login)};case"NEWS_LIST_BY_USER":case"NEWS_LIST_BY_USER_PAGES":return{user:(0,u.K)(null===(G=e.params)||void 0===G?void 0:G.login),news:!0};case"NEWS_DRAFTS_LIST_BY_USER":case"NEWS_DRAFTS_LIST_BY_USER_PAGES":return{user:(0,u.K)(null===(x=e.params)||void 0===x?void 0:x.login),draftType:"news"};case"NEWS_PLANNED_LIST_BY_USER":case"NEWS_PLANNED_LIST_BY_USER_PAGES":return{user:(0,u.K)(null===(q=e.params)||void 0===q?void 0:q.login),publicationsType:"news"};case"POSTS_LIST_BY_USER":case"POSTS_LIST_BY_USER_PAGES":return{user:(0,u.K)(null===(Y=e.params)||void 0===Y?void 0:Y.login),posts:!0};case"POSTS_DRAFTS_LIST_BY_USER":case"POSTS_DRAFTS_LIST_BY_USER_PAGES":return{user:(0,u.K)(null===(Z=e.params)||void 0===Z?void 0:Z.login),draftType:"threads"};case"POSTS_PLANNED_LIST_BY_USER":case"POSTS_PLANNED_LIST_BY_USER_PAGES":return{user:(0,u.K)(null===(j=e.params)||void 0===j?void 0:j.login),publicationsType:"threads"};case"ARTICLES_LIST_BOOKMARKED":case"ARTICLES_LIST_BOOKMARKED_PAGES":return{user:(0,u.K)(null===(K=e.params)||void 0===K?void 0:K.login),user_bookmarks:!0};case"POSTS_LIST_BOOKMARKED":case"POSTS_LIST_BOOKMARKED_PAGES":return{user:(0,u.K)(null===(z=e.params)||void 0===z?void 0:z.login),user_bookmarks_posts:!0};case"NEWS_LIST_BOOKMARKED":case"NEWS_LIST_BOOKMARKED_PAGES":return{user:(0,u.K)(null===(Q=e.params)||void 0===Q?void 0:Q.login),user_bookmarks_news:!0};case"MY_FEED":case"MY_FEED_PAGES":return{myFeed:!0,...t};case"MEGAPROJECTS":case"MEGAPROJECTS_PAGES":return{megaprojects:!0};case"ARTICLES_LIST_TOP_PERIOD":case"ARTICLES_LIST_TOP_PERIOD_PAGES":case I:return{period:(0,u.K)(null===(X=e.params)||void 0===X?void 0:X.period),complexity:(0,u.K)(null===(J=e.params)||void 0===J?void 0:J.complexity),sort:"date"};case"SEARCH_QUERY_RESULTS":case"SEARCH_QUERY_RESULTS_PAGES":return{query:null===(ee=e.query)||void 0===ee?void 0:ee.q,order:null===(te=e.query)||void 0===te?void 0:te.order};case"NEWS_LIST_ALL":case"NEWS_LIST_ALL_PAGES":return{news:!0};case"OTHER_NEWS_LIST":return{news:!0,excludedIds:null===(ie=e.params)||void 0===ie?void 0:ie.excludedIds};case"NEWS_LIST_ALL_SCORE":case"NEWS_LIST_ALL_SCORE_PAGES":return{news:!0,score:(0,u.K)(null===(se=e.params)||void 0===se?void 0:se.score)};case"NEWS_LIST_TOP":case"NEWS_LIST_TOP_PERIOD":case"NEWS_LIST_TOP_PERIOD_PAGES":return{news:!0,period:(0,u.K)(null===(ne=e.params)||void 0===ne?void 0:ne.period)};case"NEWS_LIST_BY_COMPANY":case"NEWS_LIST_BY_COMPANY_PAGES":return{companyNews:(0,u.K)(null===(ae=e.params)||void 0===ae?void 0:ae.name)};case"NEWS_LIST_BY_FLOW_ALL":case"NEWS_LIST_BY_FLOW_ALL_PAGES":return{flow:(0,u.K)(null===(oe=e.params)||void 0===oe?void 0:oe.flowName),flowNews:!0};case"NEWS_LIST_BY_FLOW_SCORE":case"NEWS_LIST_BY_FLOW_SCORE_PAGES":return{flow:(0,u.K)(null===(re=e.params)||void 0===re?void 0:re.flowName),flowNews:!0,score:(0,u.K)(null===(le=e.params)||void 0===le?void 0:le.score)};case"NEWS_LIST_BY_FLOW_TOP":case"NEWS_LIST_BY_FLOW_TOP_PERIOD":case"NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES":return{flow:(0,u.K)(null===(ce=e.params)||void 0===ce?void 0:ce.flowName),flowNews:!0,period:(0,u.K)(null===(ue=e.params)||void 0===ue?void 0:ue.period)};case"POSTS_BY_FLOW_ALL":case"POSTS_BY_FLOW_ALL_PAGES":return{flow:(0,u.K)(null===(de=e.params)||void 0===de?void 0:de.flowName),flowPosts:!0};case"POSTS_BY_FLOW_SCORE":case"POSTS_BY_FLOW_SCORE_PAGES":return{flow:(0,u.K)(null===(me=e.params)||void 0===me?void 0:me.flowName),flowPosts:!0,score:(0,u.K)(null===(pe=e.params)||void 0===pe?void 0:pe.score)};case"POSTS_BY_FLOW_TOP":case"POSTS_BY_FLOW_TOP_PERIOD":case"POSTS_BY_FLOW_TOP_PERIOD_PAGES":return{flow:(0,u.K)(null===(_e=e.params)||void 0===_e?void 0:_e.flowName),flowPosts:!0,period:(0,u.K)(null===(he=e.params)||void 0===he?void 0:he.period)};default:return{}}}function P({pageNum:e=1,perPage:t=20}={}){return{name:I,params:{period:"daily",pageNum:e.toString(),perPage:t.toString()},query:{}}}function C(e={}){return{name:y,params:{news:"true",...e},query:{}}}const k=P(),L=C();function N({hubs:e}){return(e||[]).filter((e=>"collective"===e.type)).map((e=>e.alias))}function O({tags:e}){return(e||[]).map((e=>e.titleHtml))}function R(e,t){return(0,c.o)(e)?t?p.GX:p.Z1:"postType"in e&&"news"===e.postType?t?m.W:m.Bb:t?d.uf:d.bE}const M=(0,a.Q_)("articlesList",{state:()=>({articlesList:{},articlesIds:{},isLoading:!1,pagesCount:{},route:{},reasonsList:null,postReasonsList:null,view:null,oldEditorForm:null,lastVisitedRoute:{},ssrCommentsArticleIds:[],viewedPosts:[],myFeedFilter:{complexity:"all",score:"all",types:["articles","posts","news"]},myFeedIsApplyFilters:!1,myFeedIsForce:!1}),getters:{isViewedPost(e){return t=>e.viewedPosts.includes(t)},getArticleById(e){return t=>e.articlesList[t]},getArticlesList(e){return t=>{const i=e.articlesIds[t];return(null===i||void 0===i?void 0:i.flatMap((t=>{const i=e.articlesList[t];return i?[i]:[]})))??[]}},getDailyArticles(){return this.getArticlesList((0,r.Z)(k))},getOtherNews(){return this.getArticlesList((0,r.Z)(L))},getArticleOptionsById(e){return t=>{var i,s;const n=e.articlesList[t],a=null===n||void 0===n?void 0:n.isCorporative,o=null===n||void 0===n?void 0:n.metadata,r=!(null===o||void 0===o||null===(i=o.scriptUrls)||void 0===i||!i.length||null===(s=o.stylesUrls)||void 0===s||!s.length),l=!(r||a);return{articleMeta:o,isCorporative:a,isMegapost:r,isAdsPermitted:l}}},getAllHubsTitles(e){return t=>{const{articlesList:i,articlesIds:s}=e,n=[],a=(0,r.Z)(t),o=s[a];return o?(o.forEach((e=>{const t=i[e];if(!t||"hubs"in t===!1)return;const s=N(t);n.push(...s)})),n):[]}},getAllTagsNames(e){return t=>{const{articlesList:i,articlesIds:s}=e,n=[],a=(0,r.Z)(t),o=s[a];return o?(o.forEach((e=>{const t=i[e];t&&"tags"in t!==!1&&n.push(...O(t))})),n):[]}},getArticleHubsTitles(e){return t=>{const i=e.articlesList[t]||{};return N(i)}},getArticleTagsTitles(e){return t=>{const i=e.articlesList[t]||{};return O(i)}},getPagesCount(e){return t=>e.pagesCount[t]},getDailyPagesCount(e){return e.pagesCount[(0,r.Z)(k)]},getOtherNewsPagesCount(e){return e.pagesCount[(0,r.Z)(L)]},getCompanyAlias(){return e=>{const t=this.getArticleById(e);if(!t||"hubs"in t===!1)return null;const{hubs:i}=t;if(!i)return null;const s=i.find((e=>"corporative"===e.type));return(null===s||void 0===s?void 0:s.alias.toLowerCase())||null}},isSubscribedToTracker(){return e=>{var t;const i=this.getArticleById(e);return!(!i||"relatedData"in i===!1)&&((null===i||void 0===i||null===(t=i.relatedData)||void 0===t?void 0:t.trackerSubscribed)??!1)}},isSubscribedToEmail(){return e=>{var t;const i=this.getArticleById(e);return!(!i||"relatedData"in i===!1)&&((null===i||void 0===i||null===(t=i.relatedData)||void 0===t?void 0:t.emailSubscribed)??!1)}},shouldSsrComments(e){return t=>e.ssrCommentsArticleIds.includes(t)},compactView(e){return"list"===e.view},getPublicationHasOldStats(){return e=>{var t;return(null===(t=this.getArticleById(e))||void 0===t?void 0:t.hasOldStats)??!1}},getArticleFlows(){return e=>{const t=this.getArticleById(e);return null===t||void 0===t?void 0:t.flows}}},actions:{setMyFeedIsForce(e){this.myFeedIsForce=e},setMyFeedFilter(e){this.myFeedFilter=e},setMyFeedIsApplyFilters(e){this.myFeedIsApplyFilters=e},setLastVisitedRoute(e){this.lastVisitedRoute=e},setPostView(e){this.viewedPosts.includes(e)||this.viewedPosts.push(e)},setArticle(e){this.articlesList={...this.articlesList,[e.id]:e}},async loadOldEditorForm(e){const{postForm:t}=await(0,_.EC)(e);return this.oldEditorForm=t,t},async updateOldEditorArticle(e,t){await(0,_.A7)(e,{...this.oldEditorForm,...t}),await M().loadArticle(e),this.oldEditorForm=null},setArticleCommentsStatus(e,t){const i=this.articlesList[e];i&&i.commentsEnabled&&(i.commentsEnabled.status=t)},setArticleRulesRemindStatus(e,t){const i=this.articlesList[e];i&&"rulesRemindEnabled"in i!==!1&&(i.rulesRemindEnabled=t)},setPublicationHasOldStats(e,t){const i=e.id,s=this.articlesList[i];e.hasOldStats=t,this.articlesList[i]={...s??e,hasOldStats:t}},incrementComments(e){const t=this.articlesList[e];t&&t.statistics&&(t.statistics.commentsCount+=1)},setArticleCommentsCount(e,t){const i=this.articlesList[e];i&&i.statistics&&(i.statistics.commentsCount=t)},resetCommentsUnreadCount(e){const t=this.articlesList[e];t&&"relatedData"in t!==!1&&t&&t.relatedData&&(t.relatedData.unreadCommentsCount=0)},clearArticles(e){delete this.articlesIds[e]},appendArticles({routeKey:e,articlesToSet:t,appendToTop:i=!1}){const{articlesList:s,articlesIds:a}=t,o=a[e]||[];this.articlesList=n()(this.articlesList,s);let r=[];const l=this.articlesIds[e];r=l?i?o.concat(l):l.concat(o):o,this.articlesIds={...this.articlesIds,[e]:r}},setArticles({articlesList:e,articlesIds:t}){this.articlesList=n()(this.articlesList,e),this.articlesIds={...this.articlesIds,...t}},setPagesCount(e){this.pagesCount={...this.pagesCount,...e}},setArticlePoll(e,t){var i,s;const n=this.articlesList[e];if(!n||"polls"in n===!1)return;const a=(null===(i=n.polls)||void 0===i?void 0:i.findIndex((e=>e.id===t.id)))??-1;-1!==a&&(null===n||void 0===n||null===(s=n.polls)||void 0===s||s.splice(a,1,t))},setBookmarked(e,t){const i=this.articlesList[e];if(!i||"relatedData"in i===!1)return;const{statistics:s}=i;s.favoritesCount=t?s.favoritesCount+1:s.favoritesCount-1,i.relatedData={...i.relatedData,bookmarked:t}},setBookmarkedMultiwidget(e,t,i){const s=this.articlesList[e];if(!Array.isArray(null===s||void 0===s?void 0:s.multiwidget))return;const n=s.multiwidget.map((e=>{if("post"!==e.type)return e;if(e.content.id!==t)return e;const{statistics:s}=e.content;return s.favoritesCount=i?s.favoritesCount+1:s.favoritesCount-1,{...e,content:{...e.content,relatedData:{...e.content.relatedData,bookmarked:i}}}}));this.articlesList[e]={...s,multiwidget:n}},setCanVote(e,t){const i=this.articlesList[e];i&&"relatedData"in i!==!1&&(i.relatedData.canVotePlus=t,i.relatedData.canVoteMinus=t)},setIsInBlacklist(e,t){Object.keys(this.articlesList).forEach((i=>{const s=this.articlesList[i];null!==s&&void 0!==s&&s.author&&s.author.alias===e&&(this.articlesList[i]={...s,isInBlacklist:!!t,author:{...s.author,isInBlacklist:t}})}))},setRouteCache(e){this.route.name=e.name,this.route.params=e.params,this.route.query=e.query},async loadArticlesList({route:e,force:t,append:i=!1,params:s={}}){var n,a;const o=(0,r.Z)(e,i),l=this.articlesIds[o],c=Boolean(e.query&&Object.keys(e.query).length),m=(0,f.R)().shouldRefresh;if(l&&!c&&!m&&!t){const e={pagesCount:this.pagesCount[o]??1,publicationRefs:this.articlesList,publicationIds:this.articlesIds[o]??[],myFeedFilter:this.myFeedFilter};return e}!i&&(c||m||t)&&this.clearArticles(o),this.isLoading=!0;const p=(0,u.K)(null===(n=e.params)||void 0===n?void 0:n.pageNum)||1,_=(0,u.K)(null===(a=e.params)||void 0===a?void 0:a.perPage)||20,h=(0,T.P)().langOptions,g={...w(e,s),...h,page:p,perPage:_},v=await(0,d.rM)(g),{pagesCount:E,publicationRefs:S,publicationIds:A}=v,b={[o]:A},I={[o]:E},y={articlesIds:b,articlesList:S};return i?this.appendArticles({routeKey:o,articlesToSet:y}):this.setArticles(y),this.setPagesCount(I),this.setRouteCache(e),this.isLoading=!1,v},loadOtherNews(e={pageNum:1}){const{pageNum:t,append:i,force:s,perPage:n,excludedIds:a}=e,o=C({pageNum:t,perPage:n,excludedIds:a});return this.loadArticlesList({route:o,append:i,force:s})},loadDailyArticles(e={pageNum:1}){const{pageNum:t,append:i,force:s,perPage:n}=e,a=P({pageNum:t,perPage:n});return this.loadArticlesList({route:a,append:i,force:s})},async loadMyFeed(e={pageNum:1}){const{pageNum:t,applyFilters:i,force:s=!1}=e,n=i?{...this.myFeedFilter}:{},a={name:"MY_FEED",params:{pageNum:(t||1).toString()},query:{}},o=await this.loadArticlesList({route:a,params:n,force:s}),{myFeedFilter:r}=o;return r&&this.setMyFeedFilter(r),this.setMyFeedIsApplyFilters(!1),this.setMyFeedIsForce(!1),o},async loadDrafts({route:e,force:t,append:i=!1}){var s,n;const a=(0,r.Z)(e),o=this.articlesIds[a],l=(null===e||void 0===e?void 0:e.query)&&Boolean(Object.keys(e.query).length),c=(0,f.R)().shouldRefresh;if(!e)return!0;if(o&&!l&&!c&&!t)return!0;!i&&(l||c||t)&&this.clearArticles(a),this.isLoading=!0;const m=(0,u.K)(null===(s=e.params)||void 0===s?void 0:s.pageNum)||1,p=(0,u.K)(null===(n=e.params)||void 0===n?void 0:n.perPage)||20,_=(0,T.P)().langOptions,h={draftType:"posts",...w(e),langOptions:_,page:m,perPage:p},g=await(0,d.Oe)(h),{publicationIds:v,pagesCount:E,publicationRefs:S}=g,A={[a]:v},b={[a]:E},I={articlesIds:A,articlesList:S};return i?this.appendArticles({routeKey:a,articlesToSet:I}):this.setArticles(I),this.setPagesCount(b),this.setRouteCache(e),this.isLoading=!1,g},async loadPlannedArticles(e){var t;const i=(0,r.Z)(e),s=(0,f.R)().shouldRefresh;if(!e)return;if(this.articlesIds[i]&&!s)return;this.isLoading=!0;const n=(0,u.K)(null===(t=e.params)||void 0===t?void 0:t.pageNum)||1,a=(0,T.P)().langOptions,o={publicationsType:"posts",...w(e),langOptions:a,page:n},l=await(0,d.ws)(o),{publicationIds:c,publicationRefs:m,pagesCount:p}=l,_={[i]:c},h={[i]:p},g={articlesIds:_,articlesList:m};this.setArticles(g),this.setPagesCount(h),this.setRouteCache(e),this.isLoading=!1},async loadArticle(e,t=!1){const i=t?p.xl:d.fq,s=(0,T.P)().langOptions,n=await i(e,s);this.setArticle(n)},async loadArticlePreview(e){const t=(0,T.P)().langOptions,i=await(0,d.vG)(e,t);this.setArticle({...i,id:e})},async toggleArticleBookmark(e,t){const i="relatedData"in e&&!e.relatedData.bookmarked,s=R(e,i);switch(await s(e.id),t){case"articlesList":this.setBookmarked(e.id,i);break;case"mostReadingList":(0,S.G)().setBookmarked(e.id,i);break;case"similarList":(0,A.F)().setBookmarked(e.id,i);break;case"companies":(0,v.l)().setBookmarked(e.id,i);break;case"userVotes":(0,b.l)().setBookmarked(e.id,i);break;default:break}},setRating(e){const{articleId:t,score:i,value:s,votesCount:n}=e,a=this.articlesList[t];a&&(a.relatedData.vote.value=s,a.statistics.score=i,a.statistics.votesCount=n)},async downvote(e,t){const{id:i}=e,s=(0,c.o)(e)?p.wl:d.UJ,n=await s(i,{reason:t}),{vote:a,canVote:o,score:r,votesCount:l,chargeSettings:u}=n;this.setRating({articleId:i,score:r,value:a.value,votesCount:l}),this.setCanVote(i,o),(0,E.q)().setChargeSettings(u)},async upvote(e){const{id:t}=e,i=(0,c.o)(e)?p.qu:d.Y9,s=await i(t),{vote:n,canVote:a,score:o,votesCount:r,chargeSettings:l}=s;this.setRating({articleId:t,score:o,value:n.value,votesCount:r}),this.setCanVote(t,a),(0,E.q)().setChargeSettings(l)},async loadReasonsList(e=!1){if(e){if(this.postReasonsList)return;const e=await(0,g.uN)();this.postReasonsList=e.data}else{if(this.reasonsList)return;const e=await(0,g.u9)();this.reasonsList=e.data}},setArticleView(e,t=o.f){const i=t();i.set("habr_article_view",e,{expires:(0,l.ot)(365)}),this.view=e},toggleArticleView(){const e="cards"===this.view?"list":"cards";this.setArticleView(e)},updateArticleRelatedData(e,t){const i=this.articlesList[e];i&&"relatedData"in i!==!1&&(i.relatedData={...i.relatedData,...t})},setSsrCommentsArticleIds(e){this.ssrCommentsArticleIds=e},removeSsrCommentsArticleId(e){const t=new Set(this.ssrCommentsArticleIds);t.delete(e),this.ssrCommentsArticleIds=Array.from(t)},async toggleSubscriptionStatus({articleId:e,tracker:t,email:i,isPost:s}){const n=s?p.B4:d.wZ,{emailSubscribed:a,trackerSubscribed:o}=await n({articleId:e,tracker:t,email:i});this.updateArticleRelatedData(e,{emailSubscribed:a,trackerSubscribed:o})},setPost(e,t,i){if(this.articlesList[e])this.setArticle(t);else{const s={articlesIds:{[i]:[e.toString()]},articlesList:{[e]:t}};this.appendArticles({routeKey:i,articlesToSet:s,appendToTop:!0})}},removePost(e,t){if(!this.articlesIds[t])return;const i=this.articlesIds[t].filter((t=>parseInt(t,10)!==e));this.articlesIds={...this.articlesIds,[t]:i},delete this.articlesList[e]},removePublicationFromAll(e){Object.entries(this.articlesIds).forEach((([t,i])=>{this.articlesIds[t]=i.filter((t=>parseInt(t,10)!==e))})),delete this.articlesList[e]},async checkPublicationHasOldStats(e){if(e&&void 0===this.getPublicationHasOldStats(e.id)){const t=await(0,h.Xg)(e.id),i=!(null!==t&&void 0!==t&&t.available);this.setPublicationHasOldStats(e,i)}}}})},41008:(e,t,i)=>{"use strict";i.d(t,{Q:()=>o});var s=i(67476),n=i(75538),a=i(79182);const o=(0,s.Q_)("banner",{state:()=>({isArticleStickyPanelVisible:!1,isArticleStickyPanelAtTheBottom:!1,isFixedBannerVisible:!1,bannerContainer:null,isHeaderBannerInView:!0,isSponsorBlockPresent:!1,isHeaderBannerVisible:!1}),actions:{setIsArticleStickyPanelVisible(e){this.isArticleStickyPanelVisible=e},setIsArticleStickyPanelAtTheBottom(e){this.isArticleStickyPanelAtTheBottom=e},setIsSponsorBlockPresent(e){this.isSponsorBlockPresent=e},closeFixedBanner(e){const t=(0,n.O)();t.push(e),(0,a.LS)("hiddenBannerList",JSON.stringify(t)),this.isFixedBannerVisible=!1},setInitialBannerVisibility(e){const t=(0,n.O)(),i=!t.includes(e);this.isFixedBannerVisible=i},setBannerContainer(e){this.bannerContainer=e},setIsBannerInView(e){this.isHeaderBannerInView=e},setIsBannerVisible(e){this.isHeaderBannerVisible=e}}})},43004:(e,t,i)=>{"use strict";i.d(t,{e:()=>h});var s=i(67476),n=i(51779),a=i(35275),o=i(42794),r=i(25934),l=i(66478);const c={i8:"2.268.2"};var u=i(11954),d=i(71197);function m(e,t,s,n){let o=`TMArticleComments::v${c.i8}:a${e}:k${t}:${s}`;return n?o+=`:HASH${n}`:a.v9&&"undefined"!==typeof i.h()&&(o+=`:HASH${i.h()}`),o}function p(e){switch(e.name){case"USER_COMMENTS_PUBLICATIONS":case"USER_COMMENTS_PUBLICATIONS_PAGES":return l.aP;case"COMMENTS_LIST_BOOKMARKED":case"COMMENTS_LIST_BOOKMARKED_PAGES":return l.Ts;default:return null}}function _(e){const t=e?r.F9:r.w1,i=e?r.Ps:r.Nj;return{addToFavorites:t,removeFromFavorites:i}}const h=(0,s.Q_)("comments",{state:()=>({articleComments:{},articlePinnedComments:{},searchCommentsResults:null,pagesCount:null,commentAccess:{},scrollParents:{}}),getters:{getCommentById(e){return(t,i)=>{var s;return null===(s=e.articleComments[t])||void 0===s?void 0:s.refs[i]}},getCommentsTreeByArticleId(e){return t=>{if(!e.articleComments[t])return[];const i=e=>{const s=this.getCommentById(t,e);let n;return null!==s&&void 0!==s&&s.children&&(n=s.children.map(i)),{...s,children:n??[]}};return e.articleComments[t].root.map(i)}},searchCommentsList(e){return e.searchCommentsResults&&Array.isArray(e.searchCommentsResults.root)?e.searchCommentsResults.root.flatMap((t=>{var i;return(null===(i=e.searchCommentsResults)||void 0===i?void 0:i.refs[t])??[]})):[]},getCommentsCacheKey(e){return(t,i)=>{const{cacheKey:s}=e.articleComments[t]||{};if(!s)return null;const n=(0,u.P)().langOptions;return m(t,s,n.hl,i)}},getPinnedCommentsById(e){return t=>e.articlePinnedComments[t]?e.articlePinnedComments[t].commentIds.flatMap((i=>{var s;return(null===(s=e.articlePinnedComments[t])||void 0===s?void 0:s.refs[i])??[]})):[]}},actions:{setCommentsRoot(e,t){const i=this.articleComments[e];i&&(this.articleComments={...this.articleComments,[e]:{...i,root:t}})},setComments({articleId:e,refs:t,root:i,cacheKey:s}){this.articleComments={...this.articleComments,[e]:{refs:t,root:i,cacheKey:s}}},setPinnedComments({articleId:e,refs:t,commentIds:i}){this.articlePinnedComments={...this.articlePinnedComments,[e]:{refs:t,commentIds:i}}},addComment(e,t){if(!t.id)return;const i=this.articleComments[e]||{refs:{},root:[]};if(i.refs={...i.refs,[t.id]:t},t.parentId&&"0"!==t.parentId){const e=i.refs[t.parentId];e&&(e.children=Array.from(new Set([...(null===e||void 0===e?void 0:e.children)||[],t.id])))}else i.root=Array.from(new Set([...i.root,t.id]));this.articleComments={...this.articleComments,[e]:i}},updateComment(e,t){var i,s;const a=(0,n.qv)(t);if(!a.id)return;const o={...a,children:null===(i=this.articleComments[e])||void 0===i||null===(s=i.refs[a.id])||void 0===s?void 0:s.children};o.id&&this.articleComments[e]&&(this.articleComments[e].refs={...this.articleComments[e].refs,[o.id]:o},this.articleComments={...this.articleComments},this.articlePinnedComments[e]&&this.articlePinnedComments[e].refs&&this.articlePinnedComments[e].refs[o.id]&&(this.articlePinnedComments[e].refs={...this.articlePinnedComments[e].refs,[o.id]:o}))},mergeComments(e,t){Object.keys(t).forEach((i=>{var s;const n=null===(s=this.articleComments[e])||void 0===s?void 0:s.refs[i];n&&this.articleComments[e]&&(this.articleComments[e].refs[i]={...n,...t[parseInt(i,10)]})})),this.articleComments={...this.articleComments}},setCommentRead(e,t){var i;const s=null===(i=this.articleComments[e])||void 0===i?void 0:i.refs[t],n=this.articlePinnedComments[e]&&this.articlePinnedComments[e].refs[t];s&&(s.isNew=!1,this.articleComments=(0,o._B)(this.articleComments),n&&(n.isNew=!1,this.articlePinnedComments={...this.articlePinnedComments}))},clearCommentsList(e){const{[e]:t,...i}=this.articleComments;this.articleComments=i},clearSearchResults(){this.searchCommentsResults=null,this.pagesCount=null},setCommentAccess(e){this.commentAccess={...this.commentAccess,...e}},setScrollParents(e){this.scrollParents={...this.scrollParents,[e.parentId??""]:e.id??""}},async suspendComment({params:e,isPost:t}){const{commentId:i,articleId:s}=e,n=t?r.ZG:r.fX;await n(s,i);const a=e=>{var t;const i=null===(t=this.articleComments[s])||void 0===t?void 0:t.refs[e];i&&(i.isSuspended=!0,i.children&&i.children.forEach(a))};a(i),this.articleComments={...this.articleComments}},async vote({articleId:e,commentId:t,direction:i,isPost:s}){var n;const a="up"===i?1:-1,o=s?r.oA:r.bj,l=await o({commentId:t,postId:e,data:{value:a}});(0,d.q)().decrementCommentsCharge();const c=null===(n=this.articleComments[e])||void 0===n?void 0:n.refs[t];return c?(c.score=l.score,c.votesCount=l.votesCount,c.vote={...c.vote,isCanVote:!1,value:a>0?"1":"-1"},this.articleComments={...this.articleComments},this.articlePinnedComments[e]&&this.articlePinnedComments[e].refs&&this.articlePinnedComments[e].refs[t]&&(this.articlePinnedComments[e].refs[t]=c),l):l},async setFavorite({articleId:e,commentId:t,isFavorite:i,isPost:s}){var n;const{addToFavorites:a,removeFromFavorites:o}=_(s);i?await a({publicationId:e,commentId:t}):await o({publicationId:e,commentId:t});const r=null===(n=this.articleComments[e])||void 0===n?void 0:n.refs[t];r&&(r.isFavorite=i,this.articleComments={...this.articleComments},this.articlePinnedComments[e]&&this.articlePinnedComments[e].refs&&this.articlePinnedComments[e].refs[t]&&(this.articlePinnedComments[e].refs[t].isFavorite=i))},async setSearchResultFavorite({publicationId:e,commentId:t,isFavorite:i,isPost:s}){var n;const{addToFavorites:a,removeFromFavorites:o}=_(s);i?await a({publicationId:e,commentId:t}):await o({publicationId:e,commentId:t});const r=null===(n=this.searchCommentsResults)||void 0===n?void 0:n.refs[t];r&&this.searchCommentsResults&&(r.isFavorite=i,this.searchCommentsResults={...this.searchCommentsResults})},deleteComment(e,t){const i=this.articleComments[e],s=null===i||void 0===i?void 0:i.refs[t];if(s){if(s.parentId&&"0"!==s.parentId){const e=i.refs[s.parentId];if(null!==e&&void 0!==e&&e.children){const i=e.children.slice(0);i.splice(e.children.indexOf(t),1),e.children=i}}else{const e=i.root.slice(0);e.splice(e.indexOf(t),1),i.root=e}this.articleComments={...this.articleComments}}},async loadUserComments(e){const t=e.params.pageNum||1,i=(0,u.P)().langOptions,s={...i,page:t},n=p(e);if(!n)return;const{pages:a,threads:o,comments:r}=await n(e.params.login,s);this.pagesCount=a,this.searchCommentsResults={refs:r,root:o}},async searchComments(e){const t=(0,u.P)().langOptions,i={...e.query,...t,page:e.params.pageNum||1},{pagesCount:s,commentIds:n,commentRefs:a}=await(0,r.ZQ)(i);this.pagesCount=s,this.searchCommentsResults={refs:a,root:n}},async pinComment({articleId:e,commentId:t,isPinned:i,isPost:s}){var n;const a=s?r.sQ:r.oP;await a({commentId:t,postId:e,data:{pinned:i}});const o=null===(n=this.articleComments[e])||void 0===n?void 0:n.refs[t];o&&(o.isPinned=i,this.articleComments={...this.articleComments})}}})},10107:(e,t,i)=>{"use strict";i.d(t,{l:()=>_});var s=i(67476);function n(e){return!!e&&"post"===e.type}var a=i(85725),o=i(42794),r=i(61291),l=i(96447),c=i(66478),u=i(11954),d=i(71197),m=i(94769);function p(e){return!!e&&void 0!==e.location}const _=(0,s.Q_)("companies",{state:()=>({companyRefs:(0,o.Nd)(),companyIds:{},companyTopIds:[],pagesCount:{},companyProfiles:(0,o.Nd)(),companiesCategories:[],companiesCategoriesTotalCount:0,companiesWidgets:(0,o.Nd)(),companiesWorkers:(0,o.Nd)(),companiesFans:(0,o.Nd)(),multiwidgets:(0,o.Nd)(),route:{},isLoading:!1,companyWorkersLoading:!1,companyFansLoading:!1,multiwidgetLoading:!1,vacancies:{},companiesGalleries:(0,o.Nd)(),companiesBanners:(0,o.Nd)(),companiesLandingVacancies:(0,o.Nd)(),companiesTechnologies:(0,o.Nd)(),workplaceInfo:null}),getters:{getCompanyInfo(e){return t=>e.companyRefs[t]||null},getCompanyGallery(e){return t=>e.companiesGalleries[t]||null},getCompanyBanner(e){return t=>e.companiesBanners[t]||null},getCompanyLandingVacancies(e){return t=>e.companiesLandingVacancies[t]||null},getCompanyTechnologies(e){return t=>e.companiesTechnologies[t]||null},getProfileInfo(e){return t=>e.companyProfiles[t]||null},companiesTopRating(e){const{companyTopIds:t}=e;return t&&t.length?t.map((t=>e.companyRefs[t])):[]},getCompanyVacancies(e){return t=>e.vacancies[t]},getCompanyMultiwidget(e){return t=>e.multiwidgets[t]}},actions:{clearCompanies(e){this.companyIds[e]&&(this.companyIds[e]=[])},setRouteCache(e){this.route.name=e.name,this.route.params=e.params,this.route.query=e.query},setPagesCount(e,t){this.pagesCount={...this.pagesCount,[e]:t}},setCompanyRefs(e){this.companyRefs={...this.companyRefs,...e}},setCompanyInfo(e,t){this.companyRefs={...this.companyRefs,[e]:{...this.companyRefs[e],...t,statistics:{...t.statistics,...this.companyRefs[e]?this.companyRefs[e].statistics:{}}}}},setCompanyIds(e,t){this.companyIds={...this.companyIds,[e]:t}},setBookmarked(e,t){const i=Object.values(this.multiwidgets);i.forEach((({blocks:i})=>{i.forEach((i=>{var s;if(n(i)&&(null===(s=i.content)||void 0===s?void 0:s.id)===e){const e=i.content,{relatedData:s,statistics:n}=e;n.favoritesCount=t?n.favoritesCount+1:n.favoritesCount-1,s&&(s.bookmarked=t)}}))}))},async loadCompanies(e,t=!1){var i;const s={title:"abc",rating:"rating"},n={...e.query,page:(0,r.K)(e.params.pageNum)||1,perPage:e.query.perPage||20,sector:(0,r.K)(e.params.categoryAlias)||void 0,order:s[e.query.sort]||"rating",orderDirection:e.query.order||"desc"},{q:o}=e.query,c=o?l.Fy:l.gu;let d={};e.params.flowName&&(d={flowAlias:e.params.flowName}),e.params.hubName&&(d={hubAlias:e.params.hubName});const m=(0,a.Z)(e),p=null===(i=this.companyIds)||void 0===i?void 0:i[m],_=Boolean(Object.keys(e.query).length),h=JSON.stringify(this.route.query)===JSON.stringify(e.query),g=Boolean(e.params.hubName||e.params.flowName);if(null!==p&&void 0!==p&&p.length&&h&&!o&&!g&&!t)return!0;(_&&!h||g)&&this.clearCompanies(m),this.isLoading=!0;const v=(0,u.P)().langOptions,{companyRefs:T,companyIds:E,pagesCount:S}=await c({...n,...d,...v});return this.setCompanyRefs(T),this.setCompanyIds(m,E),this.setPagesCount(m,o?1:S),this.setRouteCache(e),this.isLoading=!1,{companyRefs:T,companyIds:E,pagesCount:S}},async searchCompanies(e){const t={...e.query,page:e.params.pageNum||1},i=(0,a.Z)(e),s=JSON.stringify(this.route.query)===JSON.stringify(e.query),n=Boolean(Object.keys(e.query).length);n&&!s&&this.clearCompanies(i),this.isLoading=!0;const{companyRefs:o,companyIds:r,pagesCount:c}=await(0,l.Fy)(t);return this.setCompanyRefs(o),this.setCompanyIds(i,r),this.setPagesCount(i,c),this.setRouteCache(e),this.isLoading=!1,{companyRefs:o,companyIds:r,pagesCount:c}},async loadTopCompanies(){var e;if(null!==(e=this.companyTopIds)&&void 0!==e&&e.length)return this.companyTopIds;const t={page:1,perPage:10,sector:"",order:"rating",orderDirection:"desc"},i=(0,u.P)().langOptions,{companyRefs:s,companyIds:n}=await(0,l.gu)({...t,...i});return this.companyTopIds=n,this.setCompanyRefs(s),{companyRefs:s,companyIds:n}},async loadCompanyInfo(e){var t;const i=null===(t=this.companyRefs)||void 0===t?void 0:t[e],s=p(i),n=(0,m.R)().shouldRefresh;if(s&&!n)return;const a=(0,u.P)().langOptions,o=await(0,l.Yy)(e,a);this.setCompanyInfo(e,o)},async updateCompanyInfo(e){const t=(0,u.P)().langOptions,i=await(0,l.Yy)(e,t);this.setCompanyInfo(e,i)},async getEmployeeStatus(e){const t=(0,d.q)().userAlias??"";this.workplaceInfo={isUserEmployee:!1,employeeRequest:null};try{const i=(0,u.P)().langOptions,s=await(0,l.Py)(e,t,i);if(s.ok)this.workplaceInfo={isUserEmployee:!1,employeeRequest:null};else{const{employeeRequest:i}=await(0,c.FM)(t,e);i&&(this.workplaceInfo={isUserEmployee:!1,employeeRequest:i})}}catch{this.workplaceInfo=null}},updateWorkplaceInfo(e){this.workplaceInfo=e},async loadProfileInfo(e){var t;const i=null===(t=this.companyProfiles)||void 0===t?void 0:t[e],s=(0,m.R)().shouldRefresh;if(i&&!s)return i;const n=(0,u.P)().langOptions,a=await(0,l.Dz)(e,n);return this.companyProfiles={...this.companyProfiles,[e]:{...a}},a},async loadCompaniesCategories(){var e;if(null!==(e=this.companiesCategories)&&void 0!==e&&e.length)return this.companiesCategories;this.companiesCategories=[];const{countByCategories:t,totalCount:i}=await(0,l.Tr)();return this.companiesCategoriesTotalCount=i,this.companiesCategories=t,t},async toggleSubscribeStatus(e){var t,i;const{isSubscribed:s}=(null===(t=this.companyRefs)||void 0===t||null===(i=t[e])||void 0===i?void 0:i.relatedData)||{},n=!s,a=this.companyRefs[e];if(null!==a&&void 0!==a&&a.relatedData){a.relatedData.isSubscribed=n;try{await(0,l.US)(e)}catch(o){throw a.relatedData.isSubscribed=!!s,o}}},async loadCompanyWidgets(e){var t;if(null!==(t=this.companiesWidgets)&&void 0!==t&&t[e])return;const i=(0,u.P)().langOptions,{widgetRefs:s}=await(0,l.Cg)(e,i);this.companiesWidgets={...this.companiesWidgets,[e]:s}},async loadCompanyMultiwidget(e){var t,i;const s=(null===(t=(0,r.K)(e.params.name))||void 0===t?void 0:t.toLowerCase())||"";if(null===(i=this.multiwidgets)||void 0===i||!i[s]){this.multiwidgetLoading=!0;try{const e=(0,u.P)().langOptions,t=await(0,l.fh)(s,e);this.multiwidgets={...this.multiwidgets,[s]:t}}finally{this.multiwidgetLoading=!1}}},async loadCompanyWorkers(e){var t;const i=e.name===this.route.name,s=JSON.stringify(e.params)===JSON.stringify(this.route.params);if(i&&s)return;this.setRouteCache(e);const n=(null===(t=(0,r.K)(e.params.name))||void 0===t?void 0:t.toLowerCase())??"",a=e.params.pageNum||1,o="COMPANY_WORKERS_NEW"===e.name?"new":"all";this.companyWorkersLoading=!0;const c=await(0,l.$Y)(n,o,{page:a});this.companiesWorkers={...this.companiesWorkers,[n]:c},this.companyWorkersLoading=!1},async loadCompanyFans(e){var t;const i=e.name===this.route.name,s=JSON.stringify(e.params)===JSON.stringify(this.route.params);if(i&&s)return;this.setRouteCache(e);const n=(null===(t=(0,r.K)(e.params.name))||void 0===t?void 0:t.toLowerCase())??"",a=e.params.pageNum||1,o="COMPANY_FANS_NEW"===e.name?"new":"all";this.companyFansLoading=!0;const c=await(0,l.WY)(n,o,{page:a});this.companiesFans={...this.companiesFans,[n]:c},this.companyFansLoading=!1},async loadCompanyVacancies(e,t=1){const{vacancies:i,pagesCount:s}=await(0,l.sS)(e,{page:t});this.vacancies={...this.vacancies,[e]:{vacancies:i,totalPages:s}}},async loadCompanyGallery(e){const t=(0,u.P)().langOptions,{galleryHtml:i}=await(0,l.dq)(e,t);i&&(this.companiesGalleries={...this.companiesGalleries,[e]:i})},async loadCompanyBanner(e){const t=(0,u.P)().langOptions,i=await(0,l.oz)(e,t);this.companiesBanners={...this.companiesBanners,[e]:i}},async loadCompanyLandingVacancies(e){const t=(0,u.P)().langOptions,{status:i}=await(0,l.TY)(e,t);this.companiesLandingVacancies={...this.companiesLandingVacancies,[e]:i}},async loadCompanyTechnologies(e){const t=(0,u.P)().langOptions,{technologies:i}=await(0,l.Kv)(e,t);this.companiesTechnologies={...this.companiesTechnologies,[e]:i}}}})},85353:(e,t,i)=>{"use strict";i.d(t,{q:()=>p});var s=i(89274),n=i(67476),a=i(86409),o=i(10707);function r(){return(0,a.Hm)((0,o.k)("actual_events","v2"))}function l(e){return(0,a.Hm)((0,o.k)("events","v2"),e)}function c(e){return(0,a.Hm)((0,o.k)(`event/${e}`,"v2"))}function u(){return(0,a.Hm)((0,o.k)("events_categories","v2"))}function d(){return(0,a.Hm)((0,o.k)("events_cities","v2"))}function m(e,t){const i={...e};return t.category&&(i.category=t.category),"online"===t.city&&(i.online=!0),"all"!==t.city&&"online"!==t.city&&(i.city=t.city),t.timeEnded&&(i.timeFinished=(0,s.Z)(new Date(t.timeEnded),"yyyy-MM-dd")),i}const p=(0,n.Q_)("events",{state:()=>({eventRefs:{},eventIds:[],pagesCount:0,categories:[],cities:[],actualEvents:null,currentEvent:null,eventsFilter:{city:"all",timeStarted:null,timeEnded:null}}),getters:{events(e){return e.eventIds.map((t=>({...e.eventRefs[t]})))}},actions:{async loadCategories(){const e=await u();this.categories=e.categories??[]},async loadCities(){const e=await d();this.cities=e.cities??[]},async loadEvent(e){const t=await c(e);this.currentEvent=t},async loadActualEvents(){const e=await r();this.actualEvents=e.events},applyFilter(e){this.eventsFilter=e},async loadEvents(e){let t={page_num:(null===e||void 0===e?void 0:e.pageNum)||1,timeStarted:null!==e&&void 0!==e&&e.timeStarted?(0,s.Z)(new Date(e.timeStarted),"yyyy-MM-dd"):(0,s.Z)(new Date,"yyyy-MM-dd")};e&&(t=m(t,e),this.eventsFilter=e);const i=await l(t);this.eventRefs=i.eventRefs,this.eventIds=i.eventIds,this.pagesCount=i.pagesCount}}})},36060:(e,t,i)=>{"use strict";i.d(t,{E:()=>l,M:()=>c});var s=i(67476),n=i(70893);function a(e,{publications:t,time:i},s){return Object.entries(t).reduce(((t,[n,a])=>{if(!a.feed_load)return t;const o=[],r={uuid:s,params:{param1:n,param2:a.position,param3:e,param4:i},features:[]};return o.push({...r,alias:"feed_load"}),a.feed_visible_show&&o.push({...r,alias:"feed_visible_show"}),a.feed_post_click&&o.push({...r,alias:"feed_post_click"}),t.concat(o)}),[])}function o(e,t){const i=Object.entries(e).reduce(((e,[i,s])=>{if(!s.publications)return e;const n=a(i,s,t);return e.concat(n)}),[]);return{events:i}}function r(e,t){var i;const s=o(e,t);null!==s&&void 0!==s&&null!==(i=s.events)&&void 0!==i&&i.length&&(0,n.q)("/event/batch",o(e,t))}const l={loaded:"feed_load",viewed:"feed_visible_show",clicked:"feed_post_click"},c=(0,s.Q_)("feedStatistics",{state:()=>({feedsStatistics:{}}),actions:{setPublicationFeedState(e){const{feedId:t,publicationId:i,position:s,type:n}=e;this.feedsStatistics[t]??={},this.feedsStatistics[t].publications??={},this.feedsStatistics[t].publications[i]??={},this.feedsStatistics[t].publications[i]={...this.feedsStatistics[t].publications[i],[n]:!0,position:s}},setFeedVisibleTime({feedId:e,time:t}){var i;this.feedsStatistics[e]??={},null!==(i=this.feedsStatistics[e])&&void 0!==i&&i.time?this.feedsStatistics[e].time+=t:this.feedsStatistics[e].time=t},resetStatistics(){this.feedsStatistics={}},sendFeedStatistics(e){Object.values(this.feedsStatistics).length&&(r(this.feedsStatistics,e),this.resetStatistics())}}})},29612:(e,t,i)=>{"use strict";i.d(t,{g:()=>c});var s=i(67476),n=i(59896),a=i(86409),o=i(10707);function r(e){return(0,a.Hm)((0,o.k)("feed/counters","v2"),e)}var l=i(11954);const c=(0,s.Q_)("flows",{state:()=>({updates:{}}),actions:{async loadUpdates(){try{const e=(0,l.P)().langOptions,t=await r(e);return this.updates=t,t}catch(e){return(0,n.T)(e),null}}}})},84183:(e,t,i)=>{"use strict";i.d(t,{s:()=>a});var s=i(67476),n=i(35275);const a=(0,s.Q_)("global",{state:()=>({isPwa:!1,device:null,isHabrCom:!1,requestId:"",countryCode:""}),getters:{isMobileOnly(e){return"mobile"===e.device},isMobile(e){return"mobile"===e.device||"tablet"===e.device},isTablet(e){return"tablet"===e.device},isDesktop(e){return"desktop"===e.device},isMobilePwa(e){return e.isPwa&&("mobile"===e.device||"tablet"===e.device)}},actions:{initPwaMode(){this.isPwa=!0,!n.W6&&"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{var t;null===(t=e.active)||void 0===t||t.postMessage({runCache:!0})}))},setPwaMode(e=!0){this.isPwa=e},setDevice(e){this.device=e},setIsHabrCom(e){this.isHabrCom=e},setRequestId(e){this.requestId=e},setCountryCode(e){this.countryCode=e}}})},72073:(e,t,i)=>{"use strict";i.d(t,{X:()=>d});var s=i(67476),n=i(85725),a=i(42794),o=i(14823),r=i(175),l=i(11954),c=i(94769);function u(e){return void 0!==e.counters}const d=(0,s.Q_)("hubs",{state:()=>({hubRefs:(0,a.Nd)(),hubIds:{},pagesCount:{},isLoading:!1,counters:(0,a.Nd)(),route:{name:"",params:{},query:{}}}),getters:{getHubByAlias:e=>t=>e.hubRefs[t.toLowerCase()]||null,getHubCounters:e=>t=>e.counters[t.toLowerCase()]||null,getCurrentHubsList:e=>t=>{const i=e.hubIds[t];return i?i.flatMap((t=>e.hubRefs[t]??[])):[]}},actions:{setHubRefs(e){this.hubRefs={...this.hubRefs,...e}},setHubIds(e,t){this.hubIds[e]=t},clearHubs(e){this.hubIds[e]&&(this.hubIds[e]=[])},setLoading(e){this.isLoading=e},setRouteCache(e){this.route.name=e.name,this.route.params=e.params,this.route.query=e.query},setPagesCount(e,t){this.pagesCount[e]=t},setSubscriptionStatus(e,t){const i=this.hubRefs[e];i&&(i.relatedData??={isSubscribed:t},i.relatedData.isSubscribed=t)},async loadHubs(e,t=!1){const i=e.params.flowName,s=e.params.category,a={...e.query,page:e.params.pageNum||1,flowAlias:i,category:s},{q:l}=e.query;let c=r._C;e.params.flowName&&l?c=o.dX:l&&(c=r.PL);const d=(0,n.Z)(e),m=this.hubIds[d],p=Object.keys(e.query).length>0,_=JSON.stringify(this.route.query)===JSON.stringify(e.query);if(null!==m&&void 0!==m&&m.length&&_&&!l&&!t)return!0;p&&!_&&this.clearHubs(d),this.setLoading(!0);const h=await c(a),{hubRefs:g,hubIds:v,pagesCount:T}=h;return this.setHubRefs(g),this.setHubIds(d,v),this.setPagesCount(d,l?1:T),this.setRouteCache(e),this.setLoading(!1),u(h)&&i&&(this.counters[i.toLowerCase()]=h.counters),{hubRefs:g,hubIds:v,pagesCount:T}},async searchHubs(e){const t={...e.query,page:e.params.pageNum||1},i=(0,n.Z)(e),s=JSON.stringify(this.route.query)===JSON.stringify(e.query),a=Object.keys(e.query).length>0;a&&!s&&this.clearHubs(i),this.setLoading(!0);const{hubRefs:o,hubIds:l,pagesCount:c}=await(0,r.PL)(t);return this.setHubRefs(o),this.setHubIds(i,l),this.setPagesCount(i,c),this.setRouteCache(e),this.setLoading(!1),{hubRefs:o,hubIds:l,pagesCount:c}},async loadHub(e){const t=e.toLowerCase(),i=this.hubRefs[t],s=(0,c.R)().shouldRefresh;if(i&&!s)return i;const n=(0,l.P)().langOptions,a=await(0,r.dx)(e,n);return this.hubRefs[t]=a,a},async toggleSubscribeStatus(e){var t;const i=e.toLowerCase(),s=this.hubRefs[i];if(!s)return;const n=!(null!==(t=s.relatedData)&&void 0!==t&&t.isSubscribed);this.setSubscriptionStatus(i,n);try{await(0,r.PY)(e)}catch{this.setSubscriptionStatus(i,!n)}}}})},11954:(e,t,i)=>{"use strict";i.d(t,{P:()=>u});var s=i(21540),n=i.n(s),a=i(67476),o=i(75633);const r={en:"en_US",ru:"ru_RU"},l={ru:null,en:null};function c(e){return l[e]||(l[e]=new Intl.NumberFormat(e,{maximumFractionDigits:2})),l[e]}const u=(0,a.Q_)("i18n",{state:()=>({fl:"ru",hl:"ru"}),getters:{isEnglishContentEnabled:e=>{var t;return!(null===(t=e.fl)||void 0===t||!t.includes("en"))},isRussianContentEnabled:e=>{var t;return!(null===(t=e.fl)||void 0===t||!t.includes("ru"))},langOptions:e=>({fl:e.fl,hl:e.hl}),currentLocale:e=>e.hl?r[null===e||void 0===e?void 0:e.hl]:void 0},actions:{pageTitle(...e){return n()([...e.filter(Boolean),(0,o.w)(this.hl||"en","SITENAME")].join(" / "))},formatNumber(e){return c(this.hl).format(e)},msg(e,t={}){const i=(0,o.w)(this.hl,e,t);return"string"!==typeof i?"▇▅▄▅▅▄ ▇▄▅":i},setFl(e){this.fl=e},setHl(e){this.hl=e},setLangParams({fl:e,hl:t}){this.fl=e,this.hl=t}}})},71197:(e,t,i)=>{"use strict";i.d(t,{h:()=>m,q:()=>p});var s=i(67476),n=i(80031),a=i(59896),o=i(3223),r=i(86409),l=i(10707);function c(e){return(0,r.Hm)((0,l.k)("features","v2"),e)}var u=i(30124),d=i(66478);const m={new:"new",progress:"in_progress",finished:"complete"},p=(0,s.Q_)("me",{state:()=>({user:null,uuid:null,ppgDemanded:!1,karmaResetInfo:{canReincarnate:null,wasReincarnated:null,currentScore:null},notes:null,userUpdates:{feeds:{newPostsCount:null,newThreadsCount:null,newNewsCount:null,newCount:null},conversationUnreadCount:0,trackerUnreadCount:0},features:null}),getters:{isLoggedIn(e){return Boolean(e.user)},isSuperAdmin(e){return!!e.user&&-1!==e.user.groups.indexOf("super")},isCorrector(e){return!!e.user&&-1!==e.user.groups.indexOf("corrector")},isModerator(e){return!!e.user&&-1!==e.user.groups.indexOf("moderator")},isReadOnly(e){return!!e.user&&-1!==e.user.groups.indexOf("readonly")},isBlocked(e){var t;if(!e.user)return!1;if(null===(t=e.user)||void 0===t||!t.block||null===e.user.block.till)return!1;const i=e.user.block.till;return new Date(i).getTime()>Date.now()},isCommentsManual(e){return!!e.user&&-1!==e.user.groups.indexOf("comments_manual")},isReadOnlyOrReadAndComment(e){return!!e.user&&(-1!==e.user.groups.indexOf("readonly")||-1!==e.user.groups.indexOf("comments_manual")||-1!==e.user.groups.indexOf("comments"))},isReadOnlyOrCommentsManual(e){return!!e.user&&(this.isReadOnly||this.isCommentsManual)},isOnboardingNew(e){var t,i,s;return(null===(t=e.user)||void 0===t||null===(i=t.onboarding)||void 0===i||null===(s=i.registration)||void 0===s?void 0:s.status)===m.new},isOnboardingInProgress(e){var t,i,s;return(null===(t=e.user)||void 0===t||null===(i=t.onboarding)||void 0===i||null===(s=i.registration)||void 0===s?void 0:s.status)===m.progress},isOnboardingFinished(e){var t,i,s;return(null===(t=e.user)||void 0===t||null===(i=t.onboarding)||void 0===i||null===(s=i.registration)||void 0===s?void 0:s.status)===m.finished},onboardingReason(e){var t,i,s;return(null===(t=e.user)||void 0===t||null===(i=t.onboarding)||void 0===i||null===(s=i.registration)||void 0===s?void 0:s.reason)??null},userAlias(e){return e.user&&e.user.alias},userShowAdv(e){return!e.user||e.user&&!e.user.settings.miscSettings.hideAdv},userGaType(e){var t;return this.isLoggedIn?-1!==(null===(t=e.user)||void 0===t?void 0:t.groups.indexOf("comments_manual"))||-1!==e.user.groups.indexOf("comments")?"readcomment":-1!==e.user.groups.indexOf("readonly")?"readonly":"habrauser":"guest"},ppaBalance(e){return e.user?e.user.ppaBalance:null},lastKarmaResetDate:e=>e.karmaResetInfo.wasReincarnated,karmaResetScore:e=>e.karmaResetInfo.currentScore,canCancelKarmaReset:({karmaResetInfo:e})=>e.canReincarnate,notesList(e){return e.notes?e.notes.noteIds.map((t=>{var i;return null===(i=e.notes)||void 0===i?void 0:i.noteRefs[t]})):[]},notesPagesCount:e=>e.notes&&e.notes.pagesCount,rssKey(e){return e.user&&e.user.rssKey},companiesAdmin(e){return e.user&&e.user.companiesAdmin},hasJoinedBetaTesting(e){return!!e.user&&e.user.groups.includes("tester")},canSendComplaint(e){return e.user&&e.user.settings.permissionSettings.canAddComplaints||this.isSuperAdmin},notices(e){return e.user?e.user.notices:[]},canPostVoice(e){return!!e.user&&e.user.settings.permissionSettings.canCreateVoices},useMarkdownInComments(e){return!!e.user&&e.user.settings.miscSettings.useMarkdownInComments},useMarkdownInArticles(e){return!!e.user&&e.user.settings.miscSettings.useMarkdownInArticles},useMarkdownInPosts(e){return!!e.user&&e.user.settings.miscSettings.useMarkdownInPosts},blockReasonWithDate(e){var t;return null===(t=e.user)||void 0===t?void 0:t.block},notificationUnreadCounters(e){var t;return(null===(t=e.user)||void 0===t?void 0:t.notificationUnreadCounters)||null},totalUnreadNotifications(e){var t,i;return(null===(t=e.user)||void 0===t||null===(i=t.notificationUnreadCounters)||void 0===i?void 0:i.total)||0},karma(e){var t,i;return(null===(t=e.user)||void 0===t||null===(i=t.scoreStats)||void 0===i?void 0:i.score)||0},unreadConversations(e){var t;return(null===(t=e.userUpdates)||void 0===t?void 0:t.conversationUnreadCount)||0},hasNewPublicationsBySubscription(e){var t,i;return((null===(t=e.userUpdates)||void 0===t||null===(i=t.feeds)||void 0===i?void 0:i.newCount)||0)>0},isShowCorporateNotificationPopup(e){var t;return null===(t=e.user)||void 0===t?void 0:t.isShowCorporativeNotificationPopup}},actions:{async init(e=!1){if(this.isLoggedIn&&!e)return null;const t=await(0,u.jo)();return t?(this.user=t,t.ppg&&(this.ppgDemanded=!0),t):null},async loadKarmaResetInfo(){const e=await(0,u.t)();this.karmaResetInfo=e},async loadUpdates(){if(this.isLoggedIn)try{const e=await(0,u.sY)();this.setUserUpdates(e)}catch(e){(0,a.T)(e)}},async cancelKarmaReset(){await(0,u.J5)(),await this.loadKarmaResetInfo()},async resetKarma(){await(0,u.lW)(),await this.loadKarmaResetInfo()},async loadMyUserNotes(e){const t={page:e.params.pageNum||1},i=await(0,u.TR)(t);this.notes=i},async toggleBetaTestParticipation(){const{betaTester:e}=await(0,o.U1)();if(this.user){const t=new Set(this.user.groups);e?t.add("tester"):t.delete("tester"),this.user.groups=Array.from(t)}},setPPGDemanded(e){this.ppgDemanded=e},logout(){this.user=null},async issueInviteByUserAlias(e){await(0,d.HM)(e),this.user&&(this.user.availableInvitesCount-=1)},async updateUseMarkdown(e){const t=await(0,d.K9)(e);this.user&&(this.user.settings.miscSettings={...this.user.settings.miscSettings,...t})},async getUUID(){try{const e=await(0,u.Fs)();return this.uuid=e.uuid,e.uuid}catch(e){return(0,n.O)(e),null}},async getUUIDIfNeeded(){return this.uuid?this.uuid:this.getUUID()},async fetchFeatures(){try{const{features:e}=await c();return this.features=e,e}catch(e){return(0,n.O)(e),null}},async fetchFeaturesIfNeeded(){return this.features?this.features:this.fetchFeatures()},ensureUuidAndFeatures(){return Promise.all([this.getUUIDIfNeeded(),this.fetchFeaturesIfNeeded()])},setUser(e){this.user=e},setUserUpdates(e){this.user&&(this.userUpdates={...e},this.user.notificationUnreadCounters={...this.user.notificationUnreadCounters,total:e.trackerUnreadCount??0})},setChargeSettings(e){this.user&&(this.user.settings.chargeSettings=e)},decrementPostsCharge(){if(this.user){const e=this.user.settings.chargeSettings;this.user.settings.chargeSettings={...e,postVoteCount:e.postVoteCount-1}}},decrementCommentsCharge(){if(this.user){const e=this.user.settings.chargeSettings;this.user.settings.chargeSettings={...e,commentVoteCount:e.commentVoteCount-1}}},setAvailableInvitesCount(e){this.user&&(this.user.availableInvitesCount=e)},setUnreadCounters(e){this.user&&(this.user.notificationUnreadCounters=e)},setOnboardingStatus(e){this.user&&(this.user.onboarding.registration.status=e)},setOnboardingReason(e){this.user&&(this.user.onboarding.registration.reason=e)},setCorporateNotificationVisible(e){this.user&&(this.user.isShowCorporativeNotificationPopup=e)},setUUID(e){this.uuid=e}}})},28653:(e,t,i)=>{"use strict";i.d(t,{G:()=>o});var s=i(67476),n=i(72923),a=i(11954);const o=(0,s.Q_)("mostReadingList",{state:()=>({mostReadingListIds:[],mostReadingListRefs:null}),getters:{mostReadingList:e=>e.mostReadingListRefs?e.mostReadingListIds.flatMap((t=>{var i;return(null===(i=e.mostReadingListRefs)||void 0===i?void 0:i[t])??[]})):[]},actions:{async loadMostReadingList(){if(this.mostReadingList.length)return this.mostReadingList;const e=(0,a.P)().langOptions,t=await(0,n.TH)(e);return this.mostReadingListIds=t.articleIds,this.mostReadingListRefs=t.articleRefs,this.mostReadingList},setBookmarked(e,t){var i;const s=null===(i=this.mostReadingListRefs)||void 0===i?void 0:i[e];if(!s)return;const{relatedData:n,statistics:a}=s;a.favoritesCount+=t?1:-1,n&&(n.bookmarked=t)}}})},22605:(e,t,i)=>{"use strict";i.d(t,{jj:()=>c,kq:()=>u,w1:()=>d,xh:()=>l});var s=i(67476),n=i(42794),a=i(35741),o=i(66478),r=i(71197);const l={greetings:"greetings",specialization:"specialization",subscriptions:"subscriptions",possibilities:"possibilities"},c={greetings:"ONBOARDING_GREETINGS",specialization:"ONBOARDING_SPECIALIZATION",subscriptions:"ONBOARDING_SUBSCRIPTIONS",possibilities:"ONBOARDING_POSSIBILITIES"},u=Object.values(l),d=(0,s.Q_)("onboarding",{state:()=>({currentStep:null,stepsData:{},completedSteps:[],isStepCommitting:!1,isCommitDisabled:!0}),getters:{currentStepIndex(e){return e.currentStep?u.indexOf(e.currentStep):-1},nextStep(){return u[this.currentStepIndex+1]},prevStep(){return u[this.currentStepIndex-1]},getStepData(e){return t=>e.stepsData[t]}},actions:{setCurrentStep(e){this.currentStep=e},setStepData(e,t){this.stepsData={...this.stepsData,[e]:t}},setStepCommitting(e){this.isStepCommitting=e},setCommitDisabled(e){this.isCommitDisabled=e},setCompletedSteps(e){this.completedSteps=[...this.completedSteps,...e]},async commitCurrentStep(){var e,t;const{currentStep:i}=this;if(!i)return;const s=this.stepsData[i];if(!s)return;const c=(0,n._B)(s),u=(0,r.q)();try{switch(i){case l.greetings:await(0,a.RE)(c.reason),u.setOnboardingStatus(r.h.progress),u.setOnboardingReason(c.reason);break;case l.specialization:if(null!==(e=c.specialization)&&void 0!==e&&e.skills&&(c.specialization.skills=c.specialization.skills.map((e=>"string"===typeof e?e:e.alias))),null!==(t=c.specialization)&&void 0!==t&&t.salary){const{salary:e}=c.specialization;c.specialization.salary="number"===typeof e?e:parseInt(e,10)}await Promise.all([(0,o.d1)({fullname:c.fullname,description:c.description},"profile"),(0,o.d1)(c.specialization,"occupation")]);break;case l.subscriptions:c.digestFrequency=c.digestFrequency?"week":"none";break;case l.possibilities:break;default:return void console.error("Error while trying to commit onboarding step: wrong step alias")}this.setCompletedSteps([i])}catch(d){console.error(d)}},async finishOnboarding(){await(0,a.O4)(),(0,r.q)().setOnboardingStatus(r.h.finished)}}})},55500:(e,t,i)=>{"use strict";i.d(t,{X:()=>p});var s=i(64487),n=i(59022),a=i(67476),o=i(51779),r=i(61291),l=i(25934),c=i(87032),u=i(58748),d=i(43004),m=i(11954);const p=(0,a.Q_)("pageArticleComments",{state:()=>({lastViewedComment:0,postId:null,lastCommentTimestamp:"",moderated:[],moderatedIds:[],commentRoute:"",idempotenceKey:""}),getters:{getLastCommentTimestampNumber(){return Number(this.lastCommentTimestamp)}},actions:{saveInfoAboutComments(e,t){this.postId=e,this.lastViewedComment=t},setLastCommentTimestamp(e){e&&(this.lastCommentTimestamp=e)},setModeratedIds(e){this.moderatedIds=e},resetIdempotenceKey(){this.idempotenceKey=""},handleFetchedComments({articleId:e,comments:t,threads:i,pinnedCommentIds:s,lastCommentTimestamp:n,cacheKey:a}){const o=(0,d.e)();this.setLastCommentTimestamp(n),o.setComments({articleId:e,refs:t,root:i,cacheKey:a});const r=Object.fromEntries(s.flatMap((e=>void 0!==t[e]?[[e,t[e]]]:[])));this.setPinnedComments({articleId:e,pinnedCommentIds:s,comments:r})},setPinnedComments({articleId:e,pinnedCommentIds:t,comments:i}){(0,d.e)().setPinnedComments({articleId:e,commentIds:t,refs:i})},async sendComment(e,t){const i=(0,d.e)(),{articleId:s}=e,a=t?"threads":"posts",r=this.idempotenceKey||(0,n.x)();this.idempotenceKey=r;try{const t=await(0,l.Ir)(s,e,a,r),n=(0,o.qv)(t.data);return i.addComment(s,n),n.isReadonly&&(i.setCommentAccess({isCanComment:!1,cantCommentReasonKey:"MODERATE_POST_COMMENT_PENDING"}),this.setModeratedIds([n.id])),this.resetIdempotenceKey(),(0,u.g)().incrementComments(s),n.id}catch(m){const e=(0,c.is4xxError)(m);throw e&&"REQUEST_ALREADY_PROCESSED"!==(null===m||void 0===m?void 0:m.errorCode)&&this.resetIdempotenceKey(),m}},async getComments({articleId:e,nocount:t,isPost:i}){const s=(0,d.e)(),n=i?l.Mi:l.pu,a=(0,m.P)().langOptions,{lastCommentTimestamp:o,threads:r,comments:c,moderated:u,commentAccess:p,pinnedCommentIds:_,cacheKey:h}=await n(e,{hl:a.hl},t);this.handleFetchedComments({articleId:e,comments:c,threads:r,pinnedCommentIds:_,lastCommentTimestamp:o,cacheKey:h}),Object.values(u).forEach((t=>{s.addComment(e,t)})),s.setCommentAccess(p),this.setModeratedIds(Object.keys(u))},async getGuestComments(e,t){const i=t?l.xF:l.ID,s=(0,m.P)().langOptions,n=await i(e,s);this.handleFetchedComments({...n,articleId:e,comments:n.commentRefs})},async getGuestCachedComments({articleId:e,apiCacheKey:t,isPost:i}){const s=i?l.FL:l.j4,n=(0,m.P)().langOptions,a=await s(e,{...n,cacheKey:t});this.handleFetchedComments({articleId:e,...a,comments:a.commentRefs})},async loadNewComments(e,t){const i=(0,d.e)(),s=(0,u.g)(),n=(0,r.K)(e.params.id);if(!n)return;const a=t?l.Vy:l.M1,{added:o,moderated:c,lastCommentTimestamp:m}=await a(n,{timestamp:this.getLastCommentTimestampNumber});this.setLastCommentTimestamp(m),this.clearModeratedComments(n),this.setModeratedIds(Object.keys(c));const p={...o,...c};Object.values(p).forEach((e=>{i.addComment(n,e)}));const{refs:_}=i.articleComments[n]||{};if(_){const e=Object.keys(_).filter((e=>{var t;return!(null!==(t=_[e])&&void 0!==t&&t.isReadonly)})).length;s.setArticleCommentsCount(n,e)}},clearModeratedComments(e){const t=new Set(this.moderatedIds);t.forEach((t=>{(0,d.e)().deleteComment(e,t)})),this.setModeratedIds([])},async getPinnedComments(e,t){const i=t?l.EG:l.BL,{commentRefs:s,commentIds:n}=await i(e);this.setPinnedComments({articleId:e,pinnedCommentIds:n,comments:s})},async readPublicationComments(e,t){const i=(0,u.g)(),n=t?l.eT:l.nN;i.resetCommentsUnreadCount(e);try{await n(e)}catch(a){(0,s.Tb)(a)}},async moderateComment({postId:e,commentId:t,isApprove:i,isPost:s}){const n=s?l.qb:l.TH,{moderatedCommentId:a,data:o}=await n(e,t,i),r=new Set(this.moderatedIds);r.delete(t),this.setModeratedIds(Array.from(r));const c=(0,d.e)();c.deleteComment(e,t),a&&null!==o&&void 0!==o&&o.comment&&c.addComment(e,o.comment)}}})},84379:(e,t,i)=>{"use strict";i.d(t,{W:()=>d});var s=i(67476),n=i(75538),a=i(51084),o=i(79182),r=i(25874),l=i(11954);const c=99;function u({fl:e,hl:t}){const i=null===e||void 0===e?void 0:e.split(",");return{promoPosts:{type:"promopost",filter:{langs:i},count:3,view:{lang:t}},featurer:{type:"featurer",view:{lang:t}},promoLinks:{type:"promolink",filter:{langs:i},count:1,view:{lang:t}},megaposts:{type:"megapost",filter:{langs:i},count:1}}}const d=(0,s.Q_)("promoData",{state:()=>({isLoading:!1,hasLoaded:!1,featurer:null,megaposts:null,promoLinks:null,promoPosts:null,sticker:null,stories:null,activities:[],partnerActivities:[],isPromoDataAvailable:{featurer:!1,promoPosts:!1,promoLinks:!1,megaposts:!1}}),getters:{feature:e=>{var t;return null!==(t=e.featurer)&&void 0!==t&&t.length?e.featurer[0]:null},promoBlockPosts:e=>{var t;return null!==(t=e.promoPosts)&&void 0!==t&&t.length?e.promoPosts:null},mostReadingPromoLink:e=>{var t;return null!==(t=e.promoLinks)&&void 0!==t&&t.length?e.promoLinks[0]:null},dailyTopPromoLink(e){const t=(null===e||void 0===e?void 0:e.promoLinks)||[];return t[1]??t[0]??null},stickyBanner:e=>{var t;return null!==(t=e.sticker)&&void 0!==t&&t.length?e.sticker[0]:null}},actions:{setLoadingFlag(e){this.isLoading=e,e||(this.hasLoaded=!0)},savePromoData(e){Object.keys(e).forEach((t=>{const i=t;"stories"===i?this.stories=e.stories.adverts.toReversed():this[i]=e[i].adverts}))},setPromoDataAvailabilities(e){this.isPromoDataAvailable=e.reduce(((e,{id:t,result:i})=>(e[t]=(null===i||void 0===i?void 0:i.available)??!1,e)),{})},async loadPromoData(e){const t=(0,n.$)(e),i=(0,a.j4)(),s=(0,n.O)(),d=(0,o.rV)("effect_visitor_id"),m={version:"1.0",visitor:d||"",queries:{sticker:{type:"sticker",filter:{except:s,except_link:i,...t.length?{targets:{hubs:t}}:{}}},activities:{type:"activity",count:2},partnerActivities:{type:"partnerity",count:2},stories:{type:"story",count:c}}},p=(0,l.P)().langOptions,_=u(p);Object.entries(this.isPromoDataAvailable).forEach((([e,t])=>{const i=e;t&&(m.queries[i]=_[i])})),this.setLoadingFlag(!0);try{const e=await(0,r.H)(m);null!==e&&void 0!==e&&e.visitor&&(0,o.LS)("effect_visitor_id",e.visitor),null!==e&&void 0!==e&&e.results&&this.savePromoData(e.results)}catch(h){console.error("Promo data load failed",h)}finally{this.setLoadingFlag(!1)}}}})},48247:(e,t,i)=>{"use strict";i.d(t,{rx:()=>d,q3:()=>u,b8:()=>m});var s=i(67476);function n(e){const t={get(t,i,s){return"set"===i?(i,s)=>{if(t.set(i,s),t.size>e){const e=t.keys().next().value;t.delete(e)}}:"get"===i?Reflect.get(t,i,s).bind(t):t[i]}};return new Proxy(new Map,t)}function a({publicationIds:e,publicationRefs:t}){return e.map((e=>t[e]))}var o=i(54381),r=i(43995);function l(e){return JSON.stringify(e)}const c=e=>e.length<3,u={timeInViewport:"timeInViewport",commentsTimeInViewPort:"commentsTimeInViewPort"},d={excellent:"excellent",good:"good",normal:"normal",soSo:"so_so"},m=(0,s.Q_)("publicationStats",{state:()=>({statsInfo:{},statsFunnels:{},statsGraph:{},defaultSuggest:{},suggest:{},timeTracker:{},isUserActive:!0,otherPublicationStats:{}}),getters:{getStatsInfoById(e){return t=>e.statsInfo[t]},getStatsFunnelsByFilter(e){return t=>e.statsFunnels[l(t)]},getStatsGraphByFilter(e){return t=>e.statsGraph[l(t)]},getOtherStatsByFilter(e){return t=>e.otherPublicationStats[l(t)]},getPublicationDefaultSuggestById(e){return t=>e.defaultSuggest[t]},getPublicationSuggestBySearch(e){return(t,i)=>{var s,n;return c(i)?e.defaultSuggest[t]:null===(s=e.suggest[t])||void 0===s||null===(n=s.get)||void 0===n?void 0:n.call(s,"search")}},getPublicationTrackedTimeById(e){return t=>e.timeTracker[t]}},actions:{async getPublicationStatsInfo(e){if(this.statsInfo[e])return;const t=await(0,o.wu)(e);this.statsInfo[e]=t.statistics},async getPublicationStatsFunnels(e){const t=this.getStatsFunnelsByFilter(e);if(t)return;const i="feeds"===(null===e||void 0===e?void 0:e.funnelType)?await(0,o.Me)(e.publicationId,{period:e.period,comparisonPublicationId:e.comparisonPublicationId||void 0}):await(0,o.jM)(e.publicationId,{...e});this.statsFunnels[l(e)]=i.statistics},async getPublicationStatsGraph(e){const t=l(e);if(this.statsGraph[t])return;const{publicationId:i,period:s,type:n}=e,a=await(0,o._W)(i,{period:s,type:n});this.statsGraph[t]=a.data},async loadPublicationOtherStats(e){const t=this.getOtherStatsByFilter(e);if(t)return;const i={...e};"titleHtml"===i.sortBy&&(i.sortBy=null,i.sortDir=null);const{publicationIds:s,publicationRefs:n,pagesCount:a}=await(0,o.XB)(e.publicationId,i),r=s.map((e=>n[e]));this.otherPublicationStats[l(e)]={stats:r,pagesCount:a}},async loadDefaultSuggest({publicationId:e,search:t}){const i=this.defaultSuggest[e];if(i&&i.length)return;const s=await(0,o.n_)(e,{search:t});this.defaultSuggest[e]=a(s)},async loadPublicationSuggest(e,t){if(c(t))return void await this.loadDefaultSuggest({publicationId:e,search:t});let i=this.suggest[e];if(i||(i=n(10)),i.get(t))return;const s=await(0,o.n_)(e,{search:t});i.set(t,a(s)),this.suggest[e]=i},sendPublicationTrackingTime(e,t){const i=this.timeTracker[e];i&&(0,r.Bx)({[u.timeInViewport]:i[u.timeInViewport]||0,[u.commentsTimeInViewPort]:i[u.commentsTimeInViewPort]||0,publicationId:e,uuid:t})},addTrackingTime({publicationId:e,time:t,type:i}){if(!Object.values(u).includes(i))throw new Error("Wrong type to track");this.timeTracker[e]||(this.timeTracker[e]={});const s=this.timeTracker[e];void 0===s[i]&&(s[i]=0),s[i]+=t},setTrackingTime({publicationId:e,time:t,type:i}){if(!Object.values(u).includes(i))throw new Error("Wrong type to set");const s=this.timeTracker[e];s&&(s[i]=t)},setIsUserActive(e){this.isUserActive=e},resetPublicationTrackedTime(e){const t=this.timeTracker[e];t&&(t[u.timeInViewport]=0)},resetCommentsTrackedTime(e){const t=this.timeTracker[e];t&&(t[u.commentsTimeInViewPort]=0)}}})},94769:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});var s=i(67476);const n=(0,s.Q_)("pullRefresh",{state:()=>({shouldRefresh:!1}),actions:{toggleRefresh(e){this.shouldRefresh=e}}})},92682:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});var s=i(67476),n=i(72923),a=i(11954),o=i(71197);const r=(0,s.Q_)("similarList",{state:()=>({similarListIds:[],similarListRefs:null}),getters:{similarList:e=>e.similarListRefs?e.similarListIds.map((t=>{var i;return null===(i=e.similarListRefs)||void 0===i?void 0:i[t]})):[]},actions:{async loadSimilarList(e,t){const i=(0,o.q)();let s=i.features;s||(s=await i.fetchFeatures());const r=(0,a.P)().langOptions,l=await(0,n.lA)(e,{...r,count:t,hf:s??[]});return this.similarListIds=l.articleIds,this.similarListRefs=l.articleRefs,l},setBookmarked(e,t){var i;const s=null===(i=this.similarListRefs)||void 0===i?void 0:i[e];if(!s)return;const{relatedData:n,statistics:a}=s;a.favoritesCount+=t?1:-1,n&&(n.bookmarked=t)}}})},62524:(e,t,i)=>{"use strict";i.d(t,{E:()=>n});var s=i(67476);const n=(0,s.Q_)("ssr",{state:()=>({error:null,isDataLoaded:!1,isDataLoading:!1}),actions:{markDataLoaded(){this.isDataLoaded=!0,this.isDataLoading=!1},markDataLoading(){this.isDataLoading=!0},setSsrError(e){this.isDataLoaded=!0,this.isDataLoading=!1,this.error=e},showError(e){return this.error=e,Promise.reject(e)},reset(){this.isDataLoaded=!1,this.error=null},setError(e){this.error=e}}})},89355:(e,t,i)=>{"use strict";i.d(t,{F:()=>a});var s=i(67476),n=i(30124);const a=(0,s.Q_)("userInvites",{state:()=>({availableInvites:0,usedInvitesIds:[],usedInvitesRefs:{},usedInvitesPagesCount:0,unusedInvitesIds:[],unusedInvitesRefs:{},unusedInvitesPagesCount:0}),getters:{usedInvites:e=>e.usedInvitesIds.map((t=>e.usedInvitesRefs[t])),unusedInvites:e=>e.unusedInvitesIds.map((t=>e.unusedInvitesRefs[t]))},actions:{setUsedInvites(e){this.usedInvitesIds=e.userIds,this.usedInvitesRefs={...this.usedInvitesRefs,...e.userRefs},this.usedInvitesPagesCount=e.pagesCount},setUnusedInvites(e){this.unusedInvitesIds=e.inviteIds,this.unusedInvitesRefs={...this.unusedInvitesRefs,...e.inviteRefs},this.unusedInvitesPagesCount=e.pagesCount},clearState(){this.$reset()},async loadInvitesList(){const[e,t,i]=await Promise.all([(0,n.sE)(),(0,n.KW)(),(0,n.iX)()]);return this.availableInvites=e.availableInvitesCount??0,this.setUsedInvites(t),this.setUnusedInvites(i),{usedInvites:t,unusedInvites:i}},async loadMoreUsedInvites(e){const t=await(0,n.KW)(e),i=[...this.usedInvitesIds,...t.userIds];this.setUsedInvites({...t,userIds:i})},async loadMoreUnusedInvites(e){const t=await(0,n.iX)(e),i=[...this.unusedInvitesIds,...t.inviteIds];this.setUnusedInvites({...t,inviteIds:i})},async putInvite(e){const{inviteCount:t}=await(0,n.HM)(e);this.availableInvites=t},async revokeInvite(e,t){const{inviteCount:i}=await(0,n.jA)(e);this.availableInvites=i,this.unusedInvitesIds.splice(t,1)}}})},60347:(e,t,i)=>{"use strict";i.d(t,{l:()=>r});var s=i(67476),n=i(25934),a=i(66478);function o(e){return{addToFavorites:e?n.F9:n.w1,removeFromFavorites:e?n.Ps:n.Nj}}const r=(0,s.Q_)("userVotes",{state:()=>({karmaVotesList:[],karmaVotesPagesCount:null,karmaVotesListLoading:!1,commentsVotesList:[],commentsVotesPagesCount:null,commentsVotesListLoading:!1,postsVotesList:[],postsVotesPagesCount:null,postsVotesListLoading:!1,userVotesList:[],userVotesPagesCount:null,userVotesListLoading:!1}),actions:{async loadKarmaVotes(e,t){this.karmaVotesListLoading=!0;try{const i=await(0,a.GL)(e,t);this.karmaVotesList=i.votes,this.karmaVotesPagesCount=i.pagesCount}finally{this.karmaVotesListLoading=!1}},async loadCommentsVotes(e,t){this.commentsVotesListLoading=!0;try{const i=await(0,a.yG)(e,t);this.commentsVotesList=i.commentIds.flatMap((e=>{const t=i.commentRefs[e];return void 0!==t?[t]:[]})),this.commentsVotesPagesCount=i.pagesCount}finally{this.commentsVotesListLoading=!1}},async setVotedCommentFavorite({publicationId:e,commentId:t,isFavorite:i,isPost:s}){const{addToFavorites:n,removeFromFavorites:a}=o(s),r=i?n:a;await r({publicationId:e,commentId:t});const l=this.commentsVotesList.find((({id:e})=>e===t));l&&(l.isFavorite=i)},async loadPostsVotes(e,t){this.postsVotesListLoading=!0;try{const i=await(0,a.Hm)(e,t);this.postsVotesList=i.articleIds.flatMap((e=>{const t=i.articleRefs[e];return void 0!==t?[t]:[]})),this.postsVotesPagesCount=i.pagesCount}finally{this.postsVotesListLoading=!1}},async loadUserVotes(e,t){this.userVotesListLoading=!0;try{const i=await(0,a.Yv)(e,t);this.userVotesList=i.votes,this.userVotesPagesCount=i.pagesCount}finally{this.userVotesListLoading=!1}},setBookmarked(e,t){const i=this.postsVotesList.find((({id:t})=>t===e));if(!i)return;const{relatedData:s,statistics:n}=i;n&&(n.favoritesCount+=t?1:-1),s&&(s.bookmarked=t)}}})},68970:(e,t,i)=>{"use strict";i.d(t,{UJ:()=>p});var s=i(67476),n=i(85725),a=i(42794),o=i(14823),r=i(175),l=i(66478),c=i(10963),u=i(11954),d=i(71197),m=i(94769);const p=(0,s.Q_)("users",{state:()=>({authorRefs:(0,a.Nd)(),authorIds:{},pagesCount:{},authorProfiles:(0,a.Nd)(),userHubs:(0,a.Nd)(),userInvitations:(0,a.Nd)(),authorFollowers:(0,a.Nd)(),authorFollowed:(0,a.Nd)(),userSpecialization:(0,a.Nd)(),karmaStats:[],statistics:null,isLoading:!1,authorFollowersLoading:!1,authorFollowedLoading:!1,userHubsLoading:!1,userInvitationsLoading:!1,route:{}}),getters:{getUserByAlias(e){return t=>e.authorRefs[t.toLowerCase()]||null},getProfileInfo(e){return t=>e.authorProfiles[t.toLowerCase()]||null},getUserInvitations(e){return t=>e.userInvitations[t.toLowerCase()]||null},getUserHubs(e){return t=>e.userHubs[t.toLowerCase()]||null},getUserSpecialization(e){return t=>e.userSpecialization[t.toLowerCase()]||null}},actions:{setAuthorRefs(e){this.authorRefs={...this.authorRefs,...e}},setAuthorIds(e,t){this.authorIds={...this.authorIds,[e]:t}},setUserInfo(e,t){const i=e.toLowerCase();this.authorRefs={...this.authorRefs,[i]:{...this.authorRefs[i],...t}}},setPagesCount(e,t){this.pagesCount={...this.pagesCount,[e]:t}},clearAuthors(e){this.authorIds[e]&&(this.authorIds[e]=[])},setLoading(e){this.isLoading=e},setRouteCache(e){this.route={name:e.name,params:e.params,query:e.query}},setUserInvitations(e,t,i){const s=this.userInvitations[e],n=null===s||void 0===s?void 0:s.invitationsRefs;this.userInvitations={...this.userInvitations,[e]:{invitationsRefs:{...n,...i.userRefs},pagesCount:i.pagesCount,currentPage:t}}},setUserHubs(e,t,i){const s=this.userHubs[e],n=null===s||void 0===s?void 0:s.hubRefs;this.userHubs={...this.userHubs,[e]:{hubRefs:{...n,...t.hubRefs},hubIds:t.hubIds,pagesCount:t.pagesCount,currentPage:i}}},async loadUserInfo(e,t=!1){const i=e.toLowerCase(),s=this.authorRefs[i],n=(0,m.R)().shouldRefresh,a=(0,u.P)().langOptions,o=(0,d.q)().userAlias,r=o?o.toLowerCase():null,c=i===r;if(s&&s.counterStats&&!n&&!t)return s;const[p,_]=await Promise.all([(0,l.bG)(e,a),...(0,d.q)().isLoggedIn&&!c?[(0,l.jS)(e)]:[]]),h=p.alias.toLowerCase(),g={...s,...p,note:_};return this.setUserInfo(h,g),g},async loadUserSpecialization(e){const t=e.toLowerCase(),i=this.userSpecialization[t];if(i)return i;const s=await(0,l.Es)(t);return this.userSpecialization={...this.userSpecialization,[t]:s},s},async loadUserInvitations(e,t=1){const i=e.toLowerCase(),s=this.userInvitations[i];if(s&&s.currentPage>=t)return s;this.userInvitationsLoading=!0;try{const e=await(0,l.OR)(i,{page:t});return this.setUserInvitations(i,t,e),e}finally{this.userInvitationsLoading=!1}},async loadUserHubs(e,t=1){const i=e.toLowerCase(),s=this.userHubs[i];if(s&&s.currentPage>=t)return s;this.userHubsLoading=!0;try{const s=await(0,l.YI)(i,{page:t});return this.setUserHubs(e,s,t),s}finally{this.userHubsLoading=!1}},async loadProfileInfo(e,t){const i=(0,u.P)().langOptions,s=(0,m.R)().shouldRefresh,n=this.authorProfiles[e];if(n&&!s&&!t)return n;if(!i||!i.hl)return n;const[a,o]=await Promise.all([(0,l.Lt)(e,{hl:i.hl}),(0,l.LD)(e)]),r=e.toLowerCase(),c={...this.authorProfiles[r],...a,companies:o};return this.authorProfiles={...this.authorProfiles,[r]:{...this.authorProfiles[r],...c}},a},async searchUsers(e){const t={...e.query,page:e.params.pageNum||1},i=(0,n.Z)(e),s=this.authorIds[i],a=Boolean(Object.keys(e.query).length),o=JSON.stringify(this.route.query)===JSON.stringify(e.query),r=JSON.stringify(this.route.params)===JSON.stringify(e.params);if(o&&s&&r)return!0;a&&!o&&this.clearAuthors(i),this.setLoading(!0);try{const{userRefs:s,userIds:n,pagesCount:a}=await(0,l.d9)(t);return this.setAuthorRefs(s),this.setAuthorIds(i,n),this.setPagesCount(i,a),this.setRouteCache(e),{userRefs:s,userIds:n,pagesCount:a}}finally{this.setLoading(!1)}},async loadUsers(e,t=!1){var i;const s={...e.query,page:e.params.pageNum||1},{q:a}=e.query,d=(0,n.Z)(e),m=this.authorIds[d],p=Boolean(Object.keys(e.query).length),_=JSON.stringify(this.route.query)===JSON.stringify(e.query),h=(0,c.checkIsNewFlow)(null===(i=e.params)||void 0===i?void 0:i.flowName),g=Boolean(e.params.hubName||e.params.flowName&&!h);if(null!==m&&void 0!==m&&m.length&&_&&!a&&!g&&!t)return;(p&&!_||g)&&this.clearAuthors(d),this.setLoading(!0);let v=a?l.d9:l.Fp,T="";e.params.flowName&&(v=a?o.pT:o.NG,T=e.params.flowName),a||e.params.hubName&&(v=r.yp,T=e.params.hubName);try{const t=await v({...s,...(0,u.P)().langOptions},T);"authorRefs"in t?(this.setAuthorRefs(t.authorRefs),this.setAuthorIds(d,t.authorIds)):"userRefs"in t&&(this.setAuthorRefs(t.userRefs),this.setAuthorIds(d,t.userIds)),this.setPagesCount(d,a?1:t.pagesCount),this.setRouteCache(e)}finally{this.setLoading(!1)}},async toggleSubscribeStatus(e,t){const i=this.authorRefs[e.toLowerCase()];if(!i||!i.relatedData)return;i.relatedData.isSubscribed=t;const{isSubscribed:s}=await(0,l.JI)(e);i.relatedData.isSubscribed=s},async updateFollowersCounter(e){var t,i;const s=e.toLowerCase(),{isSubscribed:n}=(null===(t=this.authorRefs[s])||void 0===t?void 0:t.relatedData)||{},{followersCount:a=0}=(null===(i=this.authorRefs[s])||void 0===i?void 0:i.followStats)||{},o=n?a+1:a-1,r=this.authorRefs[s];r&&r.followStats&&(r.followStats.followersCount=o)},async addUserNote(e,t){const i=await(0,l.C1)(e,{text:t.text}),s=e.toLowerCase(),n=this.authorRefs[s];if(!n)return;const a={...n,note:i};this.setUserInfo(s,a)},async updateKarmaInfo(e,t){const i=e.toLowerCase(),s=this.authorRefs[i];s&&(s.scoreStats=t.scoreStats,s.relatedData&&t.vote&&(s.relatedData.vote=t.vote))},async loadUsersStatistics(){if(this.statistics)return this.statistics;const e=await(0,l.xS)();return this.statistics=e,e},async loadKarmaStats(){if(this.karmaStats.length)return;const e=await(0,l.xm)();this.karmaStats=e},async loadUserFollowers(e){const t=e.params.login.toLowerCase(),i=e.params.pageNum||1;this.authorFollowersLoading=!0;try{const e=await(0,l.dX)(t,{page:i});this.authorFollowers={...this.authorFollowers,[t]:e}}finally{this.authorFollowersLoading=!1}},async loadUserFollowed(e){const t=e.params.login.toLowerCase(),i=e.params.pageNum||1;this.authorFollowedLoading=!0;try{const e=await(0,l.Ct)(t,{page:i});this.authorFollowed={...this.authorFollowed,[t]:e}}finally{this.authorFollowedLoading=!1}}}})},68323:(e,t,i)=>{"use strict";i.d(t,{S:()=>a});var s=i(67476),n=i(32790);const a=(0,s.Q_)("wysiwyg",{state:()=>({WYSIWYGRulesRefs:null}),actions:{async getWYSIWYGRulesRefsIfNotExist(){if(!this.WYSIWYGRulesRefs){const{wysiwygRuleRefs:e}=await(0,n.e)();this.WYSIWYGRulesRefs=e}}}})},45506:(e,t,i)=>{"use strict";function s(e){return{VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}[e]?{VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}[e]:(console.error(`${e} is not defined`),"")}function n(e){var t;return e?null===(t=s("VUE_APP_CAREER_VACANCIES_URL_COMPANY"))||void 0===t?void 0:t.replace("{company}",e):s("VUE_APP_CAREER_VACANCIES_BLOCK_URL")}function a(e){return e?s("VUE_APP_CAREER_COURSES_URL_COMPANY").replace("{company}",e):s("VUE_APP_CAREER_COURSES_BLOCK_URL")}i.d(t,{B:()=>a,M:()=>n})},42794:(e,t,i)=>{"use strict";i.d(t,{Nd:()=>r,Uc:()=>a,_B:()=>o,jO:()=>s,wm:()=>n});const s="__ALIAS_STORE__";function n(e,t){return e&&t&&e.id===t.id}function a(e,t){return e&&t&&e.alias===t.alias}const o=e=>JSON.parse(JSON.stringify(e));function r(){const e=Object.create(null);return e[s]=!0,e}},61291:(e,t,i)=>{"use strict";function s(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e?e:Array.isArray(e)?e[0]:void 0}i.d(t,{K:()=>s})},11529:(e,t,i)=>{"use strict";function s(e,t){try{const i=new URL(e);return Object.entries(t).forEach((([e,t])=>t?i.searchParams.append(e,t):null)),i}catch{return console.error("Error while making utm url"),null}}i.d(t,{e:()=>s})},72923:(e,t,i)=>{"use strict";i.d(t,{$K:()=>b,Ai:()=>f,Az:()=>d,Dz:()=>C,KZ:()=>k,Mc:()=>_,Oe:()=>o,TH:()=>E,UJ:()=>m,Uj:()=>v,Y9:()=>p,YM:()=>I,Yc:()=>w,bE:()=>g,fo:()=>S,fq:()=>l,hx:()=>L,jL:()=>P,lA:()=>T,mZ:()=>u,rM:()=>a,sI:()=>A,uf:()=>h,vG:()=>c,wA:()=>O,wZ:()=>y,ws:()=>r,x1:()=>N});var s=i(86409),n=i(10707);function a(e){return(0,s.Hm)((0,n.k)("articles/","v2"),e)}function o(e){return(0,s.Hm)((0,n.k)("articles/drafts","v2"),e)}function r(e){return(0,s.Hm)((0,n.k)("articles/planned","v2"),e)}function l(e,t){return(0,s.Hm)((0,n.k)(`articles/${e}/`,"v2"),t)}function c(e,t){return(0,s.Hm)((0,n.k)(`articles/preview/${e}/`,"v2"),t)}function u(e,t="posts"){return(0,s.ZI)((0,n.k)(`articles/drafts/${e}/${t}`,"v2"))}function d(e){if(!e)throw new Error("Article ID is undefined!");return(0,s.Q)((0,n.k)(`articles/${e}/pageview`,"v2"))}function m(e,t){return(0,s.Q)((0,n.k)(`articles/${e}/votes/down`,"v2"),t)}function p(e){return(0,s.Q)((0,n.k)(`articles/${e}/votes/up`,"v2"))}function _(e){return(0,s.Hm)((0,n.k)(`articles/${e}/reasons/stats`,"v2"))}function h(e){return(0,s.Q)((0,n.k)(`articles/${e}/bookmarks`,"v2"))}function g(e){return(0,s.ZI)((0,n.k)(`articles/${e}/bookmarks`,"v2"))}function v(e,t={}){return(0,s.Q)((0,n.k)(`polls/${e}/vote`,"v2"),t)}function T(e,t){return(0,s.Hm)((0,n.k)(`articles/${e}/similar`,"v2"),t)}function E(e){return(0,s.Hm)((0,n.k)("articles/most-reading","v2"),e)}function S(e,t){return(0,s.Q)((0,n.k)(`articles/${e}/complaint`,"v2"),t)}function f(e,t){return(0,s.Q)((0,n.k)(`articles/${e}/misprint`,"v2"),t)}function A(e,t){return(0,s.Hm)((0,n.k)(`articles/${e}/recommendation/template`,"v2"),t)}function b(e){return(0,s.Hm)((0,n.k)("refs/post/recommendations","v2"),e)}function I(e){return(0,s.Hm)((0,n.k)("articles/moderation-comments","v2"),e)}function y({articleId:e,email:t,tracker:i}){return(0,s.Q)((0,n.k)(`articles/${e}/subscription`,"v2"),{emailSubscribed:t,trackerSubscribed:i})}function w(e){return(0,s.Q)((0,n.k)(`articles/${e}/rules_remind/`,"v2"))}function P(e){return(0,s.ZI)((0,n.k)(`articles/${e}/rules_remind/`,"v2"))}function C(e,t){return(0,s.Q)((0,n.k)(`articles/${e}/published`,"v2"),t)}function k(e,t){return(0,s.Q)((0,n.k)(`articles/${e}/trackingPix`,"v2"),t)}function L(e,t){return(0,s.Q)((0,n.k)(`articles/${e}/defer`,"v2"),t)}function N(e){return(0,s.Hm)((0,n.k)("shared-count/facebook","v2"),e)}function O(e){return(0,s.Q)((0,n.k)("vk/shared","v2"),{articlesData:e})}},3223:(e,t,i)=>{"use strict";i.d(t,{Qg:()=>r,U1:()=>d,Z7:()=>c,dt:()=>a,e8:()=>o,gp:()=>l,we:()=>u});var s=i(86409),n=i(10707);function a({fl:e,hl:t}){return(0,s.Hm)((0,n.k)("beta/announcements/current","v2"),{fl:e,hl:t})}function o({experimentId:e,fl:t,hl:i}){return(0,s.Hm)((0,n.k)(`beta/announcements/${e}`,"v2"),{fl:t,hl:i})}function r({experimentId:e,nocount:t=0}){return(0,s.Hm)((0,n.k)(`beta/announcements/${e}/comments`,"v2"),{nocount:t})}function l({experimentId:e,text:t,parentId:i}){return(0,s.Q)((0,n.k)(`beta/announcements/${e}/comments`,"v2"),{text:t,parentId:i})}function c({experimentId:e,commentId:t,mark:i}){return(0,s.Q)((0,n.k)(`beta/announcements/${e}/comments/${t}`,"v2"),{mark:i})}function u({fl:e,hl:t,perPage:i=20,pageNum:a=1}){return(0,s.Hm)((0,n.k)("beta/announcements/finished","v2"),{fl:e,hl:t,perPage:i,pageNum:a})}function d(){return(0,s.Q)((0,n.k)("beta","v2"))}},25934:(e,t,i)=>{"use strict";i.d(t,{BL:()=>b,DF:()=>v,EG:()=>L,F9:()=>$,FI:()=>m,FL:()=>B,ID:()=>o,Ir:()=>d,M1:()=>c,Mi:()=>C,Nj:()=>y,Ps:()=>W,QF:()=>R,SE:()=>N,TH:()=>S,Vy:()=>U,YS:()=>H,ZG:()=>O,ZQ:()=>u,bj:()=>f,eT:()=>M,fX:()=>T,fp:()=>g,j4:()=>r,nE:()=>P,nN:()=>w,oA:()=>F,oP:()=>A,oc:()=>h,pD:()=>l,pu:()=>a,qb:()=>V,sQ:()=>k,w1:()=>I,x1:()=>_,xF:()=>D,yw:()=>E,zT:()=>p});var s=i(86409),n=i(10707);function a(e,t,i){let a=`articles/${e}/comments/`;return i&&(a+="?nocount=1"),(0,s.Hm)((0,n.k)(a,"v2"),t)}function o(e,t){return(0,s.Hm)((0,n.k)(`articles/${e}/comments/split/guest`,"v2"),t)}function r(e,t){return(0,s.Hm)((0,n.k)(`articles/${e}/comments/split/guest/cache`,"v2"),t)}function l({id:e,hl:t}){return(0,s.Hm)((0,n.k)(`articles/${e}/comments/split/user`,"v2"),{hl:t})}function c(e,t){return(0,s.Hm)((0,n.k)(`articles/${e}/comments/new`,"v2"),t)}function u(e){return(0,s.Hm)((0,n.k)("comments/search","v2"),e)}function d(e,t,i,a){return(0,s.Q)((0,n.k)(`comments/${i}/${e}/add`,"v2"),{...t,idempotenceKey:a})}function m(e,t,i){return(0,s.Q)((0,n.k)(`comments/${i}/${e}/preview`,"v2"),t)}function p(e){return(0,s.Q)((0,n.k)(`articles/${e}/comments/reset`,"v2"))}function _(e,t){return(0,s.Q)((0,n.k)(`articles/${e}/comments/disable`,"v2"),t)}function h(e){return(0,s.Q)((0,n.k)(`articles/${e}/comments/enable`,"v2"))}function g(e,t,i){return(0,s.Hm)((0,n.k)(`articles/${e}/comments/${t}/source`,"v2"),i)}function v(e,t,i){return(0,s.Q)((0,n.k)(`articles/${e}/comments/${t}`,"v2"),i)}function T(e,t){return(0,s.Q)((0,n.k)(`articles/${e}/comments-suspend/${t}`,"v2"))}function E(e,t,i,a){return(0,s.Q)((0,n.k)(`${a}/${e}/comment-complaint/${t}`,"v2"),i)}function S(e,t,i){const a=i?"approve":"reject";return(0,s.Q)((0,n.k)(`articles/${e}/comments/${t}/moderate/${a}`,"v2"))}function f({postId:e,commentId:t,data:i}){return(0,s.Q)((0,n.k)(`articles/${e}/comments/${t}/votes`,"v2"),i)}function A({postId:e,commentId:t,data:i}){return(0,s.Q)((0,n.k)(`articles/${e}/comments/${t}/pinned`,"v2"),i)}function b(e){return(0,s.Hm)((0,n.k)(`articles/${e}/comments/pinned`,"v2"))}function I({publicationId:e,commentId:t}){return(0,s.Q)((0,n.k)(`articles/${e}/comments/${t}/bookmarks`,"v2"))}function y({publicationId:e,commentId:t}){return(0,s.ZI)((0,n.k)(`articles/${e}/comments/${t}/bookmarks`,"v2"))}function w(e){return(0,s.Q)((0,n.k)(`articles/${e}/comments/read`,"v2"))}async function P({articleId:e,hl:t,cacheKey:i,isPost:s}){const n={hl:t,isPost:s};i&&(n.cacheKey=i);const a=new URLSearchParams(n),o=`/ssr/comments/${e}?${a.toString()}`,r=window.fetchStream||fetch,l=await r(o),{body:c,ok:u}=l;return u?c:Promise.reject(l)}function C(e,t,i){let a=`threads/${e}/comments/`;return i&&(a+="?nocount=1"),(0,s.Hm)((0,n.k)(a,"v2"),t)}function k({postId:e,commentId:t,data:i}){return(0,s.Q)((0,n.k)(`threads/${e}/comments/${t}/pinned`,"v2"),i)}function L(e){return(0,s.Hm)((0,n.k)(`threads/${e}/comments/pinned`,"v2"))}function N(e,t,i){return(0,s.Hm)((0,n.k)(`threads/${e}/comments/${t}/source`,"v2"),i)}function O(e,t){return(0,s.Q)((0,n.k)(`threads/${e}/comments-suspend/${t}`,"v2"))}function R(e,t,i){return(0,s.Q)((0,n.k)(`threads/${e}/comments/${t}`,"v2"),i)}function M(e){return(0,s.Q)((0,n.k)(`threads/${e}/comments/read`,"v2"))}function U(e,t){return(0,s.Hm)((0,n.k)(`threads/${e}/comments/new`,"v2"),t)}function D(e,t){return(0,s.Hm)((0,n.k)(`threads/${e}/comments/split/guest`,"v2"),t)}function B(e,t){return(0,s.Hm)((0,n.k)(`threads/${e}/comments/split/guest/cache`,"v2"),t)}function H({id:e,hl:t}){return(0,s.Hm)((0,n.k)(`threads/${e}/comments/split/user`,"v2"),{hl:t})}function F({postId:e,commentId:t,data:i}){return(0,s.Q)((0,n.k)(`threads/${e}/comments/${t}/votes`,"v2"),i)}function V(e,t,i){const a=i?"approve":"reject";return(0,s.Q)((0,n.k)(`threads/${e}/comments/${t}/moderate/${a}`,"v2"))}function $({publicationId:e,commentId:t}){return(0,s.Q)((0,n.k)(`threads/${e}/comments/${t}/bookmarks`,"v2"))}function W({publicationId:e,commentId:t}){return(0,s.ZI)((0,n.k)(`threads/${e}/comments/${t}/bookmarks`,"v2"))}},96447:(e,t,i)=>{"use strict";i.d(t,{$Y:()=>g,AL:()=>ee,Az:()=>It,Bj:()=>Ye,C1:()=>_,C5:()=>it,CW:()=>st,Cg:()=>m,DR:()=>M,Dz:()=>u,E9:()=>L,EJ:()=>gt,EV:()=>ut,F5:()=>q,FN:()=>x,FY:()=>ot,Fl:()=>bt,Fy:()=>r,Fz:()=>tt,GL:()=>Oe,Gu:()=>J,HJ:()=>at,Hu:()=>he,I1:()=>yt,IA:()=>de,J:()=>rt,J9:()=>mt,Jb:()=>Y,Jj:()=>Te,KD:()=>Ke,KO:()=>Be,KW:()=>w,Kv:()=>St,L$:()=>He,LX:()=>vt,Mk:()=>Ue,Mp:()=>ht,N_:()=>fe,OS:()=>R,PC:()=>ke,Py:()=>ze,Qh:()=>Xe,Qs:()=>ne,RS:()=>ae,RX:()=>j,Rp:()=>wt,SU:()=>$e,Sp:()=>y,T1:()=>At,TN:()=>Me,TY:()=>_t,Tj:()=>ge,Tr:()=>l,US:()=>d,W7:()=>me,WW:()=>X,WY:()=>B,Wd:()=>h,Wu:()=>Qe,X$:()=>C,Xl:()=>ce,Xn:()=>et,Xw:()=>N,YZ:()=>Le,Yn:()=>Se,Yv:()=>T,Yy:()=>c,Z2:()=>kt,Z4:()=>Fe,ZA:()=>Ne,_:()=>oe,_H:()=>F,_w:()=>Ct,ar:()=>I,b6:()=>ft,bj:()=>O,c2:()=>H,ct:()=>v,d7:()=>Ge,dE:()=>D,dU:()=>k,dc:()=>ue,dq:()=>nt,ep:()=>Ee,ey:()=>De,fh:()=>p,go:()=>qe,gu:()=>o,h6:()=>_e,hA:()=>Re,hE:()=>Ie,hS:()=>pe,iG:()=>E,iJ:()=>We,iX:()=>ve,iv:()=>P,jC:()=>Nt,jY:()=>be,jq:()=>lt,k5:()=>re,kC:()=>Pe,ke:()=>Ze,kw:()=>S,l:()=>W,m_:()=>se,mp:()=>G,oP:()=>V,oU:()=>Q,om:()=>te,oz:()=>ct,p6:()=>Ce,q9:()=>Ae,qQ:()=>Ut,qT:()=>b,qU:()=>Rt,qV:()=>A,rD:()=>dt,rL:()=>we,rd:()=>je,rw:()=>f,sS:()=>$,sn:()=>Tt,tF:()=>ie,uH:()=>Z,uW:()=>Ve,ur:()=>Ot,vk:()=>Pt,wO:()=>Lt,wX:()=>U,xE:()=>le,xg:()=>ye,xt:()=>Et,xz:()=>Mt,yF:()=>Je,yz:()=>xe,zc:()=>pt});var s=i(21331),n=i(86409),a=i(10707);function o(e={}){const{flowAlias:t,hubAlias:i}=e;let s="companies/";return t&&(s=`flows/${t}/companies`),i&&(s=`hubs/${i}/companies`),(0,n.Hm)((0,a.k)(s,"v2"),e)}function r(e){const{flowAlias:t,hubAlias:i}=e;let s="companies/search";return t&&(s=`flows/${t}/companies/search`),i&&(s=`hubs/${i}/companies/search`),(0,n.Hm)((0,a.k)(s,"v2"),e)}function l(e){return(0,n.Hm)((0,a.k)("companies/company_categories/","v2"),e)}function c(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/card/`,"v2"),t)}function u(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/whois/`,"v2"),t)}function d(e){return(0,n.Q)((0,a.k)(`companies/${e}/subscription`,"v2"))}function m(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/widgets/`,"v2"),t)}function p(e,t){return(0,n.Hm)((0,a.k)("inset/multiwidget","v2"),{...t,company:e})}function _(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/polls/unanswered`,"v2"),t)}function h(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/polls/${t}`,"v2"),i)}function g(e,t,i){return(0,n.Hm)((0,a.k)(`companies/${e}/workers/${t}`,"v2"),i)}function v(e,t={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/widgets`,"v2"),t)}function T(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/multiwidgets`,"v2"),t)}function E(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}`,"v2"),i)}function S(e,t,i={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications`,"v2"),i)}function f(e,t,i){return(0,n.ZI)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications/${i}`,"v2"))}function A(e,t,i){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/widgets/${t}/${i}/form`,"v2"))}function b(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}/form`,"v2"))}function I(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}`,"v2"))}function y(e,t,i){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications/${i}/form`,"v2"))}function w(e,t,i,s){return(0,n.Q)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications/${i}`,"v2"),s)}function P(e,t,i,s){return(0,n.Q)((0,a.k)(`companies/${e}/admin/widgets/${t}/${i}`,"v2"),s)}function C(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/widgets/${t}/published`,"v2"),i)}function k(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}/published`,"v2"),i)}function L(e,t,i){return(0,n.ZI)((0,a.k)(`companies/${e}/admin/widgets/${t}/${i}`,"v2"))}function N(e,t){return(0,n.ZI)((0,a.k)(`companies/${e}/admin/multiwidgets/${t}`,"v2"))}function O(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/widgets_ordering`,"v2"),t)}function R(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/ordering`,"v2"),i)}function M(e,t,i,s){return(0,n.Q)((0,a.k)(`companies/${e}/admin/widget_applications/${t}/applications/${i}/published`,"v2"),s)}function U(e,t,i){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/widget_news/${t}/items`,"v2"),i)}function D(e,t,i,s){return(0,n.Q)((0,a.k)(`companies/${e}/admin/widget_news/${t}/items/${i}/published`,"v2"),s)}function B(e,t,i){return(0,n.Hm)((0,a.k)(`companies/${e}/fans/${t}`,"v2"),i)}function H(e){return(0,n.Hm)((0,a.k)(`companies/top/by_hub/${e}`,"v2"))}function F(e){return(0,n.Hm)((0,a.k)(`companies/top/by_flow/${e}`,"v2"))}function V(e){return(0,n.Hm)((0,a.k)(`companies/${e}/investment/hubs`,"v2"))}function $(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/vacancies/`,"v2"),t)}function W(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/branding/${t}`,"v2"))}function G(e,t={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/info`,"v2"),t)}function x(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/profile/form`,"v2"),t)}function q(){return(0,n.Hm)((0,a.k)("refs/company_categories","v2"))}function Y(){return(0,n.Hm)((0,a.k)("refs/human_resources","v2"))}function Z(){return(0,n.Hm)((0,a.k)("refs/company_contact_types","v2"))}function j(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/profile`,"v2"),t)}const K={rating:"rating",views:"posts_views",followers:"subscribers"},z={week:7,month:30,quarter:90,halfyear:180,year:365,twoyears:730};function Q(e,t){const i=t.period||"month",o=z[i],r=(0,s.ic)(o);return(0,n.Hm)((0,a.k)(`companies/${e}/indicators/`,"v2"),{...r,type:K[t.type]})}function X(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/statistics/authors`,"v2"),t)}function J(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/statistics/hubs`,"v2"),t)}function ee(e,{page:t,perPage:i}){return(0,n.Hm)((0,a.k)(`companies/${e}/career/vacancies/`,"v2"),{page_num:t,per_page:i})}function te(e){return(0,n.Hm)((0,a.k)(`companies/${e}/career/settings/form`,"v2"))}function ie(e){return(0,n.Q)((0,a.k)(`companies/${e.companyAlias}/career/settings`,"v2"),{...e,alias:e.careerAlias})}function se({companyAlias:e,vacancyId:t,isActive:i}){return(0,n.Q)((0,a.k)(`companies/${e}/career/vacancy`,"v2"),{id:t,isActive:i})}function ne(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/log`,"v2"),t)}function ae(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/tariff/code`,"v2"),t)}function oe(e){return(0,n.Hm)((0,a.k)(`companies/${e}/analytics/settings/form`,"v2"))}function re(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/analytics/settings`,"v2"),t)}function le(e,t={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/localization/form`,"v2"),t)}function ce(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/localization`,"v2"),t)}function ue(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/finance/list`,"v2"),t)}function de(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/employees`,"v2"),t)}function me(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/employees`,"v2"),t)}function pe(e,t){return(0,n.ZI)((0,a.k)(`companies/${e}/admin/employees/${t}/`,"v2"))}function _e(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/employee_requests`,"v2"),t)}function he(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/employee_requests/${t}/approve`,"v2"),{})}function ge(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/employee_requests/${t}/reject`,"v2"),{})}function ve(e){return(0,n.Hm)((0,a.k)(`companies/${e}/tariff/current`,"v2"))}function Te(e){return(0,n.Hm)((0,a.k)(`companies/${e}/tariff/list`,"v2"))}function Ee(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/tariff/prolong`,"v2"),t)}function Se(e){return(0,n.Q)((0,a.k)(`companies/${e}/admin/startup/prolong`,"v2"))}function fe(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/manager/list`,"v2"),t)}function Ae(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/manager`,"v2"),t)}function be(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/manager/${t}/role`,"v2"),i)}function Ie(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/manager/${t}/settings`,"v2"),i)}function ye(e,t){return(0,n.ZI)((0,a.k)(`companies/${e}/admin/manager/${t}/`,"v2"))}function we(e,t={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/invites/count`,"v2"),t)}function Pe(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/invites/used`,"v2"),t)}function Ce(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/invites/unused`,"v2"),t)}function ke(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/invites/${t}/`,"v2"))}function Le(e,t){return(0,n.ZI)((0,a.k)(`companies/${e}/invites/${t}/`,"v2"))}function Ne(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/invites/by_email`,"v2"),t)}function Oe(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/invites/by_login`,"v2"),t)}function Re(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/requisites/list`,"v2"),t)}function Me(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/requisites/${t}/current`,"v2"))}function Ue(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/requisites`,"v2"),t)}function De(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/requisites/${t}`,"v2"),i)}function Be(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/requisites/${t}`,"v2"))}function He(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/statistics/posts/`,"v2"),t)}function Fe(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/statistics/news/`,"v2"),t)}function Ve(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/branding/list`,"v2"),t)}function $e(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/branding/list/`,"v2"),t)}function We(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/branding/list/${t}/`,"v2"),i)}function Ge(e,t){return(0,n.ZI)((0,a.k)(`companies/${e}/admin/branding/list/${t}/`,"v2"))}function xe(e,t,i={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/branding/list/${t}/form/`,"v2"),i)}function qe(e){return(0,n.ZI)((0,a.k)(`companies/${e}/admin/branding/current/`,"v2"))}function Ye(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/branding/current/`,"v2"),t)}function Ze(){return(0,n.Hm)((0,a.k)("refs/application_platforms","v2"))}function je(e={}){return(0,n.Hm)((0,a.k)("companies/faq/","v2"),e)}function Ke(e,t={}){return(0,n.Hm)((0,a.k)(`companies/faq/${e}`,"v2"),t)}function ze(e,t,i={}){return(0,n.Hm)((0,a.k)(`companies/${e}/workers/all/${t}`,"v2"),i)}function Qe(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/employees_suggest`,"v2"),t)}function Xe(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/managers_suggest`,"v2"),t)}function Je(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/invites/by_login/suggest`,"v2"),t)}function et(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/statistics/posts/export`,"v2"),t,0,!0,"blob")}function tt(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/statistics/news/export`,"v2"),t,0,!0,"blob")}function it(e,t,i={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/finance/files/${t}`,"v2"),i,0,!0,"blob")}function st(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/landing/profile`,"v2"),t)}function nt(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/landing/gallery`,"v2"),t)}function at(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/landing/gallery`,"v2"),t)}function ot(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/landing/gallery/form`,"v2"),t)}function rt(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/landing/gallery`,"v2"),t)}function lt(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/landing/gallery/published`,"v2"),t)}function ct(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/landing/banner`,"v2"),t)}function ut(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/landing/banner`,"v2"),t)}function dt(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/landing/banner/form`,"v2"),t)}function mt(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/landing/banner/published`,"v2"),t)}function pt(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/landing/banner`,"v2"),t)}function _t(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/landing/vacancies`,"v2"),t)}function ht(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/landing/vacancies`,"v2"),t)}function gt(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/landing/vacancies/published`,"v2"),t)}function vt(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/landing/technology/form`,"v2"),t)}function Tt(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/landing/technology`,"v2"),t)}function Et(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/landing/technology`,"v2"),t)}function St(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/landing/technology`,"v2"),t)}function ft(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/landing/technology/published`,"v2"),t)}function At(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/post_banners`,"v2"),t)}function bt(e,t,i={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/post_banners/${t}/form`,"v2"),i)}function It(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/post_banners`,"v2"),t)}function yt(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/post_banners/${i}`,"v2"),t)}function wt(e,t){return(0,n.ZI)((0,a.k)(`companies/${e}/admin/post_banners/${t}`,"v2"))}function Pt(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/post_banners/${t}/published`,"v2"),i)}function Ct(e,t={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/notifications`,"v2"),t)}function kt(e,t){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/polls`,"v2"),t)}function Lt(e,t,i={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/polls/${t}/form`,"v2"),i)}function Nt(e,t,i={}){return(0,n.Hm)((0,a.k)(`companies/${e}/admin/polls/${t}`,"v2"),i)}function Ot(e,t){return(0,n.Q)((0,a.k)(`companies/${e}/admin/polls`,"v2"),t)}function Rt(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/polls/${i}`,"v2"),t)}function Mt(e,t){return(0,n.ZI)((0,a.k)(`companies/${e}/admin/polls/${t}`,"v2"))}function Ut(e,t,i){return(0,n.Q)((0,a.k)(`companies/${e}/admin/polls/${t}/published`,"v2"),i)}},14823:(e,t,i)=>{"use strict";i.d(t,{NG:()=>a,dX:()=>r,pT:()=>o});var s=i(86409),n=i(10707);function a(e,t){return(0,s.Hm)((0,n.k)(`flows/${t}/authors`,"v2"),e)}function o(e,t){return(0,s.Hm)((0,n.k)(`flows/${t}/authors/search`,"v2"),e)}function r(e){return(0,s.Hm)((0,n.k)(`flows/${e.flowAlias}/hubs/suggest`,"v2"),e)}},175:(e,t,i)=>{"use strict";i.d(t,{PL:()=>o,PY:()=>c,_C:()=>a,dx:()=>r,f3:()=>u,lm:()=>d,yp:()=>l});var s=i(86409),n=i(10707);function a(e){let t=(0,n.k)("hubs/","v2");return e.flowAlias&&(t=(0,n.k)(`hubs/${e.flowAlias}`,"v2")),(0,s.Hm)(t,e)}function o(e){return(0,s.Hm)((0,n.k)("hubs/search","v2"),e)}function r(e,t){return(0,s.Hm)((0,n.k)(`hubs/${e}/profile`,"v2"),t)}function l(e,t){return(0,s.Hm)((0,n.k)(`hubs/${t}/authors`,"v2"),e)}function c(e){return(0,s.Q)((0,n.k)(`hubs/${e}/subscription`,"v2"))}function u(e){return(0,s.Hm)((0,n.k)("presets/list","v2"),e)}function d(e){return(0,s.Q)((0,n.k)("presets/subscription","v2"),e)}},10707:(e,t,i)=>{"use strict";function s(e,t="v1"){return encodeURI(`https://habr.com/kek/${t}/${e}`)}i.d(t,{k:()=>s})},30124:(e,t,i)=>{"use strict";i.d(t,{C0:()=>v,Fs:()=>b,HM:()=>p,J5:()=>f,KW:()=>d,TR:()=>A,dA:()=>I,iX:()=>m,jA:()=>_,jo:()=>l,lW:()=>S,ln:()=>h,mp:()=>T,sE:()=>u,sY:()=>c,sZ:()=>g,t:()=>E});var s=i(64487),n=i(9669),a=i.n(n),o=i(86409),r=i(10707);function l(){return(0,o.Hm)((0,r.k)("me","v2"))}function c(){return(0,o.Hm)((0,r.k)("me/updates","v2"))}function u(){return(0,o.Hm)((0,r.k)("me/invites/available","v2"))}function d(e){return(0,o.Hm)((0,r.k)("me/invites/used","v2"),e)}function m(e){return(0,o.Hm)((0,r.k)("me/invites/unused","v2"),e)}function p(e){return(0,o.Q)((0,r.k)("me/invites/all","v2"),e)}function _(e){return(0,o.Q)((0,r.k)(`me/invites/all/${e}`,"v2"))}function h(e){return(0,o.Q)((0,r.k)(`me/invites/all/${e}/resend`,"v2"),{id:e})}function g(e){return(0,o.Q)((0,r.k)("me/invites/check","v2"),{invite:e})}function v(e){return(0,o.Q)((0,r.k)("me/invites/apply","v2"),{invite:e})}function T(e){return(0,o.Q)((0,r.k)("me/ppg","v2"),{program:e})}function E(){return(0,o.Hm)((0,r.k)("me/karma/reset","v2"))}function S(){return(0,o.Q)((0,r.k)("me/karma/reset","v2"))}function f(){return(0,o.ZI)((0,r.k)("me/karma/reset","v2"))}function A(e){return(0,o.Hm)((0,r.k)("me/notes","v2"),e)}function b(){const e={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_BACKEND_URL&&"default"!=={VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_BACKEND_URL?{VUE_APP_RELEASE_VERSION:"2025-10-15-10-11",VUE_APP_LOG_STATS_REQUESTS:"off",NODE_ENV:"production",VUE_APP_ADS_TARGETING_DEV:"0",VUE_APP_ANALYTICS_GA_BASE_KEY:"G-S28W1WC23F",VUE_APP_ANALYTICS_VK_PIXEL_KEY:"VK-RTRG-421343-57vKE",VUE_APP_API_HOST_EXTERNAL:"http://127.0.0.1:8071/api/",VUE_APP_API_HOST_INTERNAL:"https://habr.com",VUE_APP_AUTH_HOST:"https://habr.com",VUE_APP_BASE_URL:"https://habr.com",VUE_APP_DESKTOP_BASE:"https://habr.com",VUE_APP_EFFECT_URL:"https://effect.habr.com",VUE_APP_EFFECT_URL_INTERNAL:"http://127.0.0.1:8092",VUE_APP_ENV_MODE:"production",VUE_APP_RECAPTCHA_SITE_KEY:"6LfPEI4UAAAAABkNYyXRDStI3ob8KNSQeZz9xnSf",VUE_APP_SENTRY_ENABLE:"on",VUE_APP_STATIC_PUBLIC_PATH:"https://assets.habr.com/habr-web/",VUE_APP_SENTRY_PERFORMANCE_ENABLE:"off",VUE_APP_I18N_INTERNAL_PATH:"/dist/static/js/i18n/",VUE_APP_WYSIWYG_EMBED_HOST:"https://embedd.srv.habr.com",VUE_APP_USE_TEST_IDS:"off",VUE_APP_CAREER_HOST:"https://career.habr.com",VUE_APP_QNA_HOST:"https://qna.habr.com",VUE_APP_ACCOUNT_HOST:"https://account.habr.com",VUE_APP_TM_EXTERNAL_URL:"https://tmtm.ru",VUE_APP_LANDING_URL:"https://company.habr.com",VUE_APP_STATS_BASE_URL:"https://stats.habr.com",VUE_APP_FEATURE_COMMENTS_STREAMING_ENABLED:"on",VUE_APP_FEATURE_COMMENTS_CACHING_ENABLED:"on",VUE_APP_FEATURE_FIXED_BANNER_ENABLED:"on",VUE_APP_FEATURE_SIDEBAR_SMALL_BANNER:"off",VUE_APP_BETA_TEST:"",VUE_APP_BETA_TEST_NOTICE:"off",VUE_APP_CAREER_VACANCIES_URL_COMPANY:"https://career.habr.com/companies/{company}/vacancies",VUE_APP_CAREER_COURSES_URL_COMPANY:"https://career.habr.com/education_centers/{company}/active_courses",VUE_APP_CAREER_VACANCIES_BLOCK_URL:"https://career.habr.com/catalog",VUE_APP_CAREER_COURSES_BLOCK_URL:"https://career.habr.com/education_centers",VUE_APP_COURSES_BLOCK_URL:"https://career.habr.com/courses",VUE_APP_QNA_BLOCK_URL:"https://qna.habr.com/questions",VUE_APP_RECAPTCHA_HOST:"https://www.google.com/recaptcha/api/siteverify",VUE_APP_TEXT_PLACEHOLDER:"▇▅▄▅▅▄ ▇▄▅",VUE_APP_SENTRY_DSN_FRONT:"https://55fa8d464200462c8705016e201b61c5@sentry.srv.habr.com/13",VUE_APP_VERSION:"2.268.2",BASE_URL:"https://assets.habr.com/habr-web/"}.VUE_APP_BACKEND_URL:"https://habr.com",t=`${e}/uuid/`;return a().post(t,null,{withCredentials:!0}).then((e=>{const{data:t}=e;return t.uuid?a().interceptors.request.use((e=>{const i=new RegExp("^https://habr.com/kek/");return e.url&&i.test(e.url)?{...e,headers:{...e.headers,"habr-user-uuid":t.uuid}}:e})):(0,s.uT)("No UUID in response"),t}))}function I(e,t=20){return(0,o.Hm)((0,r.k)("me/blacklist","v2"),{page_num:e,per_page:t})}},79356:(e,t,i)=>{"use strict";i.d(t,{Bb:()=>r,Pq:()=>a,W:()=>o});var s=i(86409),n=i(10707);function a(e){return(0,s.Hm)((0,n.k)("news/context","v2"),e)}function o(e){return(0,s.Q)((0,n.k)(`news/${e}/bookmarks`,"v2"))}function r(e){return(0,s.ZI)((0,n.k)(`news/${e}/bookmarks`,"v2"))}},35741:(e,t,i)=>{"use strict";i.d(t,{O4:()=>o,RE:()=>a});var s=i(86409),n=i(10707);function a(e){return(0,s.Q)((0,n.k)("onboarding/why","v2"),{reason:e})}function o(){return(0,s.Q)((0,n.k)("onboarding/finish","v2"))}},57733:(e,t,i)=>{"use strict";i.d(t,{$X:()=>u,B4:()=>T,GX:()=>d,W1:()=>a,Z1:()=>m,d1:()=>h,d9:()=>E,fR:()=>r,k3:()=>l,qT:()=>g,qu:()=>_,s1:()=>o,sv:()=>v,wl:()=>p,xl:()=>c});var s=i(86409),n=i(10707);function a(e,t){const i=t?`threads/save/${t}`:"threads/save";return(0,s.Q)((0,n.k)(i,"v2"),e)}function o(e){return(0,s.Q)((0,n.k)("threads/preview","v2"),e)}function r(e){return(0,s.ZI)((0,n.k)(`threads/${e}`,"v2"))}function l(e,t={}){return(0,s.Hm)((0,n.k)(`threads/${e}/form`,"v2"),t)}function c(e,t){return(0,s.Hm)((0,n.k)(`threads/${e}/`,"v2"),t)}function u(e){return(0,s.Hm)((0,n.k)(`threads/${e}/reasons/stats`,"v2"))}function d(e){return(0,s.Q)((0,n.k)(`threads/${e}/bookmarks/add`,"v2"))}function m(e){return(0,s.Q)((0,n.k)(`threads/${e}/bookmarks/remove`,"v2"))}function p(e,t){return(0,s.Q)((0,n.k)(`threads/${e}/votes/down`,"v2"),t)}function _(e){return(0,s.Q)((0,n.k)(`threads/${e}/votes/up`,"v2"))}function h(e){return(0,s.Q)((0,n.k)(`threads/${e}/pageview`,"v2"))}function g(e){return(0,s.Q)((0,n.k)(`threads/${e}/rules_remind/`,"v2"))}function v(e){return(0,s.ZI)((0,n.k)(`threads/${e}/rules_remind/`,"v2"))}function T({articleId:e,email:t,tracker:i}){return(0,s.Q)((0,n.k)(`threads/${e}/subscription`,"v2"),{emailSubscribed:t,trackerSubscribed:i})}function E(e,t){return(0,s.Q)((0,n.k)(`threads/${e}/complain`,"v2"),t)}},80777:(e,t,i)=>{"use strict";i.d(t,{$i:()=>r,NN:()=>l,Sr:()=>o,l9:()=>c,uC:()=>a});var s=i(86409),n=i(10707);function a(e){const{count:t,hubs:i=[],tags:a=[],companyAlias:o,hl:r}=e||{};return(0,s.Hm)((0,n.k)("inset/vacancies","v2"),{count:t,hubs:i.slice(0,10).join(","),tags:a.slice(0,10).join(","),companyAlias:o,hl:r})}function o(e){var t,i;const{hubs:a=[],tags:o=[]}=e;return(0,s.Hm)((0,n.k)("inset/courses","v2"),{...e,hubs:null===(t=a.slice(0,10))||void 0===t?void 0:t.join(","),tags:null===(i=o.slice(0,10))||void 0===i?void 0:i.join(",")})}function r(e){const{hubs:t=[]}=e;return(0,s.Hm)((0,n.k)("education/courses","v2"),{...e,hubs:t.join(",")})}function l({count:e,tags:t=[],hl:i}){return(0,s.Hm)((0,n.k)("inset/questions","v2"),{count:e,tags:t.slice(0,5).join(","),hl:i})}function c(){return(0,s.Hm)((0,n.k)("inset/salary_distribution","v2"))}},25874:(e,t,i)=>{"use strict";i.d(t,{H:()=>o,s:()=>r});var s=i(59896),n=i(86409);function a(e){if("error"in e&&e.error)throw new Error(e.error.message)}async function o(e={}){const t="https://effect.habr.com/a";try{const i=await(0,n.Cm)(t,JSON.stringify(e),!1,!1);return a(i),i}catch(i){return(0,s.T)(i)}}async function r(e=[]){const t="https://effect.habr.com/a",i={version:"1.0",events:e};try{const e=await(0,n.Q)(t,JSON.stringify(i),!1,!1);return a(e),e}catch(o){return(0,s.T)(o)}}},32790:(e,t,i)=>{"use strict";i.d(t,{A7:()=>g,D5:()=>m,EC:()=>h,K$:()=>f,Ki:()=>S,P7:()=>u,TJ:()=>w,Y2:()=>d,aW:()=>A,d7:()=>I,e:()=>a,f$:()=>c,fR:()=>y,in:()=>p,mj:()=>o,pG:()=>_,uI:()=>b,wO:()=>r,xx:()=>l});var s=i(86409),n=i(10707);function a(){return(0,s.Hm)((0,n.k)("publication/wysiwyg-rules","v2"))}function o(e){return(0,s.Hm)((0,n.k)("publication/suggest-tags","v2"),e)}function r(e){return(0,s.Hm)((0,n.k)("publication/suggest-customers","v2"),e)}function l(e){return(0,s.Hm)((0,n.k)("publication/suggest-authors","v2"),e)}function c(e){return(0,s.Hm)((0,n.k)("publication/suggest-megapost-companies","v2"),e)}function u(e){return(0,s.Hm)((0,n.k)("publication/suggest-inner-tags","v2"),e)}function d(e){return(0,s.Q)((0,n.k)("publication/upload","v2"),e)}function m(e,t,i){const a=t?`publication/save/${t}`:"publication/save";return(0,s.Q)((0,n.k)(a,"v2"),{...e,idempotenceKey:i})}function p(e,t,i){const a=t?`megapost/save/${t}`:"megapost/save";return(0,s.Q)((0,n.k)(a,"v2"),{...e,idempotenceKey:i})}function _(e){return(0,s.Hm)((0,n.k)(`megapost/post-data/${e}`,"v2"))}function h(e){return(0,s.Hm)((0,n.k)(`publication/post-data/${e}`,"v2"))}function g(e,t){return(0,s.Q)((0,n.k)(`posts_legacy/${e}`,"v2"),t)}function v(e,t){return t.length?e.filter((e=>-1===t.indexOf(e.id))).map(E):e.map(E)}function T(e){const t=[],i=e.byPost?e.byPost.map((e=>(t.push(e.id),E(e)))):[],s=e.collective?v(e.collective,t):[],n=e.corporative?v(e.corporative,t):[],a=e.offtopic?v(e.offtopic,t):[];return[{list:i,name:"PUBLICATION_HUBS_BYPOST"},{list:n,name:"PUBLICATION_HUBS_CORPORATIVE"},{list:s,name:"PUBLICATION_HUBS_COLLECTIVE"},{list:a,name:"PUBLICATION_HUBS_OFFTOPIC"}]}function E(e){return{name:e.title,id:e.id.toString(),alias:e.id.toString(),aliasName:e.alias,postsLeft:e.postsLeft,tariffId:e.tariffId,isCorporative:e.isCorporative}}async function S(e){const t=await(0,s.Hm)((0,n.k)("megapost/suggest-company-blog","v2"),e);return T(t)}async function f(e){const t=await(0,s.Hm)((0,n.k)("megapost/suggest-hubs","v2"),e);return T(t)}async function A(e){const t=await(0,s.Hm)((0,n.k)("publication/suggest-hubs","v2"),e);return T(t)}function b(e){return(0,s.Hm)((0,n.k)("publication/suggest-banners","v2"),e)}function I(e){return(0,s.Q)((0,n.k)("publication/preview","v2"),e)}function y(e){return(0,s.Hm)((0,n.k)("publication/suggest-multiwidgets","v2"),e)}function w(e){return(0,s.Hm)((0,n.k)(`publication/${e}/type`,"v2"))}},54381:(e,t,i)=>{"use strict";i.d(t,{Me:()=>r,Ts:()=>p,WU:()=>g,XB:()=>u,Xg:()=>d,Xj:()=>_,Z0:()=>v,_W:()=>l,_h:()=>m,ay:()=>T,jM:()=>o,n_:()=>c,uG:()=>h,wu:()=>a});var s=i(86409),n=i(10707);function a(e){return(0,s.Hm)((0,n.k)(`stats/${e}/info`,"v2"))}function o(e,t){return(0,s.Hm)((0,n.k)(`stats/${e}/funnels`,"v2"),t)}function r(e,t){return(0,s.Hm)((0,n.k)(`stats/${e}/feed`,"v2"),t)}function l(e,t){return(0,s.Hm)((0,n.k)(`stats/${e}/graph`,"v2"),t)}function c(e,t){return(0,s.Hm)((0,n.k)(`stats/${e}/suggest`,"v2"),t)}function u(e,t){return(0,s.Hm)((0,n.k)(`stats/${e}/others`,"v2"),t)}function d(e){return(0,s.Hm)((0,n.k)(`stats/${e}/available`,"v2"))}function m(e){return(0,s.Q)((0,n.k)(`stats/${e}/visit`,"v2"))}function p({companyAlias:e,filters:t}){return(0,s.Hm)((0,n.k)(`stats/branding/${e}/landing/banner`,"v2"),t)}function _({companyAlias:e,brandingId:t,filters:i}){return(0,s.Hm)((0,n.k)(`stats/branding/${e}/post_banners/${t}`,"v2"),i)}function h({companyAlias:e,brandingId:t,filters:i}){return(0,s.Hm)((0,n.k)(`stats/branding/${e}/widget/${t}`,"v2"),i)}function g({companyAlias:e,brandingId:t,filters:i}){return(0,s.Hm)((0,n.k)(`stats/branding/${e}/multiwidgets/${t}`,"v2"),i)}function v({companyAlias:e,brandingId:t,filters:i}){return(0,s.Hm)((0,n.k)(`stats/branding/${e}/list/${t}`,"v2"),i)}function T({companyAlias:e,filters:t}){return(0,s.Hm)((0,n.k)(`stats/branding/${e}/career`,"v2"),t)}},70806:(e,t,i)=>{"use strict";i.d(t,{d:()=>n,o:()=>a});var s=i(70893);function n(e){(0,s.q)("/branding",{event:"view",uuid:e.uuid,blockUuids:[e.blockUuid,...e.linkUuids||[]]})}function a(e){const t=[e.blockUuid];e.linkUuid&&t.push(e.linkUuid),(0,s.q)("/branding",{event:"click",uuid:e.uuid,blockUuids:t})}},28003:(e,t,i)=>{"use strict";i.d(t,{x:()=>n});var s=i(70893);function n(e){(0,s.q)("/event",e)}},70893:(e,t,i)=>{"use strict";i.d(t,{q:()=>a});var s=i(59896);function n(e,t){return"undefined"!==typeof navigator.sendBeacon?navigator.sendBeacon("https://stats.habr.com"+e,JSON.stringify(t)):(fetch("https://stats.habr.com"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),keepalive:!0}),!0)}function a(e,t){try{const i=n(e,t);return i||((0,s.T)(new Error(`Beacon not sent: ${e}`)),!1)}catch(i){return(0,s.T)(i),!1}}},43995:(e,t,i)=>{"use strict";i.d(t,{Bx:()=>r,Pw:()=>o,QA:()=>a,_9:()=>n});var s=i(70893);function n(e){e&&(0,s.q)("/publication/read",e)}function a(e){e&&(0,s.q)("/publication/scroll",e)}function o(e){e&&(0,s.q)("/publication/consent",e)}function r(e){return(0,s.q)("/publication/read-time",e)}},91578:(e,t,i)=>{"use strict";i.d(t,{CQ:()=>a,GN:()=>r,N8:()=>o});var s=i(86409),n=i(10707);function a(e,t){return(0,s.Hm)((0,n.k)(`technotexts/${e}`,"v2"),t)}function o(){return(0,s.Hm)((0,n.k)("technotexts","v2"))}function r(e,t){return(0,s.Hm)((0,n.k)(`technotexts/${e}/winners`,"v2"),t)}},66478:(e,t,i)=>{"use strict";i.d(t,{$B:()=>$,C1:()=>w,C7:()=>B,Ct:()=>k,Es:()=>N,FM:()=>J,Fp:()=>a,GL:()=>T,HM:()=>C,Hm:()=>ie,JI:()=>S,JO:()=>R,Jj:()=>W,K9:()=>H,KE:()=>f,L5:()=>G,LD:()=>u,Lt:()=>g,OR:()=>d,S6:()=>p,T3:()=>U,TH:()=>v,Ts:()=>c,UZ:()=>b,Uu:()=>D,V6:()=>l,WU:()=>m,XW:()=>V,YI:()=>_,Yv:()=>E,ZB:()=>A,_X:()=>F,aP:()=>r,bG:()=>h,bq:()=>se,cZ:()=>I,d1:()=>j,d9:()=>o,dX:()=>L,dZ:()=>P,fK:()=>ee,h8:()=>Z,hf:()=>ne,jS:()=>y,l$:()=>Y,lp:()=>O,mH:()=>x,oP:()=>ae,qq:()=>K,tZ:()=>q,w9:()=>X,wS:()=>M,xS:()=>z,xm:()=>Q,yG:()=>te});var s=i(86409),n=i(10707);function a(e){return(0,s.Hm)((0,n.k)("users/","v2"),e)}function o(e){return(0,s.Hm)((0,n.k)("users/search","v2"),e)}function r(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/comments`,"v2"),t)}function l(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/investment/hubs`,"v2"),t)}function c(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/bookmarks/comments`,"v2"),t)}function u(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/subscriptions/companies`,"v2"),t)}function d(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/invited`,"v2"),t)}function m(e){return(0,s.Hm)((0,n.k)(`users/${e}/ppg`,"v2"))}function p(e,t){return(0,s.Q)((0,n.k)(`users/${e}/ppg`,"v2"),{program:t})}function _(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/subscriptions/hubs`,"v2"),t)}function h(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/card`,"v2"),t)}function g(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/whois`,"v2"),t)}function v(e,t){return(0,s.Q)((0,n.k)(`users/${e}/votes`,"v2"),t)}function T(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/votes_for`,"v2"),t)}function E(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/votes_from`,"v2"),t)}function S(e){return(0,s.Q)((0,n.k)(`users/${e}/following/toggle`,"v2"))}function f(e){return(0,s.Q)((0,n.k)("settings/i18n","v2"),e)}function A(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/statistics/viewcount`,"v2"),t)}function b(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/statistics/posts`,"v2"),t)}function I(e){return(0,s.Q)((0,n.k)("settings/subscription","v2"),e)}function y(e){return(0,s.Hm)((0,n.k)(`users/${e}/note`,"v2"))}function w(e,t){return(0,s.Q)((0,n.k)(`users/${e}/note`,"v2"),t)}function P(e){return(0,s.Q)((0,n.k)(`users/${e}/invites`,"v2"))}function C(e){return(0,s.Q)((0,n.k)(`users/${e}/issue_invite`,"v2"))}function k(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/followed`,"v2"),t)}function L(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/followers`,"v2"),t)}function N(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/occupation`,"v2"),t)}function O(e){return(0,s.Hm)((0,n.k)(`settings/${e}/form`,"v2"))}function R(e){return(0,s.Hm)((0,n.k)(`settings/oauth/${e}`,"v2"))}function M(e){return(0,s.Q)((0,n.k)(`settings/oauth/delete/${e}`,"v2"))}function U(e){return(0,s.Q)((0,n.k)("settings/oauth/clients","v2"),e)}function D(e,t,i){return(0,s.Q)((0,n.k)(`settings/oauth/clients/${t}/${i}`,"v2"),e)}function B(e){return(0,s.Hm)((0,n.k)(`settings/oauth/clients/${e}/form`,"v2"))}function H(e){return(0,s.Q)((0,n.k)("settings/use_markdown","v2"),e)}function F(){return(0,s.Hm)((0,n.k)("refs/user_contact_types","v2"))}function V(){return(0,s.Hm)((0,n.k)("refs/geo","v2"))}function $(e){return(0,s.Hm)((0,n.k)("refs/geo","v2"),{countryId:e})}function W(e,t){return(0,s.Hm)((0,n.k)("refs/geo","v2"),{countryId:e,regionId:t})}function G(){return(0,s.Hm)((0,n.k)("refs/specializations","v2"))}function x(){return(0,s.Hm)((0,n.k)("refs/currencies","v2"))}function q(){return(0,s.Hm)((0,n.k)("refs/qualifications","v2"))}function Y(e){return(0,s.Hm)((0,n.k)("suggest/skills","v2"),e)}function Z(e){return(0,s.Hm)((0,n.k)("suggest/skills/similar","v2"),{skills:e})}function j(e,t){return(0,s.Q)((0,n.k)(`settings/${t}`,"v2"),e)}function K(e){return(0,s.Q)((0,n.k)("upload","v2"),e)}function z(){return(0,s.Hm)((0,n.k)("statistics/users","v2"))}function Q(){return(0,s.Hm)((0,n.k)("karma-stats"))}function X(e,t){return(0,s.Q)((0,n.k)(`users/${e}/employee_requests`,"v2"),t)}function J(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/employee_requests/${t}`,"v2"))}function ee(e,t){return(0,s.ZI)((0,n.k)(`users/${e}/employee_requests/${t}/`,"v2"))}function te(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/comments/votes`,"v2"),t)}function ie(e,t){return(0,s.Hm)((0,n.k)(`users/${e}/posts/votes`,"v2"),t)}function se(e,t){return(0,s.Q)((0,n.k)(`users/${e}/blacklist/add`,"v2"),t)}function ne(e){return(0,s.Q)((0,n.k)(`users/${e}/blacklist/toggle`,"v2"),{})}function ae(e){return(0,s.Hm)((0,n.k)(`users/${e}/similar`,"v2"))}},23117:(e,t,i)=>{"use strict";i.d(t,{YC:()=>r,u9:()=>a,uN:()=>o});var s=i(86409),n=i(10707);function a(){return(0,s.Hm)((0,n.k)("votes/reasons","v2"))}function o(){return(0,s.Hm)((0,n.k)("votes/thread_reasons","v2"))}function r(){return(0,s.Hm)((0,n.k)("votes/user_reasons","v2"))}},39771:(e,t,i)=>{"use strict";i.d(t,{Z:()=>I});var s=i(66252),n=i(62931),a=i(22201),o=i(67476),r=i(91935),l=i(38002);function c(e={},t={},i={}){let s=[];const{hubs:n}=e;return s=s.concat(n?n.map((e=>`h_${e.alias}`)):[]),i.params.hubName&&t&&s.push(`h_${t.alias}`),s}function u(e={},t={},i={}){let s=[];const{flows:n}=e;return s=s.concat(n?n.map((e=>`f_${e.alias}`)):[]),i.params.hubName&&t.flow&&t.flow.alias&&s.push(`f_${t.flow.alias}`),i.params.flowName&&s.push(`f_${i.params.flowName}`),s}var d=i(36134),m=i(89109),p=i(58748),_=i(84183),h=i(72073),g=i(67267);let v="1";function T(e){return(parseInt(e,10)+1).toString()}function E(e=""){const t=v;return v=T(v),t===v&&g.Z.notifyException("Strings should be unique",{extra:{baseString:v}}),e+v}var S=i(99691);const f=["id"],A={__name:"adfox-banner",props:{adfoxId:{type:String,required:!0},divId:{type:String,default:E("adbanner")},variant:{type:String,required:!0,validator:(0,S.HZ)(["half-page","leaderboard","medium-rectangle","narrow","medium-narrow","menu-content","menu-navigation","above-header"])},params:{type:Object,required:!0},inMenu:Boolean},setup(e){const t=e,i=(0,a.yj)(),g=(0,n.iH)(null),v=(0,n.iH)(E(t.divId)),T=(0,n.iH)(!1),S=(0,n.iH)(!1),A=(0,n.iH)(r.T[t.variant]),b=(0,n.iH)(!1),I=(0,p.g)(),y=(0,h.X)(),w=(0,_.s)(),{device:P}=(0,o.Jk)(w),{langOptions:C}=(0,d.Q)(),k=(0,s.Fl)((()=>!S.value)),L=(0,s.Fl)((()=>i.params.id)),N=(0,s.Fl)((()=>i.params.hubName)),O=(0,s.Fl)((()=>N.value&&y.getHubByAlias(N.value))),R=(0,s.Fl)((()=>L.value&&I.getArticleById(L.value))),M=(0,s.Fl)((()=>`adfox_${t.adfoxId}`)),U=(0,s.Fl)((()=>{let e="default";return i.matched.forEach((t=>{t.meta&&t.meta.pageType&&(e=t.meta.pageType)})),e})),D=(0,s.Fl)((()=>{if(N.value)return!O.value||!O.value.flow;if(L.value&&R.value){var e,i;const{isCorporative:s}=R.value;return!(t.inMenu||s&&1===R.value.hubs.length)&&(R.value&&!(null!==(e=R.value)&&void 0!==e&&null!==(i=e.flows)&&void 0!==i&&i.length))}return!1})),B=(0,s.Fl)((()=>b.value?"250px":"auto"));function H(e){A.value=e}function F(){window.yaContextCb.push((()=>{const e=u(R.value,O.value,i),s=c(R.value,O.value,i),n={puid1:U.value,puid2:e.join(":"),puid3:s.join(":"),puid4:(0,m.c)().hasAcceptableAdsFilter?"yes":"no",puid5:i.path,puid6:"en"===C.value.fl?"en":"ru"};Ya.adfoxCode.createAdaptive({ownerId:406261,containerId:M.value,params:{...t.params,...n},lazyLoad:{fetchMargin:20},onLoad:e=>{b.value="banner.transfer"===e.bundleName,H(r.T[t.variant])},onStub:()=>{S.value=!0,H("0px")}},["desktop","tablet","phone"],{tabletWidth:1024,phoneWidth:768})}))}async function V(){F(),T.value=!0}async function $(e,t){JSON.stringify(e)===JSON.stringify(t)||T.value||V()}function W(e){H(e?r.T[t.variant]:"0px")}return(0,s.YP)(P,(()=>{var e;null!==(e=window.Ya)&&void 0!==e&&e.adfoxCode&&window.Ya.adfoxCode.reload()})),(0,s.YP)(k,W),(0,s.YP)((()=>{var e;return null===(e=R.value)||void 0===e?void 0:e.flows}),$,{once:!0}),(0,s.YP)((()=>{var e;return null===(e=O.value)||void 0===e?void 0:e.flow}),$,{once:!0}),(0,s.bv)((()=>{window.bus.on("yandex-error",(()=>{S.value=!0})),D.value||(W(k.value),V())})),(t,i)=>((0,s.wg)(),(0,s.j4)(l.Z,{"desktop-height":A.value,"leaderboard-height":B.value,variant:e.variant,visible:k.value},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.iD)("div",{id:M.value,key:v.value,ref_key:"bannerRef",ref:g,class:"banner-target"},null,8,f))])),_:1},8,["desktop-height","leaderboard-height","variant","visible"]))}},b=A,I=b},20701:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252);const n={class:"tm-align-center"},a={key:0,class:"tm-align-center__start"},o={class:"tm-align-center__content"},r={key:1,class:"tm-align-center__end"};function l(e,t,i,l,c,u){return(0,s.wg)(),(0,s.iD)("span",n,[e.$slots.start?((0,s.wg)(),(0,s.iD)("span",a,[(0,s.WI)(e.$slots,"start")])):(0,s.kq)("",!0),(0,s._)("span",o,[(0,s.WI)(e.$slots,"default")]),e.$slots.end?((0,s.wg)(),(0,s.iD)("span",r,[(0,s.WI)(e.$slots,"end")])):(0,s.kq)("",!0)])}const c={name:"TMAlignCenter"};var u=i(83744);const d=(0,u.Z)(c,[["render",l]]),m=d},37077:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_e});var s=i(66252);const n={class:"tm-article-blocks"},a={key:1,class:"tm-article-blocks__comments"};function o(e,t,i,o,r,l){const c=(0,s.up)("TMDigestSubscriptionWrapper"),u=(0,s.up)("TMPlaceholder"),d=(0,s.up)("TMCommentsWrapper"),m=(0,s.up)("TMArticlePageComments");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(c,{"source-hubs":l.sourceHubs,type:l.digestType},null,8,["source-hubs","type"]),(0,s.WI)(e.$slots,"beforeComments"),i.isLoading||!i.article?((0,s.wg)(),(0,s.j4)(d,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{times:3,type:"comment"})])),_:1})):((0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(m,{article:i.article},null,8,["article"])])),(0,s.WI)(e.$slots,"afterComments")])}const r={id:"publication-comments",class:"tm-article-page-comments"};function l(e,t,i,n,a,o){const l=(0,s.up)("TMArticleCommentsDisabledNotice"),c=(0,s.up)("TMArticleCommentsServerRendered"),u=(0,s.up)("TMArticleCommentsOffloaded"),d=(0,s.up)("TMHeightLimiter"),m=(0,s.up)("TMArticleCommentsClientRendered"),p=(0,s.up)("TMArticleCommentsCounterButton"),_=(0,s.up)("TMIntersectionSwitch");return(0,s.wg)(),(0,s.iD)("div",r,[o.commentsEnabled?o.shouldSsrArticleComments?((0,s.wg)(),(0,s.j4)(c,{key:1,"article-id":o.articleId,"can-cache-comments":o.canCacheComments,"is-post":o.isPost},null,8,["article-id","can-cache-comments","is-post"])):((0,s.wg)(),(0,s.j4)(_,{key:2,"root-margin":"1000px 0px 1000px 0px",onIntersected:o.onIntersected},{default:(0,s.w5)((()=>[n.canStreamComments?((0,s.wg)(),(0,s.j4)(d,{key:0,"expand-title":e.msg("COMMENTS_SHOW_ALL",{count:i.article.statistics.commentsCount}),"max-height":a.isExpandedLimiter?null:o.commentsInitialHeight},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"article-id":o.articleId,"can-cache-comments":o.canCacheComments,ssr:o.shouldSsrArticleComments,onExpandLimiter:t[0]||(t[0]=e=>a.isExpandedLimiter=!0)},null,8,["article-id","can-cache-comments","ssr"])])),_:1},8,["expand-title","max-height"])):((0,s.wg)(),(0,s.j4)(m,{key:1,article:i.article,onLoaded:o.onCommentsLoaded},null,8,["article","onLoaded"]))])),fallback:(0,s.w5)((()=>[(0,s.Wm)(p,{article:i.article},null,8,["article"])])),_:1},8,["onIntersected"])):((0,s.wg)(),(0,s.j4)(l,{key:0,reason:i.article.commentsEnabled.reason,onToggleCommentsState:o.enableArticleComments},null,8,["reason","onToggleCommentsState"]))])}var c=i(62931),u=i(22201),d=i(23002),m=i(60345);function p(e,t,i,n,a,o){const r=(0,s.up)("TMArticleCommentsCounterLink"),l=(0,s.Q2)("hotkey");return(0,s.wy)(((0,s.wg)(),(0,s.j4)(r,{ref:"commentsLink",article:i.article,class:"tm-article-comments-counter-button","comments-count":i.article.statistics.commentsCount,"unread-count":i.article.relatedData&&i.article.relatedData.unreadCommentsCount,variant:"button"},null,8,["article","comments-count","unread-count"])),[[l,o.hotkeys,void 0,{stop:!0}]])}var _=i(52037);const h={name:"TMArticleCommentsCounterButton",components:{TMArticleCommentsCounterLink:_.Z},props:{article:{type:Object,required:!0}},computed:{hotkeys(){return{c:this.handleCommentsKey}}},methods:{handleCommentsKey(){this.$refs.commentsLink.click()}}};var g=i(83744);const v=(0,g.Z)(h,[["render",p]]),T=v;var E=i(71197),S=i(55500),f=i(51737),A=i(39520),b=i(73313);const I={class:"tm-article-comments-client-rendered"},y=Object.assign({name:"TMArticleCommentsClientRendered"},{__name:"article-comments-client-rendered",props:{article:{type:Object,required:!0}},emits:["loaded"],setup(e,{emit:t}){const i=e,n=t,a=(0,c.iH)(!0),o=(0,s.Fl)((()=>i.article.statistics.commentsCount<=A.Hx)),r=(0,d.pm)(),l=(0,u.yj)(),p=(0,s.Fl)((()=>(0,b.E)(l.name)));async function _(){const e=(0,f.ve)(l);try{a.value=!0,await(0,S.X)().getComments({articleId:i.article.id,isPost:p.value,nocount:e}),e||g(),n("loaded")}catch(t){r.error(t.message)}finally{a.value=!1}}(0,s.bv)((()=>{o.value&&_()}));const h=(0,E.q)();function g(){h.isLoggedIn&&(0,S.X)().readPublicationComments(i.article.id,p.value).then(h.loadUpdates)}return(t,i)=>((0,s.wg)(),(0,s.iD)("div",I,[o.value?((0,s.wg)(),(0,s.j4)(m.Z,{key:0,"article-id":e.article.id,"is-loading":a.value},null,8,["article-id","is-loading"])):((0,s.wg)(),(0,s.j4)(T,{key:1,article:e.article},null,8,["article"]))]))}}),w=y,P=w;var C=i(97352),k=i(96127);function L(e,t,i,n,a,o){const r=(0,s.up)("TMArticleComments");return(0,s.wg)(),(0,s.j4)(r,{"article-id":i.articleId,"cache-key":i.canCacheComments?o.cacheKey:null,"is-loading":e.isLoading},null,8,["article-id","cache-key","is-loading"])}var N=i(21805),O=i(43004);let R=null;const M={name:"TMArticleCommentsServerRendered",components:{TMArticleComments:m.Z},props:{articleId:{type:String,required:!0},canCacheComments:{type:Boolean,default:!1},isPost:{type:Boolean,required:!0}},setup(e){const t=(0,u.yj)(),i=(0,E.q)(),s=(0,S.X)();return(0,N.w)((()=>{const n=(0,b.E)(t.name),a=[];return i.isLoggedIn?a.push(s.getComments({articleId:e.articleId,nocount:!0,isPost:n})):a.push(s.getGuestComments(e.articleId,n)),Promise.all(a)}))},computed:{cacheKey(){return(0,O.e)().getCommentsCacheKey(this.articleId)}},mounted(){this.spyLastNewCommentIsRead()},unmounted(){R&&R.disconnect()},methods:{readVisitorComments(){(0,f.ev)(this.$route)||(0,E.q)().isLoggedIn&&(0,S.X)().readPublicationComments(this.articleId,this.isPost)},async spyLastNewCommentIsRead(){R=new IntersectionObserver((([e])=>{e.isIntersecting&&this.readVisitorComments()}),{root:null,rootMargin:"0px",threshold:1}),await(0,s.Y3)();const e=document.querySelectorAll(".tm-comment__header_is-new"),t=e[e.length-1],i=null===t||void 0===t?void 0:t.parentElement;i&&R.observe(i)}}},U=(0,g.Z)(M,[["render",L]]),D=U;var B=i(56612);const H={class:"tm-height-limiter"},F={key:0,class:"tm-height-limiter__expand","data-height-limiter":""},V=["textContent"];function $(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("div",H,[(0,s._)("div",{class:"tm-height-limiter__wrapper",style:(0,B.j5)({maxHeight:o.currentPixelsHeight,overflow:o.currentPixelsHeight?"hidden":null})},[(0,s.WI)(e.$slots,"default")],4),a.currentHeight?((0,s.wg)(),(0,s.iD)("div",F,[(0,s._)("button",{class:"tm-height-limiter__expand-button",onClick:t[0]||(t[0]=e=>a.currentHeight=null),textContent:(0,B.zw)(i.expandTitle)},null,8,V)])):(0,s.kq)("",!0)])}const W={name:"TMHeightLimiter",props:{maxHeight:{type:Number,default:null},expandTitle:{type:String,required:!0}},data(){return{currentHeight:this.maxHeight}},computed:{currentPixelsHeight(){return this.currentHeight?`${this.currentHeight}px`:null}},watch:{maxHeight(){this.currentHeight=this.maxHeight}}},G=(0,g.Z)(W,[["render",$]]),x=G,q={ref:"container"};function Y(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("div",q,[n.hasIntersected?(0,s.WI)(e.$slots,"default",{key:0}):(0,s.WI)(e.$slots,"fallback",{key:1})],512)}var Z=i(93356);const j={name:"TMIntersectionSwitch",props:{rootMargin:{type:String,default:"0px 0px 0px 0px"}},emits:["intersected"],setup(e,{emit:t}){const i=(0,c.iH)(null),n=(0,c.iH)(!1);let a;return(0,s.bv)((()=>{a=new IntersectionObserver((([{isIntersecting:e}])=>{e&&!n.value&&(n.value=e,t("intersected"))}),{rootMargin:e.rootMargin}),a.observe(i.value)})),(0,Z.IY)((()=>{a&&a.disconnect()})),{container:i,hasIntersected:n}}},K=(0,g.Z)(j,[["render",Y]]),z=K;var Q=i(89554),X=i(58748),J=i(21331),ee=i(48070),te=i(87575),ie=i(30121),se=i(25934),ne=i(92710);const ae={name:"TMArticlePageComments",components:{TMArticleCommentsCounterButton:T,TMArticleCommentsDisabledNotice:C.Z,TMArticleCommentsServerRendered:D,TMArticleCommentsClientRendered:P,TMArticleCommentsOffloaded:k.Z,TMHeightLimiter:x,TMIntersectionSwitch:z},props:{article:{type:Object,required:!0}},setup(e){const t=(0,Q.f)(),i="visited_articles",s=t.get(i)||"";function n(e){t.set(i,e,{expires:(0,J.ot)(30)})}function a(){t.remove(i)}const o=(0,ne.getFeatureFlag)("COMMENTS_CACHING_ENABLED"),r=o&&e.article&&e.article.statistics.commentsCount>=A.Cl;return{visitedArticlesCookie:s,setVisitedArticles:n,removeVisitedArticles:a,commentsStreamingEnabled:o,canStreamComments:r}},data(){return{isExpandedLimiter:!1}},computed:{articleId(){return this.article.id},shouldSsrArticleComments(){const e=(0,X.g)();return(this.commentsStreamingEnabled||!(this.article.statistics.commentsCount>A.Hx))&&e.shouldSsrComments(this.articleId)},commentsInitialHeight(){return this.shouldSsrArticleComments||this.article.statistics.commentsCount<=A.Yi?null:A.ZZ},canCacheComments(){return!(!this.article||this.article.statistics.commentsCount<A.Ng||(0,E.q)().isLoggedIn)&&this.$getFeatureFlag("COMMENTS_CACHING_ENABLED")},cacheKey(){return this.canCacheComments?(0,O.e)().getCommentsCacheKey(this.articleId):null},isPost(){return(0,b.E)(this.$route.name)},commentsEnabled(){return!!this.isPost||this.article&&this.article.commentsEnabled.status}},mounted(){if((0,f.ev)(this.$route)){if(!this.isPost){(0,f._6)(this.$route);const e=this.$route.meta.isNews?ee.VU.NEWS_COMMENTS:ee.VU.ARTICLE_COMMENTS;this.$router.replace({name:e,hash:this.$route.hash})}(0,te.dY)(this.$route)}"#publication-comments"===this.$route.hash&&(this.scheduleScrollToCommentsBlock(),this.$router.replace({...this.$route,hash:""})),null===this.commentsInitialHeight&&(this.isExpandedLimiter=!0)},beforeUnmount(){this.removeVisitedArticle(),(0,X.g)().removeSsrCommentsArticleId(this.articleId)},methods:{scheduleScrollToCommentsBlock(){setTimeout((()=>{const e=document.getElementById("publication-comments");e&&(0,ie.kI)(e)}),300)},enableArticleComments(){return(0,se.oc)(this.articleId).then((()=>(0,X.g)().setArticleCommentsStatus(this.articleId,!this.article.commentsEnabled.status))).catch((e=>this.$toast.error(e.message)))},onCommentsLoaded(){this.saveVisitedArticle()},onIntersected(){this.saveVisitedArticle()},saveVisitedArticle(){const e=this.visitedArticlesCookie,t=e?e.split(":"):[],i=Array.from(new Set([this.articleId,...t])),s=i.slice(0,10).join(":");this.setVisitedArticles(s)},removeVisitedArticle(){const e=this.visitedArticlesCookie,t=e.split(":"),i=new Set(t);i.delete(this.articleId);const s=Array.from(i).join(":");s?this.setVisitedArticles(s):this.removeVisitedArticles()}}},oe=(0,g.Z)(ae,[["render",l]]),re=oe;var le=i(43673),ce=i(17338),ue=i(31596);const de=["career","hr_management","devrel","community_management","hdisplay_adv","conversion","context","branding","business_models"],me={name:"TMArticleBlocks",components:{TMArticlePageComments:re,TMPlaceholder:ue.Z,TMCommentsWrapper:le.Z,TMDigestSubscriptionWrapper:ce.Z},props:{article:{type:Object,default:()=>null},isLoading:{type:Boolean,required:!0}},computed:{digestType(){var e;const t=null===(e=this.article)||void 0===e?void 0:e.hubs.some((e=>de.includes(e.alias)));return t?"business":"editoral"},sourceHubs(){var e;return null===(e=this.article)||void 0===e?void 0:e.hubs.map((e=>e.title))}}},pe=(0,g.Z)(me,[["render",o]]),_e=pe},29157:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=i(57363),n=i(83744);const a=(0,n.Z)(s.Z,[["__scopeId","data-v-367403b9"]]),o=a},61284:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252),n=i(34750),a=i(97468),o=i(20666);const r=Object.assign({name:"TMArticleComment"},{__name:"article-comment",props:{comment:{type:Object,required:!0},isCommentControlsShown:{type:Boolean,default:!0},shouldDisplayStatus:{type:Boolean,default:!0},userPopoverEnabled:Boolean,popupToggleVisible:Boolean},setup(e){return(t,i)=>((0,s.wg)(),(0,s.j4)(a.Z,{comment:e.comment,"is-comment-controls-shown":e.isCommentControlsShown,"popup-toggle-visible":e.popupToggleVisible,"should-display-status":e.shouldDisplayStatus,"user-popover-enabled":e.userPopoverEnabled},{"comment-link":(0,s.w5)((()=>[(0,s.WI)(t.$slots,"comment-link",{},(()=>[(0,s.Wm)(n.Z,{article:e.comment.post||e.comment.publication,class:"tm-article-comment__link","comment-id":e.comment.id},{default:(0,s.w5)((()=>[(0,s.Wm)(o.Z,{"client-time":"",date:new Date(e.comment.timePublished),"is-article-format":""},null,8,["date"])])),_:1},8,["article","comment-id"])]))])),_:3},8,["comment","is-comment-controls-shown","popup-toggle-visible","should-display-status","user-popover-enabled"]))}}),l=r,c=l},52037:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(56612),a=i(62931),o=i(34750),r=i(39639),l=i(36134),c=i(19913);const u={class:"article-comments-counter-link-wrapper"},d=["title"],m=(0,s.aZ)({__name:"article-comments-counter-link",props:{article:{},commentsCount:{default:null},unreadCount:{default:null},variant:{default:"icon"},gaEvent:{default:null},roundOnMobile:{type:Boolean,default:!0}},setup(e,{expose:t}){const{msg:i}=(0,l.Q)(),m=(0,s.Fl)((()=>"button"===e.variant)),p=(0,s.Fl)((()=>m.value?i("ARTICLE_COMMENTS_COUNT",{count:e.commentsCount}):e.commentsCount));function _(){var t;"string"===typeof e.gaEvent?(0,c.IZ)(e.gaEvent):null!==(t=e.gaEvent)&&void 0!==t&&t.comment&&(0,c.IZ)(e.gaEvent.comment)}const h=(0,a.iH)();return t({click:()=>{var e;return null===(e=h.value)||void 0===e?void 0:e.click()}}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",u,[(0,s.Wm)(o.Z,{ref_key:"commentsLink",ref:h,article:e.article,class:(0,n.C_)(["article-comments-counter-link",{"button-style":m.value}]),"data-test-id":"counter-comments",onClick:_},{default:(0,s.w5)((()=>[(0,s.Wm)(r.Z,{id:"counter-comments",class:(0,n.C_)(["icon",{"icon--contrasted":m.value}]),size:"24"},null,8,["class"]),(0,s._)("span",{class:(0,n.C_)(["value",{"value--contrasted":m.value}])},(0,n.zw)(p.value),3)])),_:1},8,["article","class"]),e.unreadCount?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,ref_key:"commentsLink",ref:h,article:e.article,class:(0,n.C_)(["article-comments-counter-link",{"button-style":m.value}]),"data-test-id":"unread-count","first-unread":e.unreadCount!==e.commentsCount,onClick:_},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,n.C_)(["unread-counter",{"unread-counter--contrasted":m.value,"round-on-mobile":e.roundOnMobile}]),title:(0,a.SU)(i)("DATA_ICONS_READ_NEW_COMMENTS")},[(0,s._)("span",null,"+"+(0,n.zw)(e.unreadCount),1)],10,d)])),_:1},8,["article","class","first-unread"])):(0,s.kq)("",!0)]))}});var p=i(83744);const _=(0,p.Z)(m,[["__scopeId","data-v-a126af31"]]),h=_},34750:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252);const n=["href"];function a(e,t,i,a,o,r){const l=(0,s.up)("router-link");return r.useRegularLink?((0,s.wg)(),(0,s.iD)("a",{key:0,ref:"link",href:e.$router.resolve(r.route).href},[(0,s.WI)(e.$slots,"default")],8,n)):((0,s.wg)(),(0,s.j4)(l,{key:1,ref:"link","active-class":"","exact-active-class":"",to:r.route},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["to"]))}var o=i(73313),r=i(44383);const l={name:"TMArticleCommentsLink",props:{article:{type:Object,required:!0,validator(e){return!!(0,o.o)(e)||(!e.isCorporative||!!e.hubs&&e.hubs.some((e=>"corporative"===e.type)))}},commentId:{type:[String,Number],default:null},firstUnread:Boolean},computed:{useRegularLink(){return!!this.commentId},route(){const e=(0,r.ym)(this.article,this.langOptions.hl);return this.commentId&&(e.hash=`#comment_${this.commentId}`),this.firstUnread&&(e.hash="#first_unread"),(0,o.o)(this.article)&&(e.hash="#publication-comments"),e}},methods:{click(){this.useRegularLink?this.$el.click():this.$refs.link.$el.click()}}};var c=i(83744);const u=(0,c.Z)(l,[["render",a]]),d=u},97352:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var s=i(66252),n=i(56612);const a={class:"tm-article-comments-disabled__paragraph"},o={key:0};function r(e,t,i,r,l,c){const u=(0,s.up)("TMButtonBase"),d=(0,s.up)("TMNotice");return(0,s.wg)(),(0,s.j4)(d,{type:"neutral"},{default:(0,s.w5)((()=>[(0,s._)("p",a,[(0,s.Uk)((0,n.zw)(e.msg("ARTICLE_DISABLE_COMMENTS_MESSAGE"))+" ",1),i.reason?((0,s.wg)(),(0,s.iD)("span",o,(0,n.zw)(e.msg("ARTICLE_DISABLE_COMMENTS_MESSAGE_DETAILS",{user:i.reason.author.alias||i.reason.author.fullname,reason:i.reason.reasonHtml})),1)):(0,s.kq)("",!0)]),c.isSuperAdmin?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"tm-article-comments-disabled__button","style-size":"medium","style-type":"transparent",onClick:t[0]||(t[0]=t=>e.$emit("toggleCommentsState"))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("ARTICLE_ENABLE_COMMENTS")),1)])),_:1})):(0,s.kq)("",!0)])),_:1})}var l=i(91270),c=i(88098),u=i(71197);const d={name:"TMArticleCommentsDisabledNotice",components:{TMButtonBase:l.Z,TMNotice:c.Z},props:{reason:{required:!0,type:Object,default:null}},emits:["toggleCommentsState"],computed:{isSuperAdmin(){return(0,u.q)().isSuperAdmin}}};var m=i(83744);const p=(0,m.Z)(d,[["render",r]]),_=p},96127:(e,t,i)=>{"use strict";i.d(t,{Z:()=>$});var s=i(66252);const n={class:"tm-article-comments-offloaded"};function a(e,t,i,a,o,r){const l=(0,s.up)("TMArticleComments"),c=(0,s.up)("TMPlaceholder"),u=(0,s.up)("TMCommentsWrapper"),d=(0,s.up)("TMDeferredRender");return(0,s.wg)(),(0,s.iD)("div",n,[r.shouldUseStreaming?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[o.isStreamLoading?((0,s.wg)(),(0,s.j4)(u,{key:0,"comments-count":r.commentsCount},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{times:3,type:"comment"})])),_:1},8,["comments-count"])):((0,s.wg)(),(0,s.j4)(d,{key:1,"ready-to-hydrate":!a.isLoading||a.error,stream:o.stream,onDone:r.onStreamingDone,onError:r.onError},{fallback:(0,s.w5)((()=>[(0,s.Wm)(u,{"comments-count":r.commentsCount},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{times:3,type:"comment"})])),_:1},8,["comments-count"])])),default:(0,s.w5)((()=>[(0,s.Wm)(l,{"article-id":i.articleId,"cache-key":r.cacheKey,"is-loading":!1,onExpandLimiter:t[1]||(t[1]=t=>e.$emit("expandLimiter",t))},null,8,["article-id","cache-key"])])),tail:(0,s.w5)((()=>[(0,s.Wm)(c,{times:3,type:"comment"})])),_:1},8,["ready-to-hydrate","stream","onDone","onError"]))],64)):((0,s.wg)(),(0,s.j4)(l,{key:0,"article-id":i.articleId,"cache-key":r.cacheKey,"is-loading":a.isLoading||a.error,onExpandLimiter:t[0]||(t[0]=t=>e.$emit("expandLimiter",t)),onReadAllComments:r.readVisitorComments},null,8,["article-id","cache-key","is-loading","onReadAllComments"]))])}var o=i(62931),r=i(22201),l=i(60345),c=i(43673);const u={ref:"root",class:"tm-deferred-render"},d={id:"streaming",ref:"streamingApp"};function m(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",d,null,512),a.shouldDisplayFallback?(0,s.WI)(e.$slots,"fallback",{key:0}):(0,s.kq)("",!0),i.readyToHydrate?(0,s.kq)("",!0):(0,s.WI)(e.$slots,"tail",{key:1})],512)}var p=i(47820);function _(e,t){const i=Math.ceil(e.length/t),s=new Array(i);for(let n=i-1,a=0;n>=0;a+=t,n-=1)s[n]=e.substr(a,t);return s}class h extends Error{}function g({stream:e,onFirstChunk:t,write:i}){const s=new TextDecoder("utf-8"),n=e.getReader();let a,o=!1,r=!1;const l=()=>{o||n.cancel(),a&&a(new h("Render cancelled manually"))},c=()=>new Promise(((e,l)=>{a=e=>{r=!0,l(e)};const c=65536,u=[];let d=0,m=[],p=!1,h=!1;const g=()=>{i(m.pop()),h||(t(),h=!0)},v=()=>{0===m.length&&u.length-1>=d&&(m=_(u[d],c),d+=1)},T=()=>{r||(d===u.length&&0===m.length&&p?e():(requestAnimationFrame(T),v(),0!==m.length&&g()))},E=({done:e,value:t})=>{if(e)return o=!0,p=!0,void requestAnimationFrame(T);requestAnimationFrame((e=>{T(e),n.read().then(E).catch(a)})),u.push(s.decode(t).normalize("NFC"))};n.read().then(E).catch(a)}));return[c,l]}const v={name:"TMDeferredRender",props:{stream:{type:(0,p.Z)()?ReadableStream:Object,required:!0},readyToHydrate:{type:Boolean,default:!0}},emits:["done","error"],data(){return{rootElement:null,shouldDisplayFallback:!0,cancel:null}},mounted(){const{stream:e}=this,t=document.implementation.createHTMLDocument("comments"),[i,s]=g({stream:e,onFirstChunk:()=>{this.shouldDisplayFallback=!1;const e=t.querySelector("#streaming");this.$refs.root.replaceChild(e,this.$refs.streamingApp)},write(e){t.write(e)}});this.cancel=s,t.open(),t.write('<div id="streaming">'),i().then((()=>{t.write("</div>"),t.close(),this.rootElement=this.$refs.root.querySelector("#streaming"),this.$emit("done",this.rootElement)})).catch((e=>{e instanceof h||this.$emit("error",e)}))},beforeUnmount(){this.cancel&&this.cancel()}};var T=i(83744);const E=(0,T.Z)(v,[["render",m]]),S=E;var f=i(31596),A=i(58061),b=i(23002),I=i(92324),y=i(74735),w=i(13406),P=i(90928);function C(e,t,i){const n=(0,A.vr)({setup(){n.config.globalProperties.$toast=(0,b.pm)()},render:()=>(0,s.h)(e)});return n.use(i),n.use(t),n.use(y.ZP),n.use(I.ZP),n.mixin((0,P.Z)()),(0,w.rg)(n),(0,w.RX)(n),n}var k=i(21805);function L(e){const t=(0,s.FN)();return(0,s.Fl)((()=>{if(t)return t.appContext.config.globalProperties.$getFeatureFlag(e)}))}var N=i(58748),O=i(43004),R=i(71197),M=i(55500),U=i(35275),D=i(73313),B=i(25934);const H=!U.Qg||"fetch"in window&&"TextDecoder"in window,F={name:"TMArticleCommentsOffloaded",components:{TMCommentsWrapper:c.Z,TMPlaceholder:f.Z,TMDeferredRender:S,TMArticleComments:l.Z},props:{articleId:{type:String,required:!0},ssr:{type:Boolean,default:!1},canStreamComments:{type:Boolean,default:!0},canCacheComments:{type:Boolean,default:!1}},emits:["expandLimiter"],setup(e){const t=(0,N.g)(),i=(0,M.X)(),s=(0,R.q)(),n=(0,o.iH)(t.getArticleById(e.articleId)),a=L("COMMENTS_STREAMING_ENABLED"),l=(0,r.yj)(),{isLoading:c,error:u}=(0,k.w)((()=>{const t=(0,D.E)(l.name),o=[];return n.value.hasPinnedComments&&o.push(i.getPinnedComments(e.articleId,t)),s.isLoggedIn?o.push(i.getComments({articleId:e.articleId,isPost:t,nocount:a.value})):o.push(i.getGuestComments(e.articleId,t)),Promise.all(o)}),{allowFail:!0});return{article:n,isLoading:c,error:u,commentsStreamingEnabled:a}},data(){return{isStreamLoading:!0,stream:null,streamingFailed:!1,hasBeenMountedBefore:!1}},computed:{isPost(){return(0,D.E)(this.$route.name)},cacheKey(){return this.canCacheComments?(0,O.e)().getCommentsCacheKey(this.articleId):null},commentsCount(){return this.article&&this.article.statistics?this.article.statistics.commentsCount:null},shouldUseStreaming(){return!(!U.Qg||!this.commentsStreamingEnabled||this.hasBeenMountedBefore||this.streamingFailed)&&(this.canStreamComments&&H)}},beforeMount(){this.hasBeenMountedBefore=Boolean(this.$el),this.shouldUseStreaming?this.$watch((()=>this.isLoading),(e=>{e||this.loadCommentsStream()}),{immediate:!0}):this.$watch((()=>this.isLoading),(e=>{e||this.readVisitorComments()}),{immediate:!0})},methods:{loadCommentsStream(){this.isStreamLoading=!0;const{articleId:e,isPost:t,cacheKey:i,langOptions:{hl:s}}=this;(0,B.nE)({articleId:e,cacheKey:i,hl:s,isPost:t}).then((e=>{this.stream=e})).catch((()=>{this.streamingFailed=!0})).finally((()=>{this.isStreamLoading=!1}))},onStreamingDone(e){this.readVisitorComments();const t=C({render:()=>(0,s.h)(l.Z,{articleId:this.articleId,cacheKey:this.cacheKey,onExpandLimiter:e=>this.$emit("expandLimiter",e)})},this.$router);t.mount(e)},onError(e){throw this.$toast.error(this.msg("COMMENT_RENDER_FAILED")),e},readVisitorComments(){const e=(0,R.q)();e.isLoggedIn&&(0,M.X)().readPublicationComments(this.articleId,this.isPost).then(e.loadUpdates)}}},V=(0,T.Z)(F,[["render",a]]),$=V},60345:(e,t,i)=>{"use strict";i.d(t,{Z:()=>be});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){const l=(0,s.up)("TMAdministrationLinks"),c=(0,s.up)("TMRssButton"),u=(0,s.up)("TMArticleSubscriptionControls"),d=(0,s.up)("TMArticleCommentsUfoNotice"),m=(0,s.up)("TMCommentsNavigation"),p=(0,s.up)("TMComments"),_=(0,s.up)("TMServerCache");return(0,s.wg)(),(0,s.j4)(_,{"cache-key":i.cacheKey,"read-only":a.isLoggedIn,"write-only":a.isStreaming},{default:(0,s.w5)((()=>[(0,s._)("div",{ref:"commentsRef",class:(0,n.C_)(["tm-article-comments",{"tm-article-comments_without-removed":o.isRemovedCommentsHidden}]),"data-test-id":"article-comments"},[(0,s.Wm)(p,{"can-pin-unpin-comment":r.canPinUnpinComment,"comment-component":e.$options.components.TMArticleComment,"comment-submit-action":r.commentSubmitAction,comments:r.comments,"comments-count":r.commentsCount,"complaint-action":a.canSendComplaint?r.complaintAction:null,"favorite-action":r.favoriteAction,"get-comment-link":r.getCommentLink,"is-loading":i.isLoading,"is-post":r.isPost,notice:r.noticeData,"pinned-comments":r.pinnedComments,"show-moderation-controls":r.showModerationControls,"vote-action":r.voteAction,onCommentDelete:r.onCommentDelete,onExpandLimiter:t[1]||(t[1]=t=>e.$emit("expandLimiter",t)),onPinUnpinComment:r.pinUnpinComment},{headerAside:(0,s.w5)((()=>[a.isLoggedIn&&a.isSuperAdmin?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"tm-article-comments__administration-links","dropdown-align":"center",links:r.commentsAdministrationsLinks,variant:"simple"},null,8,["links"])):(0,s.kq)("",!0),r.isPost?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:1,variant:"comments-header"})),!i.isLoading&&a.isLoggedIn?((0,s.wg)(),(0,s.j4)(u,{key:2,"article-id":i.articleId,class:"tm-article-comments__subscription","is-post":r.isPost},null,8,["article-id","is-post"])):(0,s.kq)("",!0)])),body:(0,s.w5)((()=>[r.article&&r.article.rulesRemindEnabled?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"tm-article-comments__ufo-notice"})):(0,s.kq)("",!0)])),afterComments:(0,s.w5)((()=>[a.isLoggedIn?((0,s.wg)(),(0,s.j4)(m,{key:0,comments:r.comments,"load-action":r.updateCommentsAction,onReadAllComments:t[0]||(t[0]=t=>e.$emit("readAllComments")),onReadComment:r.onReadComment},null,8,["comments","load-action","onReadComment"])):(0,s.kq)("",!0)])),_:1},8,["can-pin-unpin-comment","comment-component","comment-submit-action","comments","comments-count","complaint-action","favorite-action","get-comment-link","is-loading","is-post","notice","pinned-comments","show-moderation-controls","vote-action","onCommentDelete","onPinUnpinComment"])],2)])),_:1},8,["cache-key","read-only","write-only"])}var o=i(62931),r=i(67476),l=i(61284);const c={class:"tm-ufo-notice__content"},u=["innerHTML"],d=["innerHTML"];function m(e,t,i,a,o,r){const l=(0,s.up)("TMSvgImg"),m=(0,s.up)("TMNotice");return(0,s.wg)(),(0,s.j4)(m,{type:"info"},{icon:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"info",class:"tm-ufo-notice__icon",title:"info"})])),default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s._)("p",{class:"tm-ufo-notice__intro",innerHTML:e.msg("ARTICLE_COMMENTS_UFO_CARE_NOTICE")},null,8,u),(0,s._)("details",null,[(0,s._)("summary",null,(0,n.zw)(e.msg("ARTICLE_COMMENTS_UFO_CARE_SUMMARY_TITLE")),1),(0,s._)("div",{class:"tm-ufo-notice__spoiler-text",innerHTML:e.msg("ARTICLE_COMMENTS_UFO_CARE_DETAILS")},null,8,d)])])])),_:1})}var p=i(88098),_=i(39639);const h={name:"TMArticleCommentsUfoNotice",components:{TMNotice:p.Z,TMSvgImg:_.Z}};var g=i(83744);const v=(0,g.Z)(h,[["render",m]]),T=v;var E=i(25191);function S(){let e=!1;const t=[];return{getBuffer(){return t},push(i){const s="string"===typeof i;e&&s?t[t.length-1]+=i:t.push(i),e=s}}}function f(e,t){for(let i=0;i<e.length;i+=1){const s=e[i];"string"===typeof s?t.push(s):f(s,t)}}const A={name:"TMServerCache",props:{cacheKey:{type:String,default:null},writeOnly:Boolean,readOnly:{type:Boolean,default:!1}},setup(e,{attrs:t}){const i=(0,s.Rr)(),n=(0,s.FN)(),a=n.appContext.config.globalProperties.$cache,o="undefined"===typeof window,r={...t};let l=Promise.resolve();return o&&(e.cacheKey&&!e.writeOnly&&(l=a.get(e.cacheKey).then((e=>{e&&(r.innerHTML=e)}))),l.then((()=>{if(!r.innerHTML){const t=[],{getBuffer:s,push:o}=S();(0,E.zI)(i,"default",{},null,o,n.parent),f(s(),t),r["data-server-rendered"]="true";const l=t.join("");e.cacheKey&&!e.readOnly&&a.set(e.cacheKey,l),r.innerHTML=l}}))),(0,s.vl)((()=>l)),()=>(0,s.h)("div",r,o?void 0:i.default())}},b=A,I=b;var y=i(58061);const w={class:"tm-article-subscription-controls"},P=["title"],C={class:"tm-article-subscription-controls__checkbox"},k={class:"tm-article-subscription-controls__checkbox"},L={class:"tm-article-subscription-controls__submit"};function N(e,t,i,a,o,r){const l=(0,s.up)("TMSvgImg"),c=(0,s.up)("TMLabeledCheckbox"),u=(0,s.up)("TMButtonBase"),d=(0,s.up)("TMPopup"),m=(0,s.up)("TMArticleSubscriptionHotkeys");return(0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("button",{class:(0,n.C_)(["tm-article-subscription-controls__button",{"tm-article-subscription-controls__button_active":r.isSubscribed}]),title:e.msg("ARTICLE_SUBSCRIBE_TITLE"),onClick:t[0]||(t[0]=(...e)=>r.openModal&&r.openModal(...e))},[(0,s.Wm)(l,{id:r.icon,size:"24",title:e.msg("ARTICLE_SUBSCRIBE_TITLE")},null,8,["id","title"])],10,P),o.modalVisible?((0,s.wg)(),(0,s.j4)(d,{key:0,title:e.msg("ARTICLE_SUBSCRIBE_TITLE"),onClose:t[4]||(t[4]=e=>o.modalVisible=!1)},{default:(0,s.w5)((()=>[(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,y.iM)(((...e)=>r.onSubmit&&r.onSubmit(...e)),["prevent"]))},[(0,s._)("div",C,[(0,s.Wm)(c,{modelValue:o.form.tracker,"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.tracker=e),name:"subscription_tracker"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("ARTICLE_SUBSCRIBE_TRACKER")),1)])),_:1},8,["modelValue"])]),(0,s._)("div",k,[(0,s.Wm)(c,{modelValue:o.form.email,"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.email=e),name:"subscription_email"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("ARTICLE_SUBSCRIBE_EMAIL")),1)])),_:1},8,["modelValue"])]),(0,s._)("div",L,[(0,s.Wm)(u,{"style-size":"large","style-type":"solid",onClick:r.onSubmit},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("ARTICLE_SUBSCRIBE_SAVE")),1)])),_:1},8,["onClick"])])],32)])),_:1},8,["title"])):(0,s.kq)("",!0),(0,s.Wm)(m,{"article-id":i.articleId},null,8,["article-id"])])}function O(e,t,i,n,a,o){const r=(0,s.Q2)("hotkey");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",null,null,512)),[[r,o.hotkeys,void 0,{stop:!0}]])}var R=i(58748),M=i(73313);const U={name:"TMArticleSubscriptionHotkeys",props:{articleId:{type:[String,Number],required:!0}},computed:{isPost(){return(0,M.E)(this.$route.name)},hotkeys(){return{t:()=>this.toggleTrackerSubscription({toggleTracker:!0}),m:()=>this.toggleTrackerSubscription({toggleEmail:!0})}},isSubscribedToTracker(){return(0,R.g)().isSubscribedToTracker(this.articleId)},isSubscribedToEmail(){return(0,R.g)().isSubscribedToEmail(this.articleId)}},methods:{toggleTrackerSubscription({toggleTracker:e,toggleEmail:t}){this.form={tracker:e?!this.isSubscribedToTracker:this.isSubscribedToTracker,email:t?!this.isSubscribedToEmail:this.isSubscribedToEmail},(0,R.g)().toggleSubscriptionStatus({articleId:this.articleId,...this.form,isPost:this.isPost}).then((()=>{let i;e&&(i=this.isSubscribedToTracker?this.msg("ARTICLE_SUBSCRIBE_TRACKER_SUCCESS_VIA_TRACKER"):this.msg("ARTICLE_UNSUBSCRIBE_TRACKER_SUCCESS_VIA_TRACKER")),t&&(i=this.isSubscribedToEmail?this.msg("ARTICLE_SUBSCRIBE_TRACKER_SUCCESS_VIA_EMAIL"):this.msg("ARTICLE_UNSUBSCRIBE_TRACKER_SUCCESS_VIA_EMAIL")),this.$toast.success(i)})).catch((e=>{this.$toast.error(e.message)}))}}},D=(0,g.Z)(U,[["render",O]]),B=D;var H=i(91270),F=i(89734),V=i(61897);const $={name:"TMArticleSubscriptionControls",components:{TMPopup:V.Z,TMSvgImg:_.Z,TMLabeledCheckbox:F.Z,TMButtonBase:H.Z,TMArticleSubscriptionHotkeys:B},props:{articleId:{type:[String,Number],required:!0},isPost:{type:Boolean,required:!0}},data(){return{modalVisible:!1,form:null}},computed:{isSubscribedToTracker(){return(0,R.g)().isSubscribedToTracker(this.articleId)},isSubscribedToEmail(){return(0,R.g)().isSubscribedToEmail(this.articleId)},isSubscribed(){return this.isSubscribedToTracker||this.isSubscribedToEmail},icon(){return this.isSubscribed?"notifications-filled":"notifications"}},methods:{openModal(){this.form={tracker:this.isSubscribedToTracker,email:this.isSubscribedToEmail},this.modalVisible=!0},onSubmit(){(0,R.g)().toggleSubscriptionStatus({articleId:this.articleId,isPost:this.isPost,...this.form}).catch((e=>{this.$toast.error(e.message)})),this.modalVisible=!1}}},W=(0,g.Z)($,[["render",N]]),G=W;var x=i(26496);const q=["title"],Y={class:"tm-comment-navigation__wrapper"},Z=["title"],j=["title"],K=["title"];function z(e,t,i,a,o,r){const l=(0,s.up)("TMRefreshserCommentsIcon"),c=(0,s.up)("TMRefreshserCommentsUpIcon"),u=(0,s.Q2)("hotkey");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-comment-navigation tm-comment-navigation__block",e.showCounter])},[(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",{class:"tm-comment-navigation__button tm-comment-navigation__button_refresh",title:e.msg("UPDATE_COMMENTS"),onClick:t[1]||(t[1]=(...t)=>e.updateComments&&e.updateComments(...t))},[(0,s.Wm)(l,{class:(0,n.C_)(["tm-comment-navigation__icon tm-comment-navigation__icon_refresh",{"tm-comment-navigation__icon_loading":!e.refresherFallback&&e.isLoadingNewComments}]),onFallbackStatusChange:t[0]||(t[0]=t=>e.refresherFallback=t)},null,8,["class"])],8,q)),[[y.F8,!e.hasUnreadComments],[u,{r:e.updateComments},void 0,{stop:!0}]]),(0,s.wy)((0,s._)("div",Y,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",{class:"tm-comment-navigation__button",title:e.msg("GO_TO_PREV_COMMENT"),type:"button",onClick:t[2]||(t[2]=(...t)=>e.goToPrevComment&&e.goToPrevComment(...t))},[(0,s.Wm)(c,{class:"tm-comment-navigation__icon tm-comment-navigation__icon__up"})],8,Z)),[[u,{k:e.goToPrevComment},void 0,{stop:!0}]]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",{class:"tm-comment-navigation__counter",title:e.msg("GO_TO_FIRST_UNREAD_COMMENT"),type:"button",onClick:t[3]||(t[3]=(...t)=>e.readFirstUnreadCommentThrottled&&e.readFirstUnreadCommentThrottled(...t))},[(0,s.Uk)((0,n.zw)(e.unreadCommentIds.length),1)],8,j)),[[u,{f:e.readFirstUnreadCommentThrottled},void 0,{stop:!0}]]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",{class:"tm-comment-navigation__button",title:e.msg("GO_TO_NEXT_COMMENT"),type:"button",onClick:t[4]||(t[4]=(...t)=>e.goToNextComment&&e.goToNextComment(...t))},[(0,s.Wm)(c,{class:"tm-comment-navigation__icon tm-comment-navigation__icon_down"})],8,K)),[[u,{j:e.goToNextComment},void 0,{stop:!0}]])],512),[[y.F8,e.hasUnreadComments]])],2)}var Q=i(93096),X=i.n(Q),J=i(57740),ee=i(59545),te=i(95865),ie=i(87575);const se=(0,ee.Rd)((()=>i.e(9859).then(i.bind(i,97086))),(()=>(0,s.h)(J.Z,{messageKey:"UPDATE_COMMENTS"}))),ne=(0,ee.Rd)((()=>i.e(1325).then(i.bind(i,41325))),(()=>(0,s.h)(J.Z,{messageKey:"UPDATE_COMMENTS"}))),ae={name:"TMCommentsNavigation",components:{FallbackComponent:J.Z,TMRefreshserCommentsIcon:ne,TMRefreshserCommentsUpIcon:se},props:{comments:{type:Array,required:!0},loadAction:{type:Function,required:!0}},emits:["readComment","readAllComments"],data(){return{isLoadingNewComments:!1,currentCommentId:null,scrollSettled:!1,refresherFallback:!1}},computed:{unreadCommentIds(){return this.comments?this.comments.reduce((function e(t,i){return i.isNew&&t.push(i.id),i.children&&t.push(...i.children.reduce(e,[])),t}),[]):[]},hasUnreadComments(){return 0!==this.unreadCommentIds.length},showCounter(){return this.refresherFallback?"tm-comment-navigation__refresh-fallback":this.hasUnreadComments?"tm-comment-navigation__has-new":"tm-comment-navigation__has-new_reverse"},goToNextClosestCommentThrottled(){return X()(te.J7,500)},goToPrevClosestCommentThrottled(){return X()(te.lp,500)},readFirstUnreadCommentThrottled(){return X()(this.readFirstUnreadComment,500)}},created(){this.unreadCommentsWatcher=this.$watch("hasUnreadComments",(e=>{this.checkScrollToComments(e)}))},mounted(){!this.scrollSettled&&this.hasUnreadComments&&this.checkScrollToComments(this.hasUnreadComments)},methods:{checkScrollToComments(e){e&&(this.scrollSettled=!0,(0,ie.dY)(this.$route),this.unreadCommentsWatcher())},goToNextComment(){this.scrollSettled=!0,this.unreadCommentsWatcher(),this.goToNextClosestCommentThrottled()},goToPrevComment(){this.scrollSettled=!0,this.unreadCommentsWatcher(),this.goToPrevClosestCommentThrottled()},updateComments(e){e.target.blur(),this.isLoadingNewComments=!0,this.scrollSettled=!0,this.unreadCommentsWatcher(),this.loadAction().then((()=>{this.isLoadingNewComments=!1})).catch((e=>{this.isLoadingNewComments=!1;const t=e.data&&e.data.text&&e.data.text.source&&Array.isArray(e.data.text.source);throw t?this.$toast.error(e.data.text.source[0]):this.$toast.error(e.message),e}))},readFirstUnreadComment(){const e=(0,te.bP)();if(!e)return;this.scrollSettled=!0,this.unreadCommentsWatcher();const t=(0,te.v2)(e);(0,ie.fo)(`#${e.id}`,!0).then((i=>{i?this.readComment(t):setTimeout((()=>{this.readComment(t)}),250),(0,te.RC)(e)}))},readComment(e){this.$emit("readComment",e),this.$nextTick().then((()=>{this.hasUnreadComments||this.$emit("readAllComments")}))}}},oe=(0,g.Z)(ae,[["render",z]]),re=oe;var le=i(98201),ce=i(34138),ue=i(86509),de=i(43004),me=i(71197),pe=i(55500),_e=i(48247),he=i(74568),ge=i(19913),ve=i(72923),Te=i(25934),Ee=i(57733);const Se=(0,ee.Rd)((()=>i.e(2328).then(i.bind(i,97259))),ee.MN),fe={name:"TMArticleComments",components:{TMServerCache:I,TMArticleComment:l.Z,TMComments:x.Z,TMRssButton:le.Z,TMCommentsNavigation:re,TMArticleSubscriptionControls:G,TMArticleCommentsUfoNotice:T,TMAdministrationLinks:Se},props:{articleId:{type:[Number,String],required:!0},cacheKey:{type:String,default:null},isLoading:{type:Boolean,default:!1}},emits:["expandLimiter","readAllComments"],setup(e){const t=(0,s.FN)(),i=(0,_e.b8)(),n=(0,me.q)(),{uuid:a,isModerator:l,companiesAdmin:c,isLoggedIn:u,userAlias:d,isSuperAdmin:m,canSendComplaint:p}=(0,r.Jk)(n),{isUserActive:_}=(0,ce.DV)(),h=(0,o.iH)(null);function g(){_.value&&(0,he.v4)(h.value)&&i.addTrackingTime({publicationId:e.articleId,type:_e.q3.commentsTimeInViewPort,time:1})}let v=null;return(0,s.bv)((async()=>{await(0,s.Y3)(),v&&clearInterval(v),v=setInterval(g,1e3)})),(0,s.Jd)((()=>{v&&clearInterval(v),i.sendPublicationTrackingTime(e.articleId,a.value)})),{isStreaming:t.appContext.config.globalProperties.$isStreaming,commentsRef:h,isModerator:l,companiesAdmin:c,isLoggedIn:u,userAlias:d,isSuperAdmin:m,canSendComplaint:p,...(0,ue.s)()}},data(){return{isRemovedCommentsHidden:!1,stopHandlerArticle:null,stopHandlerUserData:null}},computed:{isPost(){return(0,M.E)(this.$route.name)},article(){return(0,R.g)().getArticleById(this.articleId)},showModerationControls(){return this.article&&this.article.relatedData&&this.article.relatedData.canModerateComments},comments(){return(0,de.e)().getCommentsTreeByArticleId(this.articleId)},pinnedComments(){return(0,de.e)().getPinnedCommentsById(this.articleId)},commentsAdministrationsLinks(){return[{title:this.msg("ARTICLE_CLEAR_CACHE_COMMENTS"),onclick:e=>this.resetCache(e)},this.isPost?null:{title:this.commentsStateActionText,onclick:e=>this.toggleCommentsState(e)},{title:this.removedCommentsActionText,onclick:e=>this.toggleRemovedComments(e)},{title:this.ufoNoticeActionText,onclick:e=>this.toggleUfoNotice(e)}].filter((e=>e))},isCanComment(){var e;return!(null===(e=(0,de.e)().commentAccess)||void 0===e||!e.isCanComment)},cantCommentReasonKey(){var e;return(null===(e=(0,de.e)().commentAccess)||void 0===e?void 0:e.cantCommentReasonKey)??null},userBlockReasonData(){var e;const t=(null===(e=(0,de.e)().commentAccess)||void 0===e?void 0:e.data)||{};return t.reason=t.reason||"EMPTY",t.timeElapsed=t.timeElapsed||"EMPTY",t},commentAccessMessage(){if(!this.cantCommentReasonKey)return null;const e=`EXTERNAL_${this.cantCommentReasonKey}`;return this.msg(e,this.userBlockReasonData)},noticeData(){return"draft"===this.article.status?{type:"negative",message:this.msg("POST_IN_DRAFTS")}:this.isLoggedIn&&!this.isCanComment?{type:"negative",message:this.commentAccessMessage}:this.isLoggedIn?null:{type:"positive",message:this.msg("COMMENT_NOTICE_UNAUTH_DECLARATION")}},removedCommentsActionText(){return this.isRemovedCommentsHidden?this.msg("ARTICLE_SHOW_REMOVED_COMMENTS"):this.msg("ARTICLE_HIDE_REMOVED_COMMENTS")},commentsStateActionText(){return this.article.commentsEnabled.status?this.msg("ARTICLE_DISABLE_COMMENTS"):this.msg("ARTICLE_ENABLE_COMMENTS")},ufoNoticeActionText(){return this.article&&this.article.rulesRemindEnabled?this.msg("RULES_REMINDER_HIDE_BUTTON_TEXT"):this.msg("RULES_REMINDER_SHOW_BUTTON_TEXT")},commentsCount(){return this.article&&this.article.statistics?this.article.statistics.commentsCount:null},isArticleAuthor(){return this.article.author&&this.article.author.alias===this.userAlias},canPinUnpinComment(){if(this.isArticleAuthor||this.isSuperAdmin||this.isModerator)return!0;if(!this.article.isCorporative||!this.companiesAdmin||!this.companiesAdmin.length)return!1;const e=this.article.hubs.find((e=>"corporative"===e.type)),t=e&&e.alias;return!!this.companiesAdmin.find((e=>e.alias===t))}},beforeUnmount(){(0,de.e)().clearCommentsList(this.articleId)},methods:{voteAction({commentId:e,direction:t}){return(0,de.e)().vote({articleId:this.articleId,commentId:e,direction:t,isPost:this.isPost})},favoriteAction({commentId:e,isFavorite:t}){const{articleId:i,isPost:s}=this;return(0,de.e)().setFavorite({articleId:i,commentId:e,isFavorite:t,isPost:s}).catch((e=>{this.$toast.error(e.message)}))},pinUnpinComment(e){return(0,de.e)().pinComment({articleId:this.articleId,commentId:e.id,isPinned:!e.isPinned,isPost:this.isPost}).then((()=>{const t=e.isPinned?"COMMENT_UNPINNED_SUCCESS":"COMMENT_PINNED_SUCCESS";this.$toast.success(this.msg(t)),(0,pe.X)().getPinnedComments(this.articleId,this.isPost)})).catch((e=>{this.$toast.error(e.message)}))},toggleRemovedComments(){this.isRemovedCommentsHidden=!this.isRemovedCommentsHidden},getUfoNoticeActions(){return this.isPost?{enable:Ee.qT,disable:Ee.sv}:{enable:ve.Yc,disable:ve.jL}},toggleUfoNotice(){const{articleId:e}=this,{enable:t,disable:i}=this.getUfoNoticeActions(),s=this.article&&this.article.rulesRemindEnabled?i:t;return s(e).then((()=>{(0,R.g)().setArticleRulesRemindStatus(this.articleId,!this.article.rulesRemindEnabled);const e=this.article&&this.article.rulesRemindEnabled?this.msg("RULES_REMINDER_SHOW_ACTION_SUCCESS_MESSAGE"):this.msg("RULES_REMINDER_HIDE_ACTION_SUCCESS_MESSAGE");this.$toast.success(e)})).catch((e=>{this.$toast.error(e.message)}))},onCommentDelete(e){const t={articleId:this.articleId,commentId:e};(0,de.e)().suspendComment({params:t,isPost:this.isPost})},complaintAction({value:e,parentId:t}){const i=this.isPost?"threads":"articles";return(0,Te.yw)(this.articleId,t,{message:e},i).then((()=>{this.$toast.success(this.msg("COMMENT_COMPLAINT_SUCCESS"))})).catch((e=>{this.$toast.error(e.message)}))},commentSubmitAction(e){const t={articleId:this.articleId,...e};return(0,pe.X)().sendComment(t,this.isPost).then((e=>{e&&(0,ge.IZ)("comment",{publicationType:(0,ge.Lq)(this.article)})})).catch((e=>{const t=e.data&&e.data.text&&e.data.text.source&&Array.isArray(e.data.text.source);throw t?this.$toast.error(e.data.text.source[0]):this.$toast.error(e.message),e}))},updateCommentsAction(){return(0,pe.X)().loadNewComments(this.$route,this.isPost)},onReadComment(e){(0,de.e)().setCommentRead(this.articleId,e)},disableArticleComments(e){const t=window.confirm(this.msg("ARTICLE_DISABLE_COMMENTS_CONFIRM"));if(!t)return!1;const i=prompt(this.msg("ARTICLE_DISABLE_COMMENTS_REASON"));return(0,Te.x1)(e,{reason:i})},toggleCommentsState(){const e=this.article.commentsEnabled.status?this.disableArticleComments:Te.oc;return e(this.articleId).then((()=>{(0,R.g)().setArticleCommentsStatus(this.articleId,!this.article.commentsEnabled.status),(0,pe.X)().getComments({articleId:this.articleId})})).catch((e=>this.$toast.error(e.message)))},resetCache(){return(0,Te.zT)(this.articleId).then((()=>{this.$toast.success(this.msg("ARTICLE_CLEAR_CACHE_SUCCESS_MESSAGE")),setTimeout((()=>{window.location.reload()}),1e3)})).catch((e=>this.$toast.error(e.message)))},getCommentLink(e){return`${window.location.origin}${this.$route.path}#comment_${e.id}`},loadUserData(){const e=this.isPost?Te.YS:Te.pD;return e({id:this.articleId,hl:this.langOptions.hl}).then((e=>{this.stopHandlerUserData=this.$watch((()=>this.isLoading),(t=>{t||(this.applyUserData(e),this.stopHandlerUserData&&this.stopHandlerUserData())}),{immediate:!0})}))},applyUserData(e){const{articleId:t}=this,{lastCommentTimestamp:i,commentRelatedRefs:s,commentAccess:n,commentDeletedRefs:a,commentModeratedRefs:o,threads:r}=e,l=(0,de.e)(),c=(0,pe.X)();l.setCommentAccess(n),c.setLastCommentTimestamp(i),l.mergeComments(t,s),a&&(l.mergeComments(t,a),l.setCommentsRoot(t,r)),o&&Object.keys(o).sort(((e,t)=>e.timePublished-t.timePublished)).forEach((e=>{l.addComment(t,{...o[e],isReadonly:!0})}))}}},Ae=(0,g.Z)(fe,[["render",a]]),be=Ae},6222:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(66252),n=i(56612);const a={key:1,"data-test-id":"articlePlannedDate"},o=["textContent"];function r(e,t,i,r,l,c){const u=(0,s.up)("TMDatetime"),d=(0,s.up)("TMMessageInterpolation");return(0,s.wg)(),(0,s.j4)((0,s.LL)(i.link?"TMPublicationLink":"span"),{article:i.link?i.article:null,class:(0,n.C_)(c.bem("tm-article-datetime-published",{megapost:i.isMegapostV1,link:i.link}))},{default:(0,s.w5)((()=>[i.article.timePublished?((0,s.wg)(),(0,s.j4)(u,{key:0,"client-time":"",date:new Date(i.article.timePublished),"is-article-format":""},null,8,["date"])):i.article.plannedPublishTime?((0,s.wg)(),(0,s.iD)("span",a,[(0,s.Wm)(d,{message:e.msg("ARTICLE_PLANNED")},{datetime:(0,s.w5)((()=>[(0,s.Wm)(u,{"absolute-date":"","client-time":"",date:new Date(i.article.plannedPublishTime),"show-full-date-time":""},null,8,["date"])])),_:1},8,["message"])])):((0,s.wg)(),(0,s.iD)("span",{key:2,"data-test-id":"articleNeverPublishedMessage",textContent:(0,n.zw)(e.msg("ARTICLE_NEVER_PUBLISHED"))},null,8,o))])),_:1},8,["article","class"])}var l=i(53591),c=i(20666),u=i(96973),d=i(85556),m=i(25109);const p={name:"TMArticleDatetimePublished",components:{ClientOnly:l.Z,TMMessageInterpolation:u.Z,TMPublicationLink:d.Z,TMDatetime:c.Z},props:{article:{type:Object,required:!0},isMegapostV1:{type:Boolean,required:!0},link:{type:Boolean,default:!1}},methods:{bem:m.P}};var _=i(83744);const h=(0,_.Z)(p,[["render",r]]),g=h},49240:(e,t,i)=>{"use strict";i.d(t,{Z:()=>R});var s=i(66252);const n={key:0,class:"tm-article-extra-menu__admin-icons"};function a(e,t,i,a,o,r){const l=(0,s.up)("TMSvgImg"),c=(0,s.up)("TMArticlePopup"),u=(0,s.up)("TMRecommendationsForm"),d=(0,s.up)("TMPopup"),m=(0,s.up)("TMComplaintForm");return r.shouldDisplayRecommendationsButton||a.canSendComplaint?((0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("button",{ref:"popupButton",class:"tm-article-extra-menu__admin-button","data-test-id":"article-dots-button",onClick:t[0]||(t[0]=(...e)=>r.togglePopup&&r.togglePopup(...e))},[(0,s.Wm)(l,{id:"dots",class:"tm-article-extra-menu__icon"})],512),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[o.articlePopupVisible?((0,s.wg)(),(0,s.j4)(c,{key:0,"can-see-vote-statistics":a.isSuperAdmin,"can-send-complaint":a.canSendComplaint,"can-send-recommendation":r.shouldDisplayRecommendationsButton,target:r.articlePopupTarget,"votes-statistics-url":r.votesStatisticsUrl,onClose:r.togglePopup,onSendComplaint:t[1]||(t[1]=e=>{o.isComplaintFormShown=!0,r.togglePopup()}),onSendRecommendation:t[2]||(t[2]=e=>{r.getRecommendationsList(),r.togglePopup()})},null,8,["can-see-vote-statistics","can-send-complaint","can-send-recommendation","target","votes-statistics-url","onClose"])):(0,s.kq)("",!0),o.isRecommendationsFormShown?((0,s.wg)(),(0,s.j4)(d,{key:1,title:e.msg("ARTICLE_RECOMMENDATIONS_FORM_TITLE"),onClose:t[3]||(t[3]=e=>o.isRecommendationsFormShown=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"is-processing":o.isRecommendationsFormDisabled,recommendations:o.articleRecommendationsList,onSubmit:r.sendRecommendations},null,8,["is-processing","recommendations","onSubmit"])])),_:1},8,["title"])):(0,s.kq)("",!0),o.isComplaintFormShown?((0,s.wg)(),(0,s.j4)(d,{key:2,title:e.msg("ARTICLE_COMPLAINT_TITLE"),onClose:t[4]||(t[4]=e=>o.isComplaintFormShown=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{autofocus:"","is-processing":o.isComplaintFormDisabled,"submit-action":r.complaintAction},null,8,["is-processing","submit-action"])])),_:1},8,["title"])):(0,s.kq)("",!0)]))])):(0,s.kq)("",!0)}var o=i(67476),r=i(56612);function l(e,t,i,n,a,o){const l=(0,s.up)("TMSvgImg"),c=(0,s.up)("TMAlignCenter"),u=(0,s.up)("TMContextMenuListItem"),d=(0,s.up)("TMContextMenuList"),m=(0,s.up)("TMContextMenu");return(0,s.wg)(),(0,s.j4)(m,{target:i.target,onClose:t[2]||(t[2]=t=>e.$emit("close"))},{body:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[i.canSendRecommendation?((0,s.wg)(),(0,s.j4)(u,{key:0,"data-test-id":"send-recommendation-button",onClick:t[0]||(t[0]=t=>e.$emit("sendRecommendation"))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{start:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"flag",size:"24",title:e.msg("ARTICLE_RECOMMENDATION_TITLE")},null,8,["title"])])),default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.msg("ARTICLE_RECOMMENDATION_TITLE")),1)])),_:1})])),_:1})):(0,s.kq)("",!0),i.canSendComplaint?((0,s.wg)(),(0,s.j4)(u,{key:1,"data-test-id":"send-complaint-button",onClick:t[1]||(t[1]=t=>e.$emit("sendComplaint"))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{start:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"warning",size:"24",title:e.msg("ARTICLE_COMPLAINT_TITLE")},null,8,["title"])])),default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.msg("ARTICLE_COMPLAINT_TITLE")),1)])),_:1})])),_:1})):(0,s.kq)("",!0),i.canSeeVoteStatistics?((0,s.wg)(),(0,s.j4)(u,{key:2,"data-test-id":"votes-statistics-button",href:i.votesStatisticsUrl,tag:"a",target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{start:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"stats-info",size:"24",title:e.msg("ARTICLE_ADMIN_VOTE_ANALYSIS")},null,8,["title"])])),default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.msg("ARTICLE_ADMIN_VOTE_ANALYSIS")),1)])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0)])),_:1})])),_:1},8,["target"])}var c=i(20701),u=i(48019),d=i(6346),m=i(20014),p=i(39639);const _={name:"TMArticlePopup",components:{TMAlignCenter:c.Z,TMContextMenuList:d.Z,TMContextMenuListItem:m.Z,TMContextMenu:u.Z,TMSvgImg:p.Z},props:{target:{type:null,required:!0},canSendComplaint:{type:Boolean,default:!1},canSendRecommendation:{type:Boolean,default:!1},votesStatisticsUrl:{type:String,default:""},canSeeVoteStatistics:{type:Boolean,default:!1}},emits:["close","sendRecommendation","sendComplaint"]};var h=i(83744);const g=(0,h.Z)(_,[["render",l]]),v=g;var T=i(42688),E=i(61897);const S={class:"tm-recommendations-form"},f={class:"tm-recommendations-form__fieldset"};function A(e,t,i,n,a,o){const l=(0,s.up)("TMLabeledCheckbox"),c=(0,s.up)("TMButtonBase");return(0,s.wg)(),(0,s.iD)("form",S,[(0,s._)("fieldset",f,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.recommendationsArr,(e=>((0,s.wg)(),(0,s.j4)(l,{key:e.id,modelValue:a.checkedRecommendations[e.id],"onUpdate:modelValue":t=>a.checkedRecommendations[e.id]=t,class:"tm-recommendations-form__field",name:`${e.id}`,value:e.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.title),1)])),_:2},1032,["modelValue","onUpdate:modelValue","name","value"])))),128))]),(0,s.Wm)(c,{class:"tm-recommendations-form__button",disabled:i.isProcessing,"style-size":"medium",onClick:o.emitSubmit},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.msg("SUBMIT_FORM_ACTION")),1)])),_:1},8,["disabled","onClick"])])}var b=i(91270),I=i(89734);const y={name:"RecommendationsForm",components:{TMButtonBase:b.Z,TMLabeledCheckbox:I.Z},props:{recommendations:{type:Object,required:!0},isProcessing:{type:Boolean}},emits:["submit"],data(){return{checkedRecommendations:[]}},computed:{recommendationsArr(){return Object.values(this.recommendations)}},methods:{emitSubmit(){const e=[];this.checkedRecommendations.forEach(((t,i)=>{t&&e.push(this.recommendationsArr[i-1].id)})),this.$emit("submit",e)}}},w=(0,h.Z)(y,[["render",A]]),P=w;var C=i(71197),k=i(72923),L=i(57733);const N={name:"TMArticleExtraMenu",components:{TMSvgImg:p.Z,TMComplaintForm:T.Z,TMRecommendationsForm:P,TMPopup:E.Z,TMArticlePopup:v},props:{publicationId:{type:String,required:!0},currentAuthor:{type:Object,default:()=>null},isPost:{type:Boolean,required:!1}},setup(){const e=(0,C.q)(),{isSuperAdmin:t,userAlias:i,canSendComplaint:s,isLoggedIn:n}=(0,o.Jk)(e);return{isSuperAdmin:t,userAlias:i,canSendComplaint:s,isLoggedIn:n}},data(){return{isComplaintFormShown:!1,isComplaintFormDisabled:!1,isRecommendationsFormShown:!1,isRecommendationsFormDisabled:!1,articleRecommendationsList:[],articlePopupVisible:!1}},computed:{isMineArticle(){var e;if(null===(e=this.currentAuthor)||void 0===e||!e.alias)return!1;const t=this.currentAuthor.alias.toLowerCase();return this.isLoggedIn&&t===this.userAlias.toLowerCase()},shouldDisplayRecommendationsButton(){return this.currentAuthor&&!this.isMineArticle&&this.isSuperAdmin&&!this.isPost},articlePopupTarget(){return this.$refs.popupButton},votesStatisticsUrl(){return`https://habr.com/kek/admin/votes/vlist/?target=publication&id=${this.publicationId}`}},methods:{closeComplaintForm(){this.isComplaintFormShown=!1,this.isComplaintFormDisabled=!1},closeRecommendationsForm(){this.isRecommendationsFormShown=!1,this.isRecommendationsFormDisabled=!1},complaintAction(e){const t=this.isPost?(0,L.d9)(this.publicationId,{message:e}):(0,k.fo)(this.publicationId,{message:e});return t.then((()=>{this.closeComplaintForm(),this.$toast.success(this.msg("COMMENT_COMPLAINT_SUCCESS"))})).catch((e=>{throw this.$toast.error(e.message),e}))},getRecommendationsList(){(0,k.$K)().then((({postRecommendationRefs:e})=>{this.isRecommendationsFormShown=!0,this.articleRecommendationsList=e})).catch((e=>this.$toast.error(e.message)))},sendRecommendations(e){(0,k.sI)(this.publicationId,{ids:e}).then((e=>{this.closeRecommendationsForm(),this.$router.push({name:"CONVERSATION_MESSAGES",params:{login:this.currentAuthor.alias,hl:this.langOptions.hl},state:{template:e}})})).catch((e=>this.$toast.error(e.message)))},togglePopup(){this.articlePopupVisible=!this.articlePopupVisible}}},O=(0,h.Z)(N,[["render",a]]),R=O},77025:(e,t,i)=>{"use strict";i.d(t,{Z:()=>he});var s=i(66252);const n={ref:"contentRef"};function a(e,t,i,a,o,r){const l=(0,s.up)("TMFormattedText"),c=(0,s.up)("TMMobileAbbreviation"),u=(0,s.up)("TMAbbreviationPresenter");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n,[(0,s.Wm)(l,{"article-text":i.articleText,"should-format":i.shouldFormat,version:i.version},null,8,["article-text","should-format","version"])],512),!i.disableAbbr&&o.ready?((0,s.wg)(),(0,s.j4)(c,{key:0,"content-ref":e.$refs.contentRef},null,8,["content-ref"])):(0,s.kq)("",!0),!i.disableAbbr&&o.ready?((0,s.wg)(),(0,s.j4)(u,{key:1,"content-ref":e.$refs.contentRef,version:i.version},null,8,["content-ref","version"])):(0,s.kq)("",!0)])}var o=i(62931),r=i(56612),l=i(67476),c=i(58061);function u(e,t,i,n,a,o){const l=(0,s.up)("TMLoadingImage");return(0,s.wg)(),(0,s.j4)(c.uT,{appear:"",name:"expand"},{default:(0,s.w5)((()=>[i.image?((0,s.wg)(),(0,s.j4)(l,{key:0,alt:i.alt,class:(0,r.C_)(["tm-card-image",a.loading&&"loads"]),height:i.imageHeight,src:i.image,style:(0,r.j5)(o.style),width:i.imageWidth},null,8,["alt","class","height","src","style","width"])):(0,s.kq)("",!0)])),_:1})}const d=["alt","height","src","width"];function m(e,t,i,n,a,o){return i.src?((0,s.wg)(),(0,s.iD)("img",{key:0,ref:"image",alt:i.alt,height:i.height,src:i.src,width:i.width,onLoad:t[0]||(t[0]=(...e)=>o.showImage&&o.showImage(...e))},null,40,d)):(0,s.kq)("",!0)}const p={name:"TMLoadingImage",props:{src:{type:String,default:null},alt:{type:String,default:null,visible:Boolean},height:{type:[Number,String],required:!0},width:{type:[Number,String],required:!0}},data(){return{loading:!0}},watch:{src(){this.$refs.image.classList.add("loads")}},mounted(){this.$refs.image&&(this.$refs.image.addEventListener("load",this.showImage),this.$refs.image.complete&&this.showImage())},methods:{showImage(){this.$refs.image.classList.remove("loads")}}};var _=i(83744);const h=(0,_.Z)(p,[["render",m]]),g=h,v={name:"TMCardImage",components:{TMLoadingImage:g},props:{image:{type:String,default:null},alt:{type:String,default:null,visible:Boolean},initialHeight:{type:Number,required:!0},imageHeight:{type:Number,required:!0},imageWidth:{type:[Number,String],required:!0}},data(){return{loading:!0}},computed:{style(){return{"--initial-height":`${this.initialHeight}px`,"--image-height":`${this.imageHeight}px`}}},watch:{image(){this.loading=!0}},methods:{showImage(){this.loading=!1}}},T=(0,_.Z)(v,[["render",u]]),E=T,S=["innerHTML"],f=["innerHTML"];function A(e,t,i,n,a,o){return i.shouldFormat?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,r.C_)(["article-formatted-body",o.bem("article-formatted-body",{version:i.version})]),innerHTML:i.articleText},null,10,S)):((0,s.wg)(),(0,s.iD)("div",{key:1,innerHTML:i.articleText},null,8,f))}var b=i(25109);const I={name:"TMFormattedText",props:{articleText:{type:String,required:!0},shouldFormat:{type:Boolean,default:!0},version:{type:[String,Number],default:null}},methods:{bem:b.P}},y=(0,_.Z)(I,[["render",A]]),w=y;var P=i(4803);const C={class:"tm-positioned-window__wrapper"},k={key:0,class:"tm-positioned-window__content"};function L(e,t,i,n,a,o){const l=(0,s.up)("TMSvgImg"),c=(0,s.Q2)("hotkey");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{ref:"windowRef",class:"tm-positioned-window",style:(0,r.j5)(a.style)},[(0,s._)("div",C,[(0,s._)("button",{class:"tm-positioned-window__close",type:"button",onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e))},[(0,s.Wm)(l,{id:"close",size:"12"})]),e.$slots.default?((0,s.wg)(),(0,s.iD)("div",k,[(0,s.WI)(e.$slots,"default")])):(0,s.kq)("",!0)])],4)),[[c,{esc:n.close}]])}var N=i(66309),O=i(93096),R=i.n(O),M=i(39639),U=i(81422),D=i(99691);const B=8,H=40,F={name:"TMPositionedWindow",components:{TMSvgImg:M.Z},props:{verticalPosition:{type:String,default:null,validator:(0,D.HZ)(["above","under"])},horizontalAlignment:{type:String,default:"left",validator:(0,D.HZ)(["left","center"])},boundingElement:{type:null,default:null},targetElement:{type:null,required:!0},getFinalContentSize:{type:Function,default:null},hash:{type:String,default:""},trackInHistory:{type:Boolean}},emits:["close","click-outside"],setup(e,{emit:t}){const i=(0,o.iH)(null);(0,N.i9H)(i,(e=>{t("click-outside",e)}));const{setHash:s,removeHash:n}=(0,U.n)(e.hash,e.trackInHistory);return{close(e){t("close",e)},removeHash:n,setHash:s,windowRef:i}},data(){return{style:{top:null,left:null,"--max-abbr-height":"auto"}}},watch:{targetElement(){this.$nextTick().then((()=>{this.updateWindowBox()}))}},mounted(){this.updateWindowBox(),window.addEventListener("resize",this.throttledUpdateWindowBox)},beforeUnmount(){window.removeEventListener("resize",this.throttledUpdateWindowBox),this.removeHash()},methods:{throttledUpdateWindowBox:R()((function(){this.updateWindowBox()}),300),updateWindowBox(){const e=this.getMaxContentHeight(),t=this.targetElement.getBoundingClientRect(),i=this.windowRef.getBoundingClientRect(),s=this.getFinalContentSize?this.getFinalContentSize(i):i;s.height>e&&(s.height=e),this.positionWindow(s,t),this.alignWindow(s,t),this.containWithinBounds(s),this.addScroll(s),this.style={left:`${s.x}px`,top:`${s.y}px`,"--max-positioned-window-height":`${e}px`}},alignWindow(e,t){"center"===this.horizontalAlignment&&(e.x-=(e.width-t.width)/2)},positionWindow(e,t){e.x=t.left,e.y=t.top,this.applyWindowPlacement(e,t,this.verticalPosition);const i=this.getOptimalPlacement(e,t);i!==this.verticalPosition&&this.applyWindowPlacement(e,t,i)},applyWindowPlacement(e,t,i){"under"===i?e.y=t.bottom+B:"above"===i&&(e.y=t.top-e.height-B)},getOptimalPlacement(e,t){const i=this.getSpaceUnder(e,t),s=this.getSpaceAbove(e,t);return"under"===this.verticalPosition?i>0||i>s?"under":"above":s>0||s>i?"above":"under"},getSpaceUnder(e,t){return visualViewport.height-(t.bottom+B+e.height)},getSpaceAbove(e,t){return t.top-B-e.height},containWithinBounds(e){if(this.boundingElement){const t=this.boundingElement.getBoundingClientRect();this.containHorizontally(e,t)}},containHorizontally(e,t){let i=0;e.left<t.left&&(i=t.left-e.left),e.right>t.right&&(i=t.right-e.right),e.x+=i},addScroll(e){e.x+=document.documentElement.scrollLeft,e.y+=document.documentElement.scrollTop},getMaxContentHeight(){return visualViewport.height/2-H}}},V=(0,_.Z)(F,[["render",L]]),$=V;var W=i(39806),G=i(84183);const x=(0,s.aZ)({__name:"positioned-popup",props:{title:{default:null},verticalPosition:{default:()=>{}},horizontalAlignment:{default:"left"},boundingElement:{default:null},targetElement:{default:null},getFinalContentSize:{type:Function,default:void 0},hash:{default:""},trackInHistory:{type:Boolean},show:{type:Boolean}},emits:["close","click-outside"],setup(e){const t=(0,s.Fl)((()=>(0,G.s)().isMobile)),i=(0,s.Fl)((()=>(0,G.s)().isTablet));return(e,n)=>!i.value&&t.value?((0,s.wg)(),(0,s.j4)(W.Z,{key:0,appear:"",name:"slide-fade"},{default:(0,s.w5)((()=>[e.show?((0,s.wg)(),(0,s.j4)(P.Z,{key:0,card:"",title:e.title,onClose:n[0]||(n[0]=t=>e.$emit("close"))},{body:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"body")])),default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["title"])):(0,s.kq)("",!0)])),_:3})):((0,s.wg)(),(0,s.j4)(c.uT,{key:1,appear:"",name:"transition-fade"},{default:(0,s.w5)((()=>[e.show?((0,s.wg)(),(0,s.j4)($,{key:0,"bounding-element":e.boundingElement,"get-final-content-size":e.getFinalContentSize,hash:e.hash,"horizontal-alignment":e.horizontalAlignment,"target-element":e.targetElement,title:e.title,"track-in-history":e.trackInHistory,"vertical-position":e.verticalPosition,onClickOutside:n[1]||(n[1]=t=>e.$emit("click-outside",t)),onClose:n[2]||(n[2]=t=>e.$emit("close",t))},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["bounding-element","get-final-content-size","hash","horizontal-alignment","target-element","title","track-in-history","vertical-position"])):(0,s.kq)("",!0)])),_:3}))}}),q=x,Y=q,Z={key:0,class:"abbreviation-presenter"},j={key:0,class:"abbreviation-presenter__image-container"},K={key:2,class:"abbreviation-presenter__text"},z={key:0,class:"abbreviation-presenter__abbr"},Q=180,X=320,J="habraabbr",ee=(0,s.aZ)({__name:"abbreviation-presenter",props:{contentRef:{},version:{}},setup(e){const t=e,i=(0,o.iH)(null),n=(0,o.iH)(null),a=(0,o.iH)(null),c=(0,G.s)(),{isMobileOnly:u}=(0,l.Jk)(c),d=(0,s.Fl)((()=>{var e,t;return(null===(e=n.value)||void 0===e?void 0:e.title)||(null===(t=n.value)||void 0===t?void 0:t.abbr)})),m=(0,s.Fl)((()=>I(n.value))),p=(0,s.Fl)((()=>I(i.value))),_=(0,s.Fl)((()=>i.value?p.value:m.value));function h(){var e;return null===(e=t.contentRef)||void 0===e?void 0:e.querySelectorAll(`.${J}`)}async function v(e){const t=e.currentTarget;a.value=t;const{dataset:s}=t;i.value=n.value,n.value={title:s.title,image:s.image,abbr:s.abbr,textTitle:s.textTitle,imageWidth:s.imageWidth,imageHeight:s.imageHeight}}function T(e){return new DOMRect(e.x,e.y,e.width,S(e.height))}function S(e){return i.value?e-p.value+m.value:e}function f(e,t){return Math.min(t*(X/e),Q)}function A(e){var t;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.className)!==J&&(n.value=null,i.value=null)}function b(e){return"string"===typeof e?parseInt(e,10):e}function I(e){if(null===e||void 0===e||!e.image||void 0===e.imageWidth||void 0===e.imageHeight)return 0;let t=b(e.imageWidth),i=b(e.imageHeight);return f(t,i)}return(0,s.bv)((()=>{var e;null===(e=h())||void 0===e||e.forEach((e=>{const t=e.getAttribute("title");t&&e.setAttribute("data-text-title",t),e.removeAttribute("title"),e.addEventListener("click",v)}))})),(0,s.Jd)((()=>{var e;null===(e=h())||void 0===e||e.forEach((e=>{e.removeEventListener("click",v)}))})),(e,t)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[(0,s.Wm)(Y,{"bounding-element":e.contentRef,"get-final-content-size":T,hash:"#abbr","horizontal-alignment":"center",show:!!n.value,"target-element":a.value,"track-in-history":"","vertical-position":"under",onClickOutside:A,onClose:A},{default:(0,s.w5)((()=>[n.value?((0,s.wg)(),(0,s.iD)("div",Z,[(0,o.SU)(u)&&n.value.image?((0,s.wg)(),(0,s.iD)("div",j,[void 0!==n.value.imageHeight&&void 0!==n.value.imageWidth?((0,s.wg)(),(0,s.j4)(g,{key:0,alt:n.value.textTitle,class:"abbreviation-presenter__image",height:n.value.imageHeight,src:n.value.image,width:n.value.imageWidth},null,8,["alt","height","src","width"])):(0,s.kq)("",!0)])):void 0!==n.value.imageWidth?((0,s.wg)(),(0,s.j4)(E,{key:1,alt:n.value.textTitle,"card-width":320,image:n.value.image,"image-height":m.value,"image-width":n.value.imageWidth,"initial-height":_.value,"max-height":160},null,8,["alt","image","image-height","image-width","initial-height"])):(0,s.kq)("",!0),d.value?((0,s.wg)(),(0,s.iD)("div",K,[n.value.abbr?((0,s.wg)(),(0,s.iD)("div",z,(0,r.zw)(n.value.abbr),1)):(0,s.kq)("",!0),n.value.title?((0,s.wg)(),(0,s.j4)(w,{key:1,"article-text":n.value.title,class:"abbreviation-presenter__title",version:e.version},null,8,["article-text","version"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1},8,["bounding-element","show","target-element"])]))}}),te=(0,_.Z)(ee,[["__scopeId","data-v-77a118c9"]]),ie=te,se=["textContent"];function ne(e,t,i,n,a,o){const l=(0,s.up)("TMPopup");return(0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[o.isMobile&&a.currentAbbr?((0,s.wg)(),(0,s.j4)(l,{key:0,hash:"#abbr",title:a.currentAbbr.title,"track-in-history":"",onClose:t[0]||(t[0]=e=>a.currentAbbr=null)},{default:(0,s.w5)((()=>[(0,s._)("p",{class:"abbr-definition",textContent:(0,r.zw)(a.currentAbbr.value)},null,8,se)])),_:1},8,["title"])):(0,s.kq)("",!0)])}var ae=i(61897);function oe(e,t){const i=e.querySelectorAll("abbr[title]:not(.habraabbr)");if(!i.length)return()=>{};const s=[];return i.forEach((e=>{e.addEventListener("click",t),s.push((()=>{e.removeEventListener("click",t)}))})),()=>{s.forEach((e=>e()))}}var re=i(24440);const le={name:"TMMobileAbbreviation",components:{TMPopup:ae.Z},props:{contentRef:{type:null,required:!0}},data(){return{currentAbbr:null,disposeAbbrs:null}},computed:{isMobile(){return(0,G.s)().isMobile}},mounted(){this.disposeAbbrs=oe(this.contentRef,this.abbrClickHandler)},beforeUnmount(){this.disposeAbbrs()},methods:{abbrClickHandler(e){this.isMobile&&(this.currentAbbr={value:(0,re.V)(e.currentTarget.title),title:(0,re.V)(e.currentTarget.textContent)})}}},ce=(0,_.Z)(le,[["render",ne],["__scopeId","data-v-fc66034d"]]),ue=ce;var de=i(4788),me=i(75846);const pe={name:"TMArticleFormattedBody",components:{TMFormattedText:w,TMAbbreviationPresenter:ie,TMMobileAbbreviation:ue},props:{articleText:{type:String,required:!0},shouldFormat:{type:Boolean,default:!0},version:{type:[String,Number],default:null},disableAbbr:Boolean},data(){return{disposeLinks:null,ready:!1}},mounted(){(0,de.y)(this.$el),this.ready=!0,this.disposeLinks=(0,me.W)(this.$el,((e,t)=>{e.preventDefault(),this.$router.push((0,me.M)(t))}))},beforeUnmount(){this.disposeLinks&&this.disposeLinks()}},_e=(0,_.Z)(pe,[["render",a]]),he=_e},95560:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(22201),a=i(67476),o=i(90887),r=i(36134),l=i(71197),c=i(19913);const u={class:"tm-article-labels"},d={class:"tm-article-labels__container"},m={__name:"article-labels",props:{article:{type:Object,default:()=>({})},showLabels:{type:Boolean,default:!0}},setup(e){const t=(0,n.tv)(),{msg:i}=(0,r.Q)(),m=e,p=(0,l.q)(),{isSuperAdmin:_}=(0,a.Jk)(p),h=(0,s.Fl)((()=>"post"===m.article.publicationType?m.article.labels:m.article.postLabels)),g=(0,s.Fl)((()=>m.article.format&&"common"!==m.article.format?{type:m.article.format,title:i(`ARTICLE_LABEL_${m.article.format}`)}:null)),v=(0,s.Fl)((()=>m.article.labels||[])),T=(0,s.Fl)((()=>_.value&&m.article.flowNew)),E=(0,s.Fl)((()=>m.showLabels&&m.article.postLabels&&m.article.postLabels.length||m.article.format&&"common"!==m.article.format)),S=(0,s.Fl)((()=>v.value.length||E)),f=(0,s.Fl)((()=>({type:"target-audience",...m.article.flowNew})));function A(e){(0,c.IZ)(`post_label_format_${e}`),t.push({name:"SEARCH_QUERY_RESULTS",query:{target_type:"posts",order:"relevance",q:`{${i(`ARTICLE_LABEL_${e}`)}}`}})}return(t,i)=>((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",d,[T.value?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,label:f.value},null,8,["label"])):(0,s.kq)("",!0),S.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[g.value?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,label:g.value,onClick:i[0]||(i[0]=t=>A(e.article.format))},null,8,["label"])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.value,(e=>((0,s.wg)(),(0,s.j4)(o.Z,{key:e.type,label:e},null,8,["label"])))),128))],64)):(0,s.kq)("",!0)])]))}};var p=i(83744);const _=(0,p.Z)(m,[["__scopeId","data-v-2083333e"]]),h=_},44555:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252);const n={class:"tm-article-list-block__list"},a={key:0,class:"tm-article-list-block__item"};function o(e,t,i,o,r,l){const c=(0,s.up)("TMArticleSnippetBlock"),u=(0,s.up)("TMBlock");return(0,s.wg)(),(0,s.j4)(u,{spacing:i.spacing,title:i.title},{default:(0,s.w5)((()=>[(0,s._)("ul",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.articleList,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,class:"tm-article-list-block__item"},[(0,s.Wm)(c,{article:e,"bookmark-module":i.bookmarkModule,"ga-event":i.gaEvent,layout:i.layout},null,8,["article","bookmark-module","ga-event","layout"])])))),128)),e.$slots.lastItem?((0,s.wg)(),(0,s.iD)("li",a,[(0,s.WI)(e.$slots,"lastItem")])):(0,s.kq)("",!0)])])),_:3},8,["spacing","title"])}var r=i(76434),l=i(70352);const c={name:"TMArticleListBlock",components:{TMBlock:l.Z,TMArticleSnippetBlock:r.Z},props:{title:{type:String,default:null},dataList:{type:Array,default:()=>[]},maxPosts:{type:Number,default:5},gaEvent:{type:[String,Object],required:!1,default:null},layout:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},spacing:{type:String,default:"around"}},computed:{articleList(){return this.dataList.slice(0,this.maxPosts)}}};var u=i(83744);const d=(0,u.Z)(c,[["render",o]]),m=d},58643:(e,t,i)=>{"use strict";i.d(t,{Z:()=>k});var s=i(66252),n=i(56612);const a=["innerHTML"],o=["innerHTML"],r={class:"tm-article-poll__answers"},l=["innerHTML"],c=["innerHTML"],u={class:"tm-article-poll__controls"},d={key:1,class:"tm-article-poll__answers"},m={class:"tm-article-poll__answer-data"},p=["innerHTML"],_={class:"tm-article-poll__answer-votes"},h={class:"tm-article-poll__answer-bar"},g={class:"tm-article-poll__stats"};function v(e,t,i,v,T,E){const S=(0,s.up)("TMNotice"),f=(0,s.up)("TMLabeledCheckbox"),A=(0,s.up)("TMInputRadioLabeled"),b=(0,s.up)("TMButtonBase");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(e.bem("tm-article-poll",{variant:e.variant}))},[e.isLoggedIn||e.enabledForGuests?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(S,{key:0,class:"tm-article-poll__notice",type:"positive"},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:e.unauthorizedNoticeMessage},null,8,a)])),_:1})),e.poll.id?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",{class:"tm-article-poll__header",innerHTML:e.poll.textHtml},null,8,o),e.poll.relatedData&&e.poll.relatedData.canVote?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.poll.variants,((i,n)=>((0,s.wg)(),(0,s.iD)("div",{key:i.id,class:"tm-article-poll__answer"},["checkbox"===e.poll.answersType?((0,s.wg)(),(0,s.j4)(f,{key:0,modelValue:e.selectedAnswers.checkboxes[n],"onUpdate:modelValue":t=>e.selectedAnswers.checkboxes[n]=t,class:"tm-article-poll__answer-item",name:`${i.id}`},{default:(0,s.w5)((()=>[(0,s._)("span",{class:"tm-article-poll__answer-label",innerHTML:i.textHtml},null,8,l)])),_:2},1032,["modelValue","onUpdate:modelValue","name"])):((0,s.wg)(),(0,s.j4)(A,{key:1,id:"answer",modelValue:e.selectedAnswers.radio,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedAnswers.radio=t),"checked-value":`${i.id}`,class:"tm-article-poll__answer-item",value:i.id},{default:(0,s.w5)((()=>[(0,s._)("span",{class:"tm-article-poll__answer-label",innerHTML:i.textHtml},null,8,c)])),_:2},1032,["modelValue","checked-value","value"]))])))),128))]),(0,s._)("div",u,[(0,s.Wm)(b,{class:"tm-article-poll__submit",disabled:e.isVoteDisabled,"is-loading":e.isLoadingVote,"style-size":"middle","style-type":"solid",type:"submit",onClick:e.onSubmitVote},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("POLLS_VOTE")),1)])),_:1},8,["disabled","is-loading","onClick"]),(0,s.Wm)(b,{class:"tm-article-poll__decline","is-loading":e.isLoadingDecline,"style-size":"middle","style-type":"transparent",type:"button",onClick:e.onDeclineVote},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("POLLS_ABSTAIN")),1)])),_:1},8,["is-loading","onClick"])])],64)):((0,s.wg)(),(0,s.iD)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.poll.variants,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tm-article-poll__answer"},[(0,s._)("div",m,[(0,s._)("span",{class:(0,n.C_)(e.percentClassName(t.id))},(0,n.zw)(t.percent)+"%",3),(0,s._)("span",{class:(0,n.C_)(e.answerLabelClassName(t.selected)),innerHTML:t.textHtml},null,10,p),(0,s._)("span",_,(0,n.zw)(t.votesCount),1)]),(0,s._)("div",h,[(0,s._)("div",{class:(0,n.C_)(e.progressBarClassName(t.id)),style:(0,n.j5)(`width: ${t.percent}%`)},null,6)])])))),128))])),(0,s._)("div",g,(0,n.zw)(e.msg("POLLS_STAT_VOTED",{votesCount:e.poll.votesCount}))+" "+(0,n.zw)(e.msg("POLLS_STAT_PASSED",{passCount:e.poll.passCount})),1)],64)):(0,s.kq)("",!0)],2)}var T=i(91270),E=i(31655),S=i(89734),f=i(88098),A=i(36134),b=i(71197),I=i(25109),y=i(99691);const w={name:"TMArticlePoll",components:{TMButtonBase:T.Z,TMInputRadioLabeled:E.Z,TMLabeledCheckbox:S.Z,TMNotice:f.Z},props:{poll:{default:()=>{},type:Object},variant:{type:String,default:null,validator:(0,y.HZ)(["bordered"])},isLoadingVote:Boolean,isLoadingDecline:Boolean,enabledForGuests:Boolean},emits:["decline-vote","submit-vote"],setup(){const{msg:e,langOptions:t}=(0,A.Q)();return{msg:e,langOptions:t}},data(){return{selectedAnswers:{checkboxes:[],radio:""}}},computed:{isLoggedIn(){return(0,b.q)().isLoggedIn},isVoteDisabled(){const e=this.selectedAnswers;return-1===e.checkboxes.indexOf(!0)&&0===e.radio.length},winningAnswer(){return this.poll.variants.reduce(((e,t)=>e.votesCount>t.votesCount?e:t))},progressBarClassName(){return e=>({"tm-article-poll__answer-progress":!0,"tm-article-poll__answer-progress_winning":this.winningAnswer.id===e})},answerLabelClassName(){return e=>({"tm-article-poll__answer-label":!0,"tm-article-poll__answer-label_selected":e})},percentClassName(){return e=>({"tm-article-poll__answer-percent":!0,"tm-article-poll__answer-percent_winning":this.winningAnswer.id===e})},unAuthLinkParams(){const e=this.$route.path,{hl:t}=this.langOptions;return{url:`/kek/v1/auth/habrahabr/?back=${e}&hl=${t}`}},unauthorizedNoticeMessage(){return`${this.msg("POLLS_NOTICE_UNAUTH_DECLARATION")} ${this.msg("POLLS_NOTICE_UNAUTH_ACTION",this.unAuthLinkParams)}`}},methods:{onDeclineVote(){this.$emit("decline-vote",{pollId:this.poll.id})},onSubmitVote(){let e=[];"checkbox"===this.poll.answersType?this.selectedAnswers.checkboxes.forEach(((t,i)=>{t&&e.push(this.poll.variants[i].id)})):e=[this.selectedAnswers.radio];const t={variantId:e,pollId:this.poll.id};this.$emit("submit-vote",t)},bem:I.P}};var P=i(83744);const C=(0,P.Z)(w,[["render",v]]),k=C},87366:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Ve});var s=i(66252),n=i(56612),a=i(62931),o=i(58061),r=i(22201),l=i(23002),c=i(32496),u=i(34948),d=i(21540),m=i.n(d),p=i(67476),_=i(29157);const h={class:"article-donation-block"},g=["innerHTML"];function v(e,t,i,a,o,r){const l=(0,s.up)("TMButton"),c=(0,s.up)("TMPopupPayments"),u=(0,s.up)("Portal");return(0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("div",{class:"article-donation-block__message",innerHTML:e.msg("ARTICLE_DONATE_MESSAGE")},null,8,g),(0,s.Wm)(l,{class:"article-donation-block__button",color:"horizon",onClick:e.openPaymentsPopup},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("ARTICLE_DONATE_BUTTON")),1)])),_:1},8,["onClick"]),(0,s.Wm)(u,{to:"overlays"},{default:(0,s.w5)((()=>[e.shouldOpenPayments?((0,s.wg)(),(0,s.j4)(c,{key:0,onClose:t[0]||(t[0]=t=>e.shouldOpenPayments=!1)})):(0,s.kq)("",!0)])),_:1})])}var T=i(48665);const E=["href"];function S(e,t,i,a,o,r){const l=(0,s.up)("TMPopup");return(0,s.wg)(),(0,s.j4)(l,{title:e.msg("ARTICLE_DONATE_POPUP"),onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.payments,(i=>((0,s.wg)(),(0,s.iD)("div",{key:i,class:"tm-popup__item-payment"},[(0,s._)("a",{class:"tm-popup__link-payment",href:e.getUrl(i),target:"_blank",onClick:t[0]||(t[0]=(...t)=>e.logGa&&e.logGa(...t))},(0,n.zw)(e.getTitle(i)),9,E)])))),128))])),_:1},8,["title"])}var f=i(26282),A=i(61897),b=i(39639),I=i(58748),y=i(19913);const w={paymentWebmoney:"SETTINGS_PROFILE_WEBMONEY",paymentPayPalMe:"SETTINGS_PROFILE_PAYPAL",paymentYandexMoney:"SETTINGS_PROFILE_YANDEX_MONEY"},P={paymentWebmoney:"https://pay.web.money/",paymentPayPalMe:"https://www.paypal.me/",paymentYandexMoney:"https://yoomoney.ru/to/"},C={name:"TMPopupPayments",components:{TMPageSettingsForm:f["default"],TMSvgImg:b.Z,TMPopup:A.Z},emits:["close"],computed:{article(){return(0,I.g)().getArticleById(this.$route.params.id)},payments(){const e=[],{paymentDetails:t}=this.article.author;return t&&Object.keys(t).forEach((i=>{t[i]&&e.push(i)})),e}},methods:{logGa(){(0,y.IZ)("donation")},getUrl(e){return`${P[e]}${this.article.author.paymentDetails[e]}`},getTitle(e){return this.msg(w[e])}}};var k=i(83744);const L=(0,k.Z)(C,[["render",S]]),N=L,O=(0,s.aZ)({components:{TMButton:T.Z,TMPopupPayments:N},props:{author:{type:Object,default:()=>({})},article:{type:Object,default:()=>({})}},data(){return{shouldOpenPayments:!1}},methods:{openPaymentsPopup(){(0,y.IZ)("donation"),this.author&&this.author.donationsMethod&&(this.shouldOpenPayments=!0)}}}),R=(0,k.Z)(O,[["render",v]]),M=R;var U=i(94574);const D={class:"tm-article-sticky-panel","data-test-id":"article-sticky-panel"};function B(e,t,i,n,a,r){const l=(0,s.up)("TMDataIcons");return(0,s.wg)(),(0,s.j4)(o.uT,{name:"transition-slide"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",D,[i.article&&i.article.id?((0,s.wg)(),(0,s.j4)(l,{key:0,article:i.article,class:"tm-article-sticky-panel__icons","icons-list":["rating","favorite","share","comments"]},{articleMenu:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"articleMenu")])),_:3},8,["article"])):(0,s.kq)("",!0)],512),[[o.F8,!a.isIconsPanelHidden]])])),_:3})}var H=i(35315),F=i(41008),V=i(74568);const $={name:"TMArticleStickyPanel",components:{TMDataIcons:H.Z},props:{article:{type:Object,default:null},element:{type:null,default:null}},data(){return{isAtTheBottomOfArticle:!1,isIconsPanelHidden:!1,lastScrollPosition:null}},mounted(){document.addEventListener("scroll",this.handleScroll,{passive:!0})},beforeUnmount(){document.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const e=20,t=window.pageYOffset||document.documentElement.scrollTop;if(Math.abs(this.lastScrollPosition-t)<e)return;if(!this.element)return;const i=(0,F.Q)();if(this.isAtTheBottomOfArticle=(0,V.p8)(this.element),i.setIsArticleStickyPanelAtTheBottom(this.isAtTheBottomOfArticle),this.isAtTheBottomOfArticle)return this.scrolledDown||(this.scrolledDown=!0),this.isIconsPanelHidden=!1,void i.setIsArticleStickyPanelVisible(!0);this.isIconsPanelHidden=t>this.lastScrollPosition,i.setIsArticleStickyPanelVisible(t<this.lastScrollPosition),this.lastScrollPosition=t}}},W=(0,k.Z)($,[["render",B]]),G=W;var x=i(29109);const q={class:"tm-misprint-area"},Y={ref:"root",class:"tm-misprint-area__wrapper"};function Z(e,t,i,n,a,o){const r=(0,s.up)("TMMisprint"),l=(0,s.Q2)("hotkey");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",q,[(0,s._)("div",Y,[(0,s.WI)(e.$slots,"default")],512),a.showMisprint?((0,s.wg)(),(0,s.j4)(r,{key:0,action:i.action,"misprint-text":a.misprintText,onClose:o.closeMisprint},null,8,["action","misprint-text","onClose"])):(0,s.kq)("",!0)])),[[l,o.misprintKeymap]])}var j=i(59545),K=i(71197);const z=(0,j.Rd)((()=>i.e(1381).then(i.bind(i,61381)))),Q={name:"TMMisprintArea",components:{TMMisprint:z},props:{action:{type:Function,required:!0}},data(){return{misprintText:null,showMisprint:!1}},computed:{misprintKeymap(){return{"ctrl+enter":this.openMisprintDialog,"meta+enter":this.openMisprintDialog}}},methods:{getTextSelection(){const e=window.getSelection(),t=e.toString(),{anchorNode:i,focusNode:s}=e,{root:n}=this.$refs;return t.length&&n.contains(i)&&n.contains(s)?t:null},openMisprintDialog(e){if(this.showMisprint)return;const t=this.getTextSelection();t&&(0,K.q)().isLoggedIn&&(e.stopPropagation(),this.misprintText=t,this.showMisprint=!0)},closeMisprint(){this.showMisprint=!1,this.misprintText=""}}},X=(0,k.Z)(Q,[["render",Z]]),J=X;var ee=i(31596),te=i(95687),ie=i(10390),se=i(64487),ne=i(93096),ae=i.n(ne),oe=i(34138),re=i(90201),le=i(48247),ce=i(35275),ue=i(43995);function de(e,t){const{uuid:i,onUuidReady:n}=(0,re.q)(),o=(0,le.b8)(),{sendPublicationTrackingTime:r,addTrackingTime:l,setTrackingTime:c,resetPublicationTrackedTime:u}=o,d=(0,s.Fl)((()=>e.value&&e.value.id));let m={};function p(){const e=o.getPublicationTrackedTimeById(d.value);e&&(m[le.q3.timeInViewport]=e[le.q3.timeInViewport])}const{isUserActive:_,onActivityEvent:h}=(0,oe.DV)();h((()=>{p()})),(0,s.YP)(_,(async e=>{!1===e&&((0,V.v4)(t.value)&&m[le.q3.timeInViewport]&&c({publicationId:d.value,type:le.q3.timeInViewport,time:m[le.q3.timeInViewport]}),await r(d.value,i.value),u(d.value),m={})}));let g=0;const v=(0,a.iH)(0),T=[0,10,25,50,75,100];function E(t){if(!e.value)return null;const s={uuid:i.value,publicationId:d.value,publicationType:e.value.postType};return"undefined"!==t&&(s.checkpoint=t),s}function S(){t.value&&(i.value?(0,V.v4)(t.value)&&n((()=>{I(),C()})):(0,se.uT)("Uuid is empty"))}const f=ae()(S,200),A=(0,a.iH)(0),b=(0,s.Fl)((()=>{const e=T.indexOf(A.value);return T.slice(e)}));function I(){100!==A.value&&b.value.forEach((e=>{A.value<e&&(0,V.xU)(t.value,e)&&(A.value=e,(0,ue.QA)(E(e)))}))}const y=(0,s.Fl)((()=>{if(!e.value||!e.value.textHtml)return 0;const t=e.value.textHtml.replace(/<[^>]*>/g,"");return t.length})),w=(0,a.iH)(0),P=(0,s.Fl)((()=>{const e=T.indexOf(w.value);return T.slice(e)}));function C(){if(100===w.value)return;const e=(0,V.i9)(t.value),i=0!==v.value?y.value*e*.01/v.value:0;i>60||P.value.forEach((e=>{w.value<e&&(0,V.xU)(t.value,e)&&(w.value=e,(0,ue._9)(E(e)))}))}function k(){10===v.value&&(0,ue.Pw)(E())}function L(){(0,ue.QA)(E(0)),(0,ue._9)(E(0))}function N(){t.value&&!g&&(g=setInterval((()=>{!document.hidden&&_.value&&(0,V.v4)(t.value)&&(v.value+=1,k(),1===v.value&&n((()=>L())),_.value&&l({publicationId:d.value,time:1,type:le.q3.timeInViewport}))}),1e3),document.addEventListener("scroll",f,{passive:!0}))}let O=!1;function R(){clearInterval(g),g=null,document.removeEventListener("scroll",f)}function M(){O||(O=!0,window.addEventListener("unload",U))}function U(){i.value||ce.v9||(0,se.uT)("Uuid is empty"),r(d.value,i.value),u(d.value),O=!1,window.removeEventListener("unload",U)}return{logProgress:S,startLogProgress:N,stopLogProgress:R,stopLogReadTime:U,startLogReadTime:M}}var me=i(21805),pe=i(89554),_e=i(36134),he=i(35457);function ge(e){const{linkedPostTranslation:t,lang:i}=e;if(!t)return[];const s=(0,he.articleCanonical)(e);return[{rel:"alternate",hreflang:i,href:s},{rel:"alternate",hreflang:t.lang,href:t.url}]}var ve=i(15923),Te=i(84183),Ee=i(68970),Se=i(42794),fe=i(86598),Ae=i(68171),be=i(24440),Ie=i(67267),ye=i(51084),we=i(72923),Pe=i(70806),Ce=i(4344),ke=i.n(Ce),Le=i(61254),Ne=i.n(Le);const Oe={class:"tm-article-presenter__body","data-test-id":"article-body"},Re={key:0,class:"tm-article-presenter__origin"},Me=["href"],Ue=["href"],De=["src"],Be={key:0,class:"tm-article-presenter__footer"},He=Object.assign({name:"TMArticlePresenter"},{__name:"article-presenter",props:{article:{type:Object,default:null},isLoading:{type:Boolean,required:!0},variant:{type:String,default:null},shouldLogPageview:{type:Boolean,default:!0},companyInfo:{type:Object,required:!1,default:null}},setup(e){var t,d;const h=(0,j.Rd)((()=>Promise.all([i.e(76),i.e(1352),i.e(7263)]).then(i.bind(i,7263))),j.b2),g=e,v=(0,r.tv)(),T=(0,r.yj)(),{langOptions:E,msg:S}=(0,_e.Q)(),f=(0,l.pm)(),A=(0,a.iH)(!1),b=(0,a.iH)(!1),w=(0,a.iH)(null),P=(0,K.q)(),{isLoggedIn:C,userAlias:k,uuid:L}=(0,p.Jk)(P),N=(0,a.iH)();function O(){return new Promise((e=>{var t;if(A.value)return void e();(0,we.Az)(g.article.id).catch((e=>{Ie.Z.notifyException(e)})).finally(e);const i=Ne()({isEditorial:g.article.isEditorial,companySettings:null===(t=g.companyInfo)||void 0===t?void 0:t.settings}),s={hubs_and_flows:ke()(g.article)};i&&(s.page_producer=i),(0,y.Z0)({fullPath:T.fullPath,optionalParams:s}),A.value=!0}))}const R=(0,s.Fl)((()=>{var e,t;return(null===(e=g.article)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.adriverPixels)||[]}));function D(){R.value.forEach((e=>{const t=new Image;t.src=e}))}const B=(0,s.Fl)((()=>T.params.companyName)),H=(0,s.Fl)((()=>B.value?g.companyInfo&&g.companyInfo.settings&&g.article?{...g.article,settings:g.companyInfo.settings}:null:g.article));(0,s.bv)((()=>{(0,s.YP)((()=>H.value),((e,t)=>{e&&!(0,Se.wm)(e,t)&&(O().then((()=>{C.value&&P.loadUpdates()})),(0,ye.Df)(),C.value||"undefined"===typeof indexedDB||(0,u.t8)(e.id,e.statistics.commentsCount),R.value&&R.value.length&&D())}),{immediate:!0})}));const V=(0,s.Fl)((()=>{var e;return(null===(e=g.article)||void 0===e?void 0:e.banner)&&g.companyInfo&&{blockUuid:g.article.banner.uuid,companyAlias:g.companyInfo.alias}})),$=(0,ie.s)(V),W=(0,pe.f)(),q=W.get("habr_web_home_feed"),{logProgress:Y,startLogProgress:Z,startLogReadTime:z,stopLogReadTime:Q,stopLogProgress:X}=de((0,s.Fl)((()=>g.article)),N);(0,s.dl)((()=>{A.value=!1,g.isLoading||(Z(),z())})),(0,s.se)((()=>{Y(),X(),Q()})),(0,s.bv)((()=>{b.value=!0,g.isLoading||(Z(),z())})),(0,s.Jd)((()=>{Y(),X(),Q()})),(0,s.YP)((()=>g.isLoading),(e=>{e||(Z(),z())}));const se=(0,s.Fl)((()=>g.article?{"meta+e":Ye,"ctrl+e":Ye,u:oe}:{})),ne=(0,Te.s)(),{isMobileOnly:ae}=(0,p.Jk)(ne);function oe(){const e=(0,Ae.bc)(E.value,q.value),t=(0,I.g)().lastVisitedRoute,i=t.name?t:e;v.push(i)}const re=(0,Ee.UJ)(),le=(0,s.Fl)((()=>{if(!g.article.postLabels)return null;const{data:e=null}=g.article.postLabels.find((e=>"translation"===e.type))||{};return e})),ce=(0,s.Fl)((()=>"wide"===g.variant)),ue=(0,s.Fl)((()=>g.article&&g.article.author?re.getUserByAlias(g.article.author.alias)||g.article.author:null)),Ce=(0,s.Fl)((()=>{var e;if(!ue.value)return!1;const t=Object.values((null===(e=ue.value)||void 0===e?void 0:e.paymentDetails)??[]).some(Boolean);return"wallets"===ue.value.donationsMethod&&t}));function Le(){(0,Pe.o)({uuid:L.value,blockUuid:g.article.banner.uuid,company:g.companyInfo.alias})}function He(e){return(0,we.Ai)(g.article.id,e)}const Fe=(0,I.g)(),{oldEditorForm:Ve}=(0,p.Jk)(Fe),$e=(0,a.iH)(!!T.query.edit),We=(0,a.iH)(!1),Ge=(0,a.iH)(null===(t=Ve.value)||void 0===t?void 0:t.title),xe=(0,a.iH)(null===(d=Ve.value)||void 0===d?void 0:d.text.source),qe=(0,s.Fl)((()=>{var e,t;return Ge.value!==(null===(e=Ve.value)||void 0===e?void 0:e.title)||xe.value!==(null===(t=Ve.value)||void 0===t?void 0:t.text.source)}));async function Ye(){const e=1===parseInt(g.article.editorVersion,10);e?await Ze():(0,fe.I5)(g.article,v)}async function Ze(){We.value=!0;try{const e=Ve.value??await Fe.loadOldEditorForm(g.article.id);Ge.value=e.title,xe.value=e.text.source,$e.value=!0}catch(t){var e;Ie.Z.notifyException(t),f.error((null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.title)??S("ERROR_PAGE_MESSAGE_INTERNAL"))}finally{We.value=!1}}async function je(){We.value=!0;try{const e=g.article.id;await Fe.updateOldEditorArticle(e,{title:Ge.value,text:xe.value}),Ke()}catch(t){var e;Ie.Z.notifyException(t),f.error((null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.title)??S("ERROR_PAGE_MESSAGE_INTERNAL"))}finally{We.value=!1}}function Ke(){if(Ge.value="",xe.value="",$e.value=!1,T.query.edit){const e={...T.query};delete e.edit,v.replace({query:e})}}function ze(){qe.value&&!window.confirm(S("FORMS_CANCEL_WARNING"))||Ke()}function Qe(e){window.confirm(S("ARTICLE_DRAFT_DELETE_CONFIRM"))&&(0,we.mZ)(e).then((()=>{v.push({name:"ARTICLES_LIST_BY_USER",params:{login:k.value,hl:E.value.hl}}),f.info(S("ARTICLE_DELETED"))})).catch((e=>{f.error(e.message)}))}(0,me.w)((async()=>{var e,t;$e.value&&(await Fe.loadOldEditorForm(T.params.id),Ge.value=null===(e=Ve.value)||void 0===e?void 0:e.title,xe.value=null===(t=Ve.value)||void 0===t?void 0:t.text.source)}));const Xe=(0,s.Fl)((()=>{var e,t;return null!==(e=le.value)&&void 0!==e&&e.originalAuthorName?m()(null===(t=le.value)||void 0===t?void 0:t.originalAuthorName):""}));(0,c.u)((()=>{const{article:e}=g;if(!e||!e.metadata)return{};const{lang:t,metadata:i}=e,{shareImageUrl:s,schemaJsonLd:n,amp:a}=i,o=[{href:(0,he.articleCanonical)(e),rel:"canonical",vmid:"canonical"},{rel:"image_src",href:s,vmid:"image:href"},...ge(e)];return a&&E.value.hl===t&&o.push({rel:"amphtml",href:`https://habr.com/${t}/amp/publications/${e.id}/`}),{title:(0,be._)(e.titleHtml),link:o,meta:(0,ve.GD)(g.article),script:[{type:"application/ld+json",innerHTML:n,vmid:"ldjson-schema"}]}}));const{setBannerContainer:Je}=(0,F.Q)();return(0,s.bv)((()=>{Je(w.value)})),(0,s.Ah)((()=>{Je(null)})),(t,i)=>{const r=(0,s.Q2)("hotkey");return(0,s.wg)(),(0,s.iD)("div",{ref_key:"articlePresenterRef",ref:w,class:(0,n.C_)(["tm-article-presenter",{"tm-article-presenter_wide":ce.value}])},[(0,s.WI)(t.$slots,"beforeBody"),(0,s._)("div",Oe,[(0,s.Wm)(J,{action:He},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("article",{ref_key:"publicationContainerRef",ref:N,class:(0,n.C_)(["tm-article-presenter__content",{"tm-article-presenter__content_narrow":!ce.value}])},[e.isLoading?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(ee.Z,{type:"article"}),(0,s.Wm)(ee.Z,{type:"articleBody"})],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",{class:(0,n.C_)(["tm-article-presenter__header",{"tm-article-presenter__header_wide":ce.value}])},[(0,s.WI)(t.$slots,"beforeSnippet"),(0,s.Wm)(U.Z,{"edited-title":Ge.value,"onUpdate:editedTitle":i[0]||(i[0]=e=>Ge.value=e),article:e.article,class:(0,n.C_)(["tm-article-presenter__snippet",{"tm-article-presenter__snippet_wide":ce.value}]),"full-article":"","is-edit-loading":We.value,"is-edit-mode":$e.value,"is-edit-mode-has-changes":qe.value,lang:"ru",tag:"h1",onCancelEdit:ze,onDelete:i[1]||(i[1]=t=>Qe(e.article.id)),onOldEditorClick:Ye,onSaveEdit:je},null,8,["edited-title","article","class","is-edit-loading","is-edit-mode","is-edit-mode-has-changes"])],2),(0,s.WI)(t.$slots,"body",{},(()=>[le.value?((0,s.wg)(),(0,s.iD)("div",Re,[(0,s._)("a",{class:"tm-article-presenter__origin-link",href:le.value.originalUrl,target:"_blank"},[(0,s.Uk)((0,n.zw)((0,a.SU)(S)("ARTICLE_ORIGIN_TITLE"))+" ",1),(0,s._)("span",null,(0,n.zw)(Xe.value),1)],8,Me)])):(0,s.kq)("",!0),$e.value?((0,s.wg)(),(0,s.j4)((0,a.SU)(h),{key:1,modelValue:xe.value,"onUpdate:modelValue":i[2]||(i[2]=e=>xe.value=e),"class-name":"tm-article-presenter__body-edit-input"},null,8,["modelValue"])):((0,s.wg)(),(0,s.j4)(_.Z,{key:2,article:e.article,lang:e.article.lang},null,8,["article","lang"]))])),e.article.banner?((0,s.wg)(),(0,s.iD)("a",{key:0,ref_key:"bannerContainer",ref:$,class:"tm-article-presenter__banner",href:e.article.banner.url,onClick:(0,o.iM)(Le,["left"]),onMouseup:(0,o.iM)(Le,["middle"])},[(0,s._)("img",{alt:"",class:"tm-article-presenter__banner-image",src:(0,a.SU)(ae)?e.article.banner.mobileImageUrl:e.article.banner.desktopImageUrl},null,8,De)],40,Ue)):(0,s.kq)("",!0),(0,s._)("div",{class:(0,n.C_)(["tm-article-presenter__meta",{"tm-article-presenter__meta_wide":ce.value}]),"data-test-id":"article-meta-links"},[e.article.tags&&e.article.tags.length?((0,s.wg)(),(0,s.j4)(te.Z,{key:0,class:"tm-article-presenter__meta-list",tags:e.article.tags,title:(0,a.SU)(S)("ARTICLE_TAGS_TITLE")},null,8,["tags","title"])):(0,s.kq)("",!0),e.article.hubs&&e.article.hubs.length?((0,s.wg)(),(0,s.j4)(x.Z,{key:1,class:"tm-article-presenter__meta-list",hubs:e.article.hubs,title:(0,a.SU)(S)("ARTICLE_HUBS_TITLE")},null,8,["hubs","title"])):(0,s.kq)("",!0)],2),Ce.value?((0,s.wg)(),(0,s.j4)(M,{key:1,article:e.article,author:ue.value},null,8,["article","author"])):(0,s.kq)("",!0)],64))],2)),[[r,se.value,void 0,{stop:!0}]])])),_:3}),e.article?((0,s.wg)(),(0,s.j4)(G,{key:0,article:e.article,element:b.value?t.$refs.publicationContainerRef:null},{articleMenu:(0,s.w5)((()=>[(0,s.WI)(t.$slots,"articleMenu")])),_:3},8,["article","element"])):(0,s.kq)("",!0)]),(0,s.WI)(t.$slots,"beforeFooter"),t.$slots.footer?((0,s.wg)(),(0,s.iD)("div",Be,[(0,s.WI)(t.$slots,"footer")])):(0,s.kq)("",!0)],2)}}}),Fe=He,Ve=Fe},76434:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var s=i(66252),n=i(56612);const a={key:0,class:"tm-article-snippet-block__user-meta"},o={key:0,class:"tm-article-snippet-block__date"},r={key:1},l=["textContent"],c=["innerHTML"],u=["innerHTML"];function d(e,t,i,d,m,p){const _=(0,s.up)("TMDatetime"),h=(0,s.up)("TMMessageInterpolation"),g=(0,s.up)("TMPublicationLink"),v=(0,s.up)("TMDataIcons");return(0,s.wg)(),(0,s.iD)("article",{class:(0,n.C_)(`tm-article-snippet-block-${e.layout} tm-article-snippet-block-${e.layout}_preview`)},["mostReadingList"!==e.bookmarkModule?((0,s.wg)(),(0,s.iD)("div",a,[e.showDate?((0,s.wg)(),(0,s.iD)("div",o,[e.article.timePublished?((0,s.wg)(),(0,s.j4)(_,{key:0,date:new Date(e.article.timePublished),"is-article-format":""},null,8,["date"])):e.article.plannedPublishTime?((0,s.wg)(),(0,s.iD)("span",r,[(0,s.Wm)(h,{message:e.msg("ARTICLE_PLANNED")},{datetime:(0,s.w5)((()=>[(0,s.Wm)(_,{"absolute-date":"",date:new Date(e.article.plannedPublishTime),"show-full-date-time":""},null,8,["date"])])),_:1},8,["message"])])):((0,s.wg)(),(0,s.iD)("span",{key:2,textContent:(0,n.zw)(e.msg("ARTICLE_NEVER_PUBLISHED"))},null,8,l))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"fullview"===e.layout?((0,s.wg)(),(0,s.iD)("h1",{key:1,class:(0,n.C_)(["tm-article-title",`tm-article-title_${e.layout}`])},[(0,s._)("span",{class:"tm-article-title__text",innerHTML:e.article.titleHtml},null,8,c)],2)):((0,s.wg)(),(0,s.iD)("h2",{key:2,class:(0,n.C_)(["tm-article-title",`tm-article-title_${e.layout}`])},[(0,s.Wm)(g,{article:e.article,class:(0,n.C_)(["tm-article-title__link",e.titleClassName]),onClick:e.logClickEvent},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:e.article.titleHtml},null,8,u)])),_:1},8,["article","class","onClick"])],2)),(0,s.Wm)(v,{article:e.article,"bookmark-module":e.bookmarkModule,"ga-event":e.gaEvent,"icons-list":e.iconsList,type:e.layout},null,8,["article","bookmark-module","ga-event","icons-list","type"])],2)}var m=i(35315),p=i(20666),_=i(96973),h=i(85556),g=i(50780),v=i(19913);const T={name:"TMArticleSnippetBlock",components:{TMDataIcons:m.Z,TMDatetime:p.Z,TMPublicationLink:h.Z,TMMessageInterpolation:_.Z},props:{article:g.s,gaEvent:{type:[Object,String],required:!1,default:null},layout:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},customIconsList:{type:Array,default:()=>null},showDate:{type:Boolean,default:!0}},computed:{iconsList(){return this.customIconsList?this.customIconsList:"block"===this.layout?["votes","views","comments","favorite"]:["views","comments"]},titleClassName(){return{"tm-article-title__link_megapost":"megaproject"===this.article.postType}}},methods:{logClickEvent(){this.gaEventName&&"string"===typeof this.gaEventName&&(0,v.IZ)(this.gaEventName)}}};var E=i(83744);const S=(0,E.Z)(T,[["render",d]]),f=S},94574:(e,t,i)=>{"use strict";i.d(t,{Z:()=>he});var s=i(66252),n=i(56612),a=i(58061);const o={class:"tm-article-snippet__meta-container"},r={class:"tm-article-snippet__meta"},l={key:0,class:"tm-article-snippet__controls"},c=["disabled"],u={key:1,class:"tm-article-snippet__controls"},d=["title"],m={class:"tm-article-snippet__stats","data-test-id":"articleStats"},p={class:"tm-article__moderation-comment-header"},_={class:"tm-article__moderation-comment-title"},h=["innerHTML"],g={key:4,class:"tm-article-snippet__lead"},v=["src"],T=["src"],E=["innerHTML"];function S(e,t,i,S,f,A){const b=(0,s.up)("TMArticleDatetimePublished"),I=(0,s.up)("TMUserInfo"),y=(0,s.up)("TMCircleLoader"),w=(0,s.up)("TMSvgImg"),P=(0,s.up)("router-link"),C=(0,s.up)("StatisticsLink"),k=(0,s.up)("BaseInput"),L=(0,s.up)("TMArticleTitle"),N=(0,s.up)("TMArticleComplexity"),O=(0,s.up)("TMArticleReadingTime"),R=(0,s.up)("TMIconCounter"),M=(0,s.up)("TMPublicationHubs"),U=(0,s.up)("TMArticleLabels"),D=(0,s.up)("TMWarningIcon"),B=(0,s.up)("TMDatetime"),H=(0,s.up)("TMNotice"),F=(0,s.up)("TMArticleFormattedBody"),V=(0,s.up)("TMPublicationLink"),$=(0,s.up)("TMArticleVisibilitySettings");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{ref:"articleSnippetRef",class:(0,n.C_)(["tm-article-snippet",A.bem("tm-article-snippet",{noBorder:i.noBorder})])},[(0,s.WI)(e.$slots,"top"),(0,s._)("div",o,[(0,s._)("div",r,[S.showAuthor?((0,s.wg)(),(0,s.j4)(I,{key:0,author:i.article.author,avatar:i.article.author.avatarUrl,"avatar-size":S.isMobile?32:24,class:"tm-article-snippet__author",onClick:A.logAuthorClick},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{article:i.article,"is-megapost-v1":S.isMegapostV1,link:i.dateAsLink},null,8,["article","is-megapost-v1","link"])])),_:1},8,["author","avatar","avatar-size","onClick"])):((0,s.wg)(),(0,s.j4)(b,{key:1,article:i.article,"is-megapost-v1":S.isMegapostV1,link:i.dateAsLink},null,8,["article","is-megapost-v1","link"]))]),i.isEditMode?((0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("button",{class:"tm-article-snippet__controls-item tm-article-snippet__confirm",disabled:!i.isEditModeHasChanges||i.isEditLoading,onClick:t[0]||(t[0]=t=>e.$emit("save-edit"))},[i.isEditLoading?((0,s.wg)(),(0,s.j4)(y,{key:0,class:"tm-article-snippet__controls-loader",height:20,width:20})):((0,s.wg)(),(0,s.j4)(w,{key:1,id:"icon-done",size:"20",title:e.msg("PUBLICATION_SAVE")},null,8,["title"]))],8,c),(0,s._)("div",{class:"tm-article-snippet__controls-item tm-article-snippet__cancel",onClick:t[1]||(t[1]=t=>e.$emit("cancel-edit"))},[(0,s.Wm)(w,{id:"close-rounded",size:"20"})])])):A.showModeratorCheck||S.isEditable||S.isStatsAvailable?((0,s.wg)(),(0,s.iD)("div",u,[A.showModeratorCheck&&i.article.checked?((0,s.wg)(),(0,s.j4)(w,{key:0,id:"moderator-check",class:"tm-article-snippet__moderation","data-test-id":"articleModeratorCheck"})):(0,s.kq)("",!0),A.showEditLink?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[S.isNewEditor?((0,s.wg)(),(0,s.j4)(P,{key:0,class:"tm-article-snippet__edit","data-test-id":"newEditorlink",to:A.editPublicationRoute},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{id:"edit",class:"icon_edit-post","data-test-id":"articleEditIcon",size:"20"})])),_:1},8,["to"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[S.isVisibilitySettingLoading?((0,s.wg)(),(0,s.j4)(y,{key:0,class:"tm-article-snippet__controls-loader",height:20,width:20})):i.article.timePublished?((0,s.wg)(),(0,s.j4)(w,{key:1,id:"counter-views-filled",class:"tm-article-snippet__edit",size:"20",title:e.msg("COMPANY_ADMIN_ARTICLE_VISIBILITY_POPUP_TITLE"),onClick:(0,a.iM)(S.handleVisibilityClick,["prevent"])},null,8,["title","onClick"])):(0,s.kq)("",!0),i.isEditLoading?((0,s.wg)(),(0,s.j4)(y,{key:2,class:"tm-article-snippet__controls-loader",height:20,width:20})):((0,s.wg)(),(0,s.iD)("a",{key:3,class:"tm-article-snippet__edit","data-test-id":"oldEditorlink",onClick:t[2]||(t[2]=(0,a.iM)(((...e)=>A.handleOldEditorClick&&A.handleOldEditorClick(...e)),["prevent"]))},[(0,s.Wm)(w,{id:"edit",class:"icon_edit-post","data-test-id":"articleEditIcon",size:"20"})]))],64))],64)):(0,s.kq)("",!0),S.isStatsAvailable?((0,s.wg)(),(0,s.j4)(C,{key:2,class:"tm-article-snippet__stats-info",publication:i.article},null,8,["publication"])):(0,s.kq)("",!0),A.canDeleteDraft?((0,s.wg)(),(0,s.iD)("button",{key:3,class:"tm-article-snippet__delete","data-test-id":"articleDeleteDraftButton",title:e.msg("ARTICLE_DRAFT_DELETE"),onClick:t[3]||(t[3]=t=>e.$emit("delete"))},[(0,s.Wm)(w,{id:"trash",class:"icon_edit-post","data-test-id":"articleDeleteDraftIcon",size:"20",title:e.msg("ARTICLE_DRAFT_DELETE")},null,8,["title"])],8,d)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),i.isEditMode?((0,s.wg)(),(0,s.j4)(k,{key:0,class:"tm-article-snippet__title-edit-input","html-attrs":{autocomplete:"off"},"model-value":i.editedTitle,"onUpdate:modelValue":t[4]||(t[4]=t=>e.$emit("update:editedTitle",t))},null,8,["model-value"])):((0,s.wg)(),(0,s.j4)(L,{key:1,article:i.article,class:(0,n.C_)({"tm-article-snippet__title_megapost":S.isMegapostV1}),"ga-event":i.gaTitle,lang:i.lang,tag:i.tag,"use-link":i.useLink,onLinkClick:S.handleLinkClick},null,8,["article","class","ga-event","lang","tag","use-link","onLinkClick"])),(0,s._)("div",m,[i.article.complexity?((0,s.wg)(),(0,s.j4)(N,{key:0,complexity:i.article.complexity},null,8,["complexity"])):(0,s.kq)("",!0),i.article.readingTime?((0,s.wg)(),(0,s.j4)(O,{key:1,"reading-time":i.article.readingTime},null,8,["reading-time"])):(0,s.kq)("",!0),A.isSandbox?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(R,{key:2,abbreviated:"",class:"tm-data-icons__item",counter:i.article.statistics.readingCount,"icon-id":"counter-views",title:e.msg("DATA_ICONS_VIEWS")},null,8,["counter","title"]))]),A.showHubs&&i.article.hubs&&i.article.hubs.length?((0,s.wg)(),(0,s.j4)(M,{key:2,"data-test-id":"articleHubsList",hubs:i.article.hubs,"is-old-megapost":S.isMegapostV1},null,8,["hubs","is-old-megapost"])):(0,s.kq)("",!0),(0,s.Wm)(U,{article:i.article,"data-test-id":"articleLabels","show-labels":A.showLabels},null,8,["article","show-labels"]),i.article.moderationComment?((0,s.wg)(),(0,s.j4)(H,{key:3,"data-test-id":"articleModerationComment",type:"warning"},{icon:(0,s.w5)((()=>[(0,s.Wm)(D,{class:"tm-article__moderation-comment-icon"})])),title:(0,s.w5)((()=>[(0,s._)("div",p,[(0,s._)("div",_,(0,n.zw)(e.msg("ARTICLE_MODERATOR_MESSAGE")),1),S.isDesktop?((0,s.wg)(),(0,s.j4)(B,{key:0,date:new Date(i.article.moderationComment.timeCreated),"show-full-date-time":""},null,8,["date"])):(0,s.kq)("",!0)])])),default:(0,s.w5)((()=>[(0,s._)("div",{class:"tm-article__moderation-comment-body","data-test-id":"moderationCommentText",innerHTML:i.article.moderationComment.textHtml},null,8,h)])),_:1})):(0,s.kq)("",!0),A.showLead&&i.article.leadData?((0,s.wg)(),(0,s.iD)("div",g,[i.article.leadData.image?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,n.C_)(["tm-article-snippet__cover",A.objectFitClass])},[(0,s._)("img",{class:"tm-article-snippet__lead-image","data-test-id":"articleLeadImage",src:i.article.leadData.image.url,style:(0,n.j5)(A.objectPositionStyle)},null,12,v)],2)):i.article.leadData.imageUrl?((0,s.wg)(),(0,s.iD)("img",{key:1,class:"tm-article-snippet__lead-image","data-test-id":"articleLeadImage",src:i.article.leadData.imageUrl},null,8,T)):(0,s.kq)("",!0),i.article.leadData.textHtml?((0,s.wg)(),(0,s.j4)(F,{key:2,"article-text":i.article.leadData.textHtml,version:S.editorVersion},null,8,["article-text","version"])):(0,s.kq)("",!0),i.article.leadData.buttonTextHtml?((0,s.wg)(),(0,s.j4)(V,{key:3,article:i.article,class:"tm-article-snippet__readmore",onClick:S.handleLinkClick},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:i.article.leadData.buttonTextHtml},null,8,E)])),_:1},8,["article","onClick"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],2),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[(0,s.Wm)($,{ref:"articleVisibilitySettings"},null,512)]))],64)}var f=i(62931),A=i(22201),b=i(67476);const I={class:"tm-article-complexity__label"};function y(e,t,i,a,o,r){const l=(0,s.up)("TMSvgIcon");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(r.bem("tm-article-complexity",{complexity:i.complexity}))},[(0,s.Wm)(l,{id:`complexity-${i.complexity}`,class:"tm-article-complexity__icon",size:"24",title:e.msg("PUBLICATION_COMPLEXITY")},null,8,["id","title"]),(0,s._)("span",I,(0,n.zw)(r.label),1)],2)}var w=i(3739),P=i(25109),C=i(99691);const k={name:"TMArticleComplexity",components:{TMSvgIcon:w["default"]},props:{complexity:{type:String,validator:(0,C.HZ)(["low","medium","high"]),required:!0}},computed:{label(){return this.msg(`PUBLICATION_COMPLEXITY_${this.complexity.toUpperCase()}`)}},methods:{bem:P.P}};var L=i(83744);const N=(0,L.Z)(k,[["render",y]]),O=N;var R=i(6222),M=i(77025),U=i(95560);const D={class:"tm-article-reading-time"},B={class:"tm-article-reading-time__label"};function H(e,t,i,a,o,r){const l=(0,s.up)("TMSvgIcon");return(0,s.wg)(),(0,s.iD)("div",D,[(0,s.Wm)(l,{id:"clock",class:"tm-article-reading-time__icon",size:"24"}),(0,s._)("span",B,(0,n.zw)(r.label),1)])}const F={name:"TMArticleReadingTime",components:{TMSvgIcon:w["default"]},props:{readingTime:{type:Number,required:!0}},computed:{label(){return this.msg("ARTICLE_READING_TIME",{readingTime:this.readingTime})}}},V=(0,L.Z)(F,[["render",H]]),$=V;var W=i(76769),G=i(2372),x=i(83485),q=i(20666),Y=i(59545),Z=i(30143),j=i(88098),K=i(61426),z=i(85556),Q=i(84077),X=i(39639),J=i(65904),ee=i(23752),te=i(8492),ie=i(58748),se=i(36060),ne=i(84183),ae=i(71197),oe=i(94769),re=i(48037),le=i(19913),ce=i(86598),ue=i(72923);const de=(0,Y.Rd)((()=>Promise.all([i.e(76),i.e(1352),i.e(2756)]).then(i.bind(i,32756))),Y.b2),me=(0,Y.Rd)((()=>i.e(6407).then(i.bind(i,86407))),Y.MN),pe={name:"TMArticleSnippet",components:{StatisticsLink:Q.Z,TMArticleLabels:U.Z,TMPublicationHubs:K.Z,TMArticleTitle:W.Z,TMArticleComplexity:O,TMArticleReadingTime:$,TMDatetime:q.Z,TMNotice:j.Z,TMSvgImg:X.Z,TMIconCounter:Z.Z,TMUserInfo:J.Z,TMPublicationLink:z.Z,TMWarningIcon:me,TMArticleFormattedBody:M.Z,TMArticleDatetimePublished:R.Z,TMCircleLoader:G.Z,TMArticleVisibilitySettings:x.Z,BaseInput:de},props:{article:{default:()=>{},type:Object},tag:{type:String,default:"h2"},useLink:{type:Boolean,default:!1},fullArticle:{type:Boolean,default:!1},lang:{type:String,default:null},withHubs:{type:Boolean,default:null},withLabels:{type:Boolean,default:null},withLead:{type:Boolean,default:null},withAuthor:{type:Boolean,default:!0},noBorder:Boolean,articleView:{type:String,default:null,validator(e){return["cards","list"].includes(e)}},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},dateAsLink:{type:Boolean,default:!1},position:{type:[Number,Boolean],default:-1},isEditModeHasChanges:{type:Boolean,default:!1},isEditLoading:{type:Boolean,default:!1},isEditMode:{type:Boolean,default:!1},editedTitle:{type:String,default:""}},emits:["delete","link-click","old-editor-click","save-edit","cancel-edit","update:editedTitle"],setup(e,{emit:t}){const{isStatsAvailable:i,editorVersion:n,isMegaPost:a,isEditable:o,isNewEditor:r}=(0,te.X)(e.article),l=(0,ne.s)(),c=(0,ae.q)(),{isSuperAdmin:u,isModerator:d,isBlocked:m}=(0,b.Jk)(c),{isMobile:p,isDesktop:_}=(0,b.Jk)(l),h=(0,s.Fl)((()=>a.value&&1===n.value)),g=(0,s.Fl)((()=>e.withAuthor&&e.article.author&&!a.value)),v=(0,f.iH)(!1),T=(0,f.iH)(null),E=async()=>{var t;const{plannedPublishTime:i,status:s}=e.article,n=i?"planned":s,a=await T.value.show({article:e.article,initData:{status:n,plannedDateTime:i}}),o=(null===a||void 0===a?void 0:a.articleStatus)!==n,r=(null===a||void 0===a?void 0:a.plannedDateTime)!==i;if(!o&&!r)return;const{articleStatus:l,plannedDateTime:c}=a;v.value=!0,await(0,ue.Dz)(e.article.id,{published:"published"===l}),c&&await(0,ue.hx)(e.article.id,{plannedDateTime:c}),(0,oe.R)().toggleRefresh(!0),await(0,ie.g)().loadArticle(e.article.id,null===(t=e.article)||void 0===t?void 0:t.isPost),v.value=!1},S=(0,s.Fl)((()=>e.position)),I=(0,s.Fl)((()=>"number"===typeof S.value&&S.value>=0)),{setPublicationFeedState:y}=(0,se.M)(),w=e.article.id,P=(0,f.iH)(null),{startTracking:C,stopTracking:k}=(0,ee.$)(),L=(0,re.d)(P),N=(0,A.yj)(),O=N.fullPath;function R(e){I.value&&(y({feedId:O,publicationId:w,position:S.value,type:se.E.clicked}),y({feedId:O,publicationId:w,position:S.value,type:se.E.viewed})),t("link-click",e)}return(0,s.bv)((()=>{I.value&&(y({feedId:O,publicationId:w,position:S.value,type:se.E.loaded}),C(L.value,(()=>{y({feedId:O,publicationId:w,position:S.value,type:se.E.viewed})})))})),(0,s.Jd)((()=>{I.value&&k(L.value)})),{isStatsAvailable:i,isEditable:o,isMegaPost:a,editorVersion:n,isNewEditor:r,isMegapostV1:h,showAuthor:g,isDesktop:_,isMobile:p,isSuperAdmin:u,isModerator:d,isBlocked:m,isVisibilitySettingLoading:v,handleVisibilityClick:E,articleVisibilitySettings:T,articleSnippetRef:P,handleLinkClick:R}},computed:{getArticleView(){return this.articleView||(0,ie.g)().view},showEditLink(){const e=this.isModerator||this.isSuperAdmin||!this.isBlocked;return this.isEditable&&e},showHubs(){return null===this.withHubs?this.fullArticle||"cards"===this.getArticleView:this.withHubs},showLabels(){return!1!==this.withLabels},showLead(){return null===this.withLead?!this.fullArticle&&"cards"===this.getArticleView:this.withLead},leadDataImage(){const{article:{leadData:e}}=this;return e&&e.image},objectFitClass(){return this.leadDataImage&&this.leadDataImage.fit&&`tm-article-snippet__cover_${this.leadDataImage.fit}`},objectPositionStyle(){return this.leadDataImage&&`object-position: ${this.leadDataImage.positionX}% ${this.leadDataImage.positionY}%`},showModeratorCheck(){return this.isSuperAdmin},editPublicationRoute(){return"megaproject"===this.article.postType&&this.isNewEditor?{name:"PUBLICATION_MEGAPOST_EDIT",params:{publicationId:this.article.id}}:"news"===this.article.postType?{name:"PUBLICATION_NEWS_EDIT",params:{publicationId:this.article.id}}:{name:"sandbox"===this.article.postType?"PUBLICATION_SANDBOX_EDIT":"PUBLICATION_ARTICLE_EDIT",params:{publicationId:this.article.id}}},canDeleteDraft(){return"draft"===this.article.status&&!this.article.timePublished&&!this.article.plannedPublishTime},isSandbox(){return"sandbox"===this.$route.meta.pageType||this.$route.meta.isSandboxPage}},methods:{bem:P.P,logAuthorClick(){this.gaAuthor&&(0,le.IZ)(this.gaAuthor)},handleOldEditorClick(){const e="post"===this.$route.meta.pageType;if(e)this.$emit("old-editor-click");else{const e=(0,ce.jH)(this.article,this.langOptions.hl);this.$router.push(e)}}}},_e=(0,L.Z)(pe,[["render",S]]),he=_e},76769:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("TMTitle");return(0,s.wg)(),(0,s.j4)(r,{"data-test-id":"articleTitle",lang:i.lang,"link-props":o.linkData,"link-test-id":"article-snippet-title-link",tag:i.tag,title:i.article.titleHtml,to:o.route,"use-link":i.useLink,onLinkClick:o.logTitleClick},null,8,["lang","link-props","tag","title","to","use-link","onLinkClick"])}var a=i(69780),o=i(19913),r=i(44383);const l={name:"TMArticleTitle",components:{TMTitle:a.Z},props:{tag:{type:String,default:"h2"},useLink:{type:Boolean,default:!1},article:{default:()=>{},type:Object},gaEvent:{type:String,default:""},lang:{type:String,default:null}},emits:["link-click"],computed:{route(){return(0,r.uT)(this.article,this.langOptions.hl)},linkData(){return{"data-article-link":!0}}},methods:{logTitleClick(e){this.gaEvent&&(0,o.IZ)(this.gaEvent),this.$emit("link-click",e)}}};var c=i(83744);const u=(0,c.Z)(l,[["render",n]]),d=u},6341:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252);const n=["src"];function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.links,(e=>((0,s.wg)(),(0,s.iD)("img",{key:e,height:"1",src:e,style:{display:"none"},width:"1"},null,8,n)))),128))])}const o={name:"TMArticleTrackingPixels",props:{links:{type:Array,required:!0}}};var r=i(83744);const l=(0,r.Z)(o,[["render",a]]),c=l},78617:(e,t,i)=>{"use strict";i.d(t,{Z:()=>A});var s=i(66252);const n={key:0,class:"tm-article-feed-blocks"};function a(e,t,i,a,o,r){const l=(0,s.up)("TMPromoBlock"),c=(0,s.up)("BannerResolver"),u=(0,s.up)("TMRandomProjectBlock"),d=(0,s.up)("TMStories"),m=(0,s.up)("TMEventsWidget"),p=(0,s.up)("TMAdfoxBanner");return r.showFeedBlocks?((0,s.wg)(),(0,s.iD)("div",n,[r.showPromoBlock?((0,s.wg)(),(0,s.j4)(l,{id:`promo_block_${i.position}`,key:`promo_block_${i.position}`,"data-navigatable":"","data-test-id":"promo-block-with-specials","ga-type":"feed_middle",tabindex:"0"},null,8,["id"])):r.showAdBannerLeaderBoard?((0,s.wg)(),(0,s.j4)(c,{key:`ads_block_${i.position}`,"adfox-params":{adfoxId:"164725660339535756",divId:"articlesListBanner",params:{pp:"h",ps:"fnps",p2:"hnyb"}},"roxot-params":{bannerName:"Leaderboard-gam"},variant:"leaderboard"})):r.showRandomProjectBlock?((0,s.wg)(),(0,s.j4)(u,{id:`project-blocks_${i.position}`,key:`project-blocks_${i.position}`,"block-id":`project-blocks_${i.position}`,"data-navigatable":"",hubs:r.sortedHubs,location:"feed",tabindex:"0",tags:r.sortedTags},null,8,["id","block-id","hubs","tags"])):r.showStoriesBlock?((0,s.wg)(),(0,s.j4)(d,{id:`stories_block_${i.position}`,key:`stories_block_${i.position}`,"data-some-prop":"test","data-test-id":"stories_block","ga-category":"stories_feed"},null,8,["id"])):r.showCalendarBlock?((0,s.wg)(),(0,s.j4)(m,{id:`calendar_block_${i.position}`,key:`calendar_block_${i.position}`},null,8,["id"])):r.showAdBanner?((0,s.wg)(),(0,s.j4)(p,{key:`ads_block_${i.position}`,"adfox-id":"169815585631156344","div-id":"articleCentralBanner",params:{pp:"h",ps:"fnps",p2:"iqpa"},variant:"medium-narrow"})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var o=i(39771),r=i(35246),l=i(77541),c=i(75554),u=i(41369),d=i(1231),m=i(58748),p=i(71197);const _=10,h=13,g={default:{allPositions:[4,7,_,h,16],promoBlockPositions:[4],adBannerPositions:[],adBannerLeaderBoardPositions:[7],projectBlockPositions:[_,h],storiesBlockPositions:[],calendarBlockPositions:[16]},businessAndLower:{allPositions:[5,8,11,14,17],promoBlockPositions:[8],adBannerPositions:[],adBannerLeaderBoardPositions:[17],projectBlockPositions:[11],storiesBlockPositions:[5],calendarBlockPositions:[14]},articles:{allPositions:[4,7,_,13,16],promoBlockPositions:[7],adBannerPositions:[],adBannerLeaderBoardPositions:[16],projectBlockPositions:[_],storiesBlockPositions:[4],calendarBlockPositions:[13]},myFeed:{allPositions:[4,7,_,13,16],promoBlockPositions:[7],adBannerPositions:[],adBannerLeaderBoardPositions:[16],projectBlockPositions:[_],storiesBlockPositions:[4],calendarBlockPositions:[13]}},v=new Set(["NEWS_LIST_ALL","NEWS_LIST_ALL_PAGES","NEWS_LIST_ALL_SCORE","NEWS_LIST_ALL_SCORE_PAGES","NEWS_LIST_TOP","NEWS_LIST_TOP_PERIOD","NEWS_LIST_TOP_PERIOD","NEWS_LIST_TOP_PERIOD_PAGES","NEWS_LIST_BY_FLOW_ALL","NEWS_LIST_BY_FLOW_ALL_PAGES","NEWS_LIST_BY_FLOW_SCORE","NEWS_LIST_BY_FLOW_SCORE_PAGES","NEWS_LIST_BY_FLOW_TOP","NEWS_LIST_BY_FLOW_TOP_PERIOD","NEWS_LIST_BY_FLOW_TOP_PERIOD_PAGES","NEWS_LIST_BY_COMPANY","NEWS_LIST_BY_COMPANY_PAGES"]);function T(e){const t={};return e.forEach((e=>{t[e]=(t[e]||0)+1})),Object.keys(t).sort(((e,i)=>t[e]-t[i]))}const E={name:"TMArticlesFeedBlocks",components:{BannerResolver:r.Z,TMAdfoxBanner:o.Z,TMPromoBlock:u.Z,TMRandomProjectBlock:c.Z,TMStories:d.Z,TMEventsWidget:l.Z},props:{rotationType:{type:String,default:"default"},position:{type:Number,required:!0}},computed:{userShowAdv(){return(0,p.q)().userShowAdv},currentRotationConfig(){return g[this.rotationType]||g.default},isFlEnglish(){return"en"===this.langOptions.fl},hubs(){return(0,m.g)().getAllHubsTitles(this.$route)},tags(){return(0,m.g)().getAllTagsNames(this.$route)},sortedHubs(){if(!this.hubs)return null;let e=T(this.hubs);return this.$route.params.hubName&&(e=Array.from(new Set([this.$route.params.hubName,...e]))),e},sortedTags(){return this.tags?T(this.tags):null},showFeedBlocks(){return this.currentRotationConfig.allPositions.includes(this.position)},showPromoBlock(){return this.currentRotationConfig.promoBlockPositions.includes(this.position)&&!this.isFlEnglish},showAdBannerLeaderBoard(){return this.currentRotationConfig.adBannerLeaderBoardPositions.includes(this.position)&&this.userShowAdv},showAdBanner(){return this.currentRotationConfig.adBannerPositions.includes(this.position)&&this.userShowAdv},showRandomProjectBlock(){let e=this.currentRotationConfig.projectBlockPositions.includes(this.position)&&!this.isFlEnglish;return"businessAndLower"!==this.rotationType&&(e=e&&this.correctRandomProjectPositionInNews),e},correctRandomProjectPositionInNews(){return this.isNewsRoute?this.position===h:this.position===_},showStoriesBlock(){return this.currentRotationConfig.storiesBlockPositions.includes(this.position)&&!this.isFlEnglish},showCalendarBlock(){let e=this.currentRotationConfig.calendarBlockPositions.includes(this.position)&&!this.isFlEnglish;return"businessAndLower"!==this.rotationType&&(e=e&&this.correctCalendarPositionInNews),e},correctCalendarPositionInNews(){return this.isNewsRoute?16===this.position:13===this.position},isNewsRoute(){return this.$route.matched.some((e=>v.has(e.name)))}}};var S=i(83744);const f=(0,S.Z)(E,[["render",a]]),A=f},49800:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("TMArticlesFeedBlocks"),l=(0,s.up)("RtkCodSpecial"),c=(0,s.up)("TMSubscriptionBlock"),u=(0,s.up)("TMArticlesList");return(0,s.wg)(),(0,s.j4)(u,{"articles-list":o.currentArticlesList,"is-loading":n.articlesListStore.isLoading,"pages-count":o.currentPagesCount,"publications-type":o.publicationsType,"replace-blacklisted":"","track-feed-stats":i.trackStats},{afterArticle:(0,s.w5)((({position:t,currentPage:n})=>[(0,s.WI)(e.$slots,"afterArticle",{currentPage:n,position:t},(()=>[i.isPosts?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(r,{key:0,position:t,"rotation-type":i.isArticles?"articles":"default"},null,8,["position","rotation-type"]))])),2===t?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0)])),afterArticles:(0,s.w5)((()=>[o.isUserShowSubscriptionBlock?((0,s.wg)(),(0,s.j4)(c,{key:0,id:"subcriptions_block","data-navigatable":"",tabindex:"0"})):(0,s.kq)("",!0)])),_:3},8,["articles-list","is-loading","pages-count","publications-type","track-feed-stats"])}var a=i(67476),o=i(78617),r=i(27175),l=i(75875),c=i(91010),u=i(58748),d=i(71197),m=i(85725);const p={name:"TMArticlesFeed",components:{RtkCodSpecial:l.Z,TMArticlesFeedBlocks:o.Z,TMArticlesList:r.Z,TMSubscriptionBlock:c.Z},props:{isArticles:{type:Boolean,default:!1},isPosts:{type:Boolean,default:!1},trackStats:Boolean},setup(){const e=(0,u.g)(),t=(0,d.q)(),{user:i}=(0,a.Jk)(t);return{articlesListStore:e,user:i}},computed:{isUserShowSubscriptionBlock(){return this.user&&null===this.user.settings.miscSettings.digestSubscription},routeKey(){return(0,m.Z)(this.$route)},currentArticlesList(){return(0,u.g)().getArticlesList(this.routeKey)},currentPagesCount(){return(0,u.g)().getPagesCount(this.routeKey)},publicationsType(){return this.isPosts?"posts":"default"}}};var _=i(83744);const h=(0,_.Z)(p,[["render",n]]),g=h},27175:(e,t,i)=>{"use strict";i.d(t,{Z:()=>re});var s=i(66252),n=i(62931),a=i(56612),o=i(22201),r=i(67476),l=i(94574);const c={class:"blacklist-article-placeholder"};function u(e,t,i,n,o,r){const l=(0,s.up)("router-link"),u=(0,s.up)("TMMessageInterpolation");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",null,[(0,s.Wm)(u,{message:e.msg("BLACKLIST_PUBLICATION_PLACEHOLDER")},{author:(0,s.w5)((()=>[(0,s.Wm)(l,{to:r.profileRoute},{default:(0,s.w5)((()=>[(0,s.Uk)("@"+(0,a.zw)(i.publication.author.alias),1)])),_:1},8,["to"])])),_:1},8,["message"])])])}var d=i(96973);const m={name:"BlacklistArticlePlaceholder",components:{TMMessageInterpolation:d.Z},props:{publication:{type:Object,required:!0}},computed:{profileRoute(){return{name:"USER_PROFILE",params:{login:this.publication.author.alias}}}}};var p=i(83744);const _=(0,p.Z)(m,[["render",u]]),h=_;var g=i(35315),v=i(59810),T=i(21406),E=i(8346),S=i(31596),f=i(6202);const A=["href"];function b(e,t,i,n,o,r){return(0,s.wg)(),(0,s.iD)("div",{class:(0,a.C_)(r.baseClassName)},[r.helpLink?((0,s.wg)(),(0,s.iD)("a",{key:0,class:(0,a.C_)(r.labelClassName),href:r.helpLink,target:"_blank"},(0,a.zw)(r.label),11,A)):((0,s.wg)(),(0,s.iD)("span",{key:1,class:(0,a.C_)(r.labelClassName)},(0,a.zw)(r.label),3))],2)}var I=i(25109);const y={name:"PublicationTypeLabel",props:{publicationType:{required:!0,validator(e){return["news","post","article","voice"].includes(e)}}},computed:{label(){switch(this.publicationType){case"news":return this.msg("PUBLICATION_TYPE_NEWS");case"post":return this.msg("PUBLICATION_TYPE_POST");case"voice":return this.msg("PUBLICATION_TYPE_VOICE");default:return this.msg("PUBLICATION_TYPE_ARTICLE")}},helpLink(){return"voice"!==this.publicationType?null:`/${this.langOptions.hl}/docs/help/publications/#voice`},labelClassName(){return(0,I.P)("publication-type-label__label",{type:this.publicationType})},baseClassName(){return(0,I.P)("publication-type-label",{type:this.publicationType})}}},w=(0,p.Z)(y,[["render",b]]),P=w,C={class:"tm-voice-article"},k={class:"tm-voice-article__voice-controls"},L=["title"];function N(e,t,i,n,a,o){const r=(0,s.up)("TMSvgImg"),l=(0,s.up)("router-link"),c=(0,s.up)("TMArticleFormattedBody");return(0,s.wg)(),(0,s.iD)("article",C,[(0,s.WI)(e.$slots,"top"),(0,s._)("div",k,[i.article.relatedData&&i.article.relatedData.canEdit?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"tm-voice-article__voice-control tm-voice-article__edit-voice",to:{name:"VOICE_EDIT",params:{voiceId:i.article.id}}},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{id:"edit",size:"20"})])),_:1},8,["to"])):(0,s.kq)("",!0),i.article.relatedData&&i.article.relatedData.canEdit&&!i.article.timePublished?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"tm-voice-article__voice-control tm-voice-article__delete-voice",title:e.msg("ARTICLE_DRAFT_DELETE"),onClick:t[0]||(t[0]=t=>e.$emit("delete"))},[(0,s.Wm)(r,{id:"trash",size:"20",title:e.msg("ARTICLE_DRAFT_DELETE")},null,8,["title"])],8,L)):(0,s.kq)("",!0)]),(0,s.Wm)(c,{"article-text":i.article.leadData.textHtml,class:"tm-voice-article__body","should-format":!1},null,8,["article-text"])])}var O=i(77025),R=i(39639);const M={name:"TMVoiceArticle",components:{TMSvgImg:R.Z,TMArticleFormattedBody:O.Z},props:{article:{type:Object,required:!0}},emits:["delete"]},U=(0,p.Z)(M,[["render",N]]),D=U;var B=i(34138),H=i(90201),F=i(79857);let V=null;function $(e){V||(V=(0,F.W)({interval:1e3,root:null,threshold:0}));const t=(0,n.iH)(0);function i(){e.value?e.value&&!V.isTracking(e.value)&&V.track(e.value,(()=>{t.value+=1})):console.warn("Cannot start tracking because element is empty! (useVisibleTime)")}function s(){V&&e.value&&V.untrack(e.value)}return{trackedTime:t,startTracking:i,stopTracking:s}}var W=i(36060);let G=!1;function x(e){const t=(0,o.yj)(),i=t.fullPath,{sendFeedStatistics:n,setFeedVisibleTime:a}=(0,W.M)(),{trackedTime:r,startTracking:l,stopTracking:c}=$(e),{onUuidReady:u,uuid:d}=(0,H.q)();function m(){"hidden"===document.visibilityState&&(a({feedId:i,time:r.value}),r.value=0,n(d.value))}(0,s.bv)((()=>{l(),G||(document.addEventListener("visibilitychange",m),G=!0)})),(0,s.Jd)((()=>{c(),a({feedId:i,time:r.value})}));const{isUserActive:p}=(0,B.DV)();(0,s.YP)(p,(()=>{p.value||u((()=>{n(d.value)}))}))}var q=i(58748),Y=i(71197),Z=i(10976),j=i(23719),K=i(44383),z=i(67426);function Q(e){const t=`[name="${e}"]`,i=document.querySelector(t);i&&(0,z.kI)(i);const s=new MutationObserver((()=>{Array.from(document.querySelectorAll(t)).forEach((e=>{e.scrollIntoView(!0),s.disconnect()}))}));return s.observe(document.documentElement,{childList:!0,subtree:!0}),()=>s.disconnect()}const X={class:"tm-articles-list","data-test-id":"articles-list"},J={key:0,name:"more-news"},ee=["id"],te={key:3,class:"tm-articles-list__item-footer"},ie={key:4,class:"tm-articles-list__after-article"},se={key:0,class:"tm-articles-list__after-articles"},ne=["textContent"],ae=Object.assign({name:"TMArticlesList"},{__name:"articles-list",props:{articlesList:{type:Array,required:!0},pagesCount:{type:Number,default:1},isLoading:{type:Boolean,default:!1},articleView:{type:String,default:null,validator(e){return["cards","list"].includes(e)}},bookmarkModule:{type:String,default:"articlesList"},postsCompactView:{type:Boolean,default:!1},showPublicationsTypes:{type:Boolean,default:!1},replaceBlacklisted:{type:Boolean,default:!1},trackFeedStats:Boolean},emits:["deleteVoice","deleteArticle","articleLinkClick"],setup(e){const t=e,i=(0,o.yj)(),c=(0,q.g)(),u=(0,s.Fl)((()=>{var e;const t=null===(e=i.name)||void 0===e?void 0:e.includes("_PAGES");return t?i.name:`${i.name}_PAGES`})),d=(0,s.Fl)((()=>Number(i.params.pageNum)||1)),m=(0,n.iH)(null);(0,s.Jd)((()=>{m.value&&m.value()})),(0,s.bv)((()=>{c.setLastVisitedRoute(i),i.hash===`#${K.dY}`&&(m.value=Q(K.dY))}));const p=(0,s.Fl)((()=>!(!t.postsCompactView.value||!c.compactView))),_=(0,s.Fl)((()=>(0,j.c)({toggleArticleView:c.toggleArticleView}))),A=(0,Y.q)(),{isLoggedIn:b,isSuperAdmin:y}=(0,r.Jk)(A);function w(e){var t;return!!b.value&&(e.isInBlacklist||(null===(t=e.author)||void 0===t?void 0:t.isInBlacklist))}const C=(0,n.iH)(null);return t.trackFeedStats&&x(C),(t,i)=>{const o=(0,s.Q2)("hotkey");return(0,s.wg)(),(0,s.iD)("div",{ref_key:"rootEl",ref:C},[e.isLoading?((0,s.wg)(),(0,s.j4)(S.Z,{key:0,modificator:"preview",times:7,type:"article"})):e.articlesList&&e.articlesList.length?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",X,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.articlesList,((i,o)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:i.id},[10===o?((0,s.wg)(),(0,s.iD)("a",J)):(0,s.kq)("",!0),"voice"===i.postType&&i.leadData.textHtml?((0,s.wg)(),(0,s.j4)(D,{key:1,id:i.id,article:i,class:"tm-articles-list__item","data-navigatable":"","data-test-id":"articles-list-item",tabindex:"0",onDelete:e=>t.$emit("deleteVoice",i)},{top:(0,s.w5)((()=>[e.showPublicationsTypes?((0,s.wg)(),(0,s.j4)(P,{key:`type_lable_${o}`,"publication-type":(0,n.SU)(Z.T)(i)},null,8,["publication-type"])):(0,s.kq)("",!0)])),_:2},1032,["id","article","onDelete"])):e.replaceBlacklisted&&w(i)?((0,s.wg)(),(0,s.j4)(h,{key:i.id+"black_list","data-test-id":"articles-list-item",publication:i},null,8,["publication"])):((0,s.wg)(),(0,s.iD)("article",{key:3,id:i.id,class:(0,a.C_)((0,n.SU)(I.P)("tm-articles-list__item",{"no-padding":"post"===i.publicationType})),"data-navigatable":"","data-test-id":"articles-list-item",tabindex:"0"},["post"===i.publicationType?((0,s.wg)(),(0,s.j4)(f.Z,{key:0,"article-view":e.articleView,"compact-view":p.value,"date-as-link":"",post:i,"show-icons":"",onDelete:e=>t.$emit("deleteArticle",i)},{top:(0,s.w5)((()=>[e.showPublicationsTypes?((0,s.wg)(),(0,s.j4)(P,{key:`type_lable_${o}`,"publication-type":(0,n.SU)(Z.T)(i)},null,8,["publication-type"])):(0,s.kq)("",!0)])),_:2},1032,["article-view","compact-view","post","onDelete"])):"megaproject"===i.postType&&"1.0"===i.editorVersion?((0,s.wg)(),(0,s.j4)(T.Z,{key:1,article:i,"article-view":e.articleView},null,8,["article","article-view"])):((0,s.wg)(),(0,s.j4)(l.Z,{key:2,article:i,"article-view":e.articleView,"date-as-link":"",position:e.trackFeedStats&&o,"use-link":"",onDelete:e=>t.$emit("deleteArticle",i),onLinkClick:e=>t.$emit("articleLinkClick",i)},{top:(0,s.w5)((()=>[e.showPublicationsTypes?((0,s.wg)(),(0,s.j4)(P,{key:`type_lable_${o}`,"publication-type":(0,n.SU)(Z.T)(i)},null,8,["publication-type"])):(0,s.kq)("",!0)])),_:2},1032,["article","article-view","position","onDelete","onLinkClick"])),"post"!==i.publicationType?((0,s.wg)(),(0,s.iD)("div",te,[(0,s.Wm)(g.Z,{ref_for:!0,ref:"counters",article:i,"bookmark-module":e.bookmarkModule,"icons-list":["votes","comments","favorite","share"]},null,8,["article","bookmark-module"])])):(0,s.kq)("",!0)],10,ee)),t.$slots.afterArticle&&t.$slots.afterArticle({currentPage:d.value,position:o+1})?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s.WI)(t.$slots,"afterArticle",{currentPage:d.value,position:o+1})])):(0,s.kq)("",!0)],64)))),128))])),[[o,_.value,void 0,{stop:!0}]]),t.$slots.afterArticles?((0,s.wg)(),(0,s.iD)("div",se,[(0,s.WI)(t.$slots,"afterArticles")])):(0,s.kq)("",!0),e.pagesCount>1&&("MEGAPROJECTS_PAGES"!==u.value||"MEGAPROJECTS_PAGES"===u.value&&(0,n.SU)(y))?((0,s.wg)(),(0,s.j4)(E.Z,{key:1,"route-name":u.value,"total-pages":e.pagesCount},null,8,["route-name","total-pages"])):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.j4)(v.Z,{key:2},{default:(0,s.w5)((()=>[(0,s._)("span",{textContent:(0,a.zw)(t.msg("EMPTY_POSTS_MESSAGE"))},null,8,ne)])),_:1}))],512)}}}),oe=ae,re=oe},21381:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(66252),n=i(56612);const a={class:"tm-confirmation-dialog"},o={class:"tm-confirmation-dialog__title"},r={key:0,class:"tm-confirmation-dialog__description"},l={class:"tm-confirmation-dialog__actions"};function c(e,t,i,c,u,d){const m=(0,s.up)("TMButtonBase"),p=(0,s.up)("TMPopupBase"),_=(0,s.up)("TMScrollLockTransition"),h=(0,s.Q2)("hotkey");return(0,s.wg)(),(0,s.j4)(_,{name:"transition-fade"},{default:(0,s.w5)((()=>[u.isConfirmVisible?(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{key:0,centered:"",onClose:d.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",a,[(0,s._)("h2",o,(0,n.zw)(u.title),1),u.message?((0,s.wg)(),(0,s.iD)("p",r,(0,n.zw)(u.message),1)):(0,s.kq)("",!0),(0,s._)("div",l,[(0,s.Wm)(m,{class:"tm-confirmation-dialog__action tm-confirmation-dialog__action_confirm","style-size":"small",type:"button",onClick:d.confirm},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(u.confirmLabel),1)])),_:1},8,["onClick"]),(0,s.Wm)(m,{class:"tm-confirmation-dialog__action tm-confirmation-dialog__action_cancel","style-size":"small","style-type":"transparent",type:"button",onClick:d.cancel},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(u.cancelLabel),1)])),_:1},8,["onClick"])])])])),_:1},8,["onClose"])),[[h,{enter:d.confirm}]]):(0,s.kq)("",!0)])),_:1})}var u=i(91270),d=i(93827),m=i(39806);const p={name:"TMAsyncConfirmationDialog",components:{TMButtonBase:u.Z,TMPopupBase:d["default"],TMScrollLockTransition:m.Z},data(){return{title:void 0,message:void 0,confirmLabel:void 0,cancelLabel:void 0,resolvePromise:void 0,rejectPromise:void 0,isConfirmVisible:!1}},methods:{show(e={}){const{title:t,message:i,confirmLabel:s,cancelLabel:n}=e;return this.title=t,this.message=i,this.confirmLabel=s||this.msg("CONFIRM_OK_BUTTON_LABEL"),this.cancelLabel=n||this.msg("CONFIRM_CANCEL_BUTTON_LABEL"),this.isConfirmVisible=!0,new Promise(((e,t)=>{this.resolvePromise=e,this.rejectPromise=t}))},confirm(){this.isConfirmVisible=!1,this.callResolve(!0)},cancel(){this.isConfirmVisible=!1,this.callResolve(!1)},callResolve(e){this.resolvePromise&&(this.resolvePromise(e),this.resolvePromise=void 0)},callReject(e){this.rejectPromise&&(this.rejectPromise(e),this.rejectPromise=void 0)}}};var _=i(83744);const h=(0,_.Z)(p,[["render",c]]),g=h},38002:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252),n=i(58061),a=i(56612),o=i(62931),r=i(31596);const l=(0,s.aZ)({__name:"banner-container",props:{variant:{},visible:{type:Boolean},desktopHeight:{},leaderboardHeight:{}},setup(e){(0,n.sj)((e=>({"6d0642e0":e.desktopHeight,"418c71fe":e.leaderboardHeight})));const t=e,i=(0,o.iH)(!1),l=(0,s.Fl)((()=>["element-wrapper",t.variant,{"is-safari":i.value}]));function c(){/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(i.value=!0)}return(0,s.bv)((()=>{c()})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,a.C_)(l.value)},[e.visible?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(n.uT,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r.Z,{class:"banner-container__placeholder",modificator:e.variant,type:"adfoxBanner"},null,8,["modificator"])])),_:1}),(0,s.WI)(e.$slots,"default")],64)):(0,s.kq)("",!0)],2))}}),c=l,u=c},35246:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(56612),a=i(39771),o=i(62931),r=i(91935),l=i(38002);const c=(0,s.aZ)({__name:"roxot-banner",props:{bannerName:{},variant:{}},setup(e){const t=e,i=(0,o.iH)(r.T[t.variant]),a=(0,o.iH)(!0);return(0,s.bv)((()=>{window.bus.on("roxot-error",(()=>{a.value=!1}))})),(e,t)=>((0,s.wg)(),(0,s.j4)(l.Z,{"desktop-height":i.value,"leaderboard-height":"250px",variant:e.variant,visible:a.value},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,n.C_)(["roxot-dynamic banner-target",e.bannerName])},null,2)])),_:1},8,["desktop-height","variant","visible"]))}}),u=c,d=u;var m=i(84183);const p=(0,s.aZ)({__name:"banner-resolver",props:{adfoxParams:{},variant:{},roxotParams:{}},setup(e){const t=(0,m.s)(),i=["AZ","AM","BY","KZ","KG","MD","RU","TJ","TM","UZ"],o={roxot:d,adfox:a.Z},r=(0,s.Fl)((()=>i.includes(t.countryCode)?"adfox":"roxot"));return(e,t)=>((0,s.wg)(),(0,s.j4)((0,s.LL)(o[r.value]),(0,n.vs)((0,s.F4)({..."adfox"===r.value?e.adfoxParams:e.roxotParams,variant:e.variant})),null,16))}}),_=p,h=_},77628:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(62931),a=i(58061),o=i(81864),r=i(39639);const l={class:"base-hint",role:"tooltip"},c={class:"inner"},u=["innerHTML"],d={key:0,class:"link-wrapper"},m={__name:"base-hint",props:{visible:{type:Boolean,default:void 0},target:{type:Object,default:()=>null},offset:{type:Array,default:()=>[0,8]},placement:{type:String,default:"bottom-start"},hintText:{type:String,default:""},preventClickOutside:{type:Boolean,default:!1},observeShift:Boolean,disableTeleport:Boolean},emits:["update:visible","interaction"],setup(e,{emit:t}){const i=e,m=t,p=(0,s.Rr)(),_=(0,n.iH)(null),h=void 0!==i.visible,g=h?(0,s.Fl)((()=>i.visible)):(0,n.iH)(!1);function v(){h||(g.value=!g.value)}function T(){m("interaction"),h?m("update:visible",!i.visible):g.value=!1}const E=i.preventClickOutside?null:T,S=[{name:"flip",enabled:!1},{name:"preventOverflow",options:{mainAxis:!1}}];return(t,i)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{ref_key:"activatorRef",ref:_,class:"activator-wrapper",onClick:v},[(0,s.WI)(t.$slots,"activator")],512),((0,s.wg)(),(0,s.j4)(s.lR,{disabled:e.disableTeleport,to:"#overlays"},[(0,n.SU)(g)&&_.value?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,"custom-modifiers":S,"observe-shift":e.observeShift,offset:e.offset,placement:e.placement,root:_.value,variant:"hint",onClose:(0,n.SU)(E)},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s._)("div",c,[(0,s.WI)(t.$slots,"default",{},(()=>[(0,s._)("p",{innerHTML:e.hintText},null,8,u)])),p.link?((0,s.wg)(),(0,s.iD)("div",d,[(0,s.WI)(t.$slots,"link")])):(0,s.kq)("",!0)]),i[0]||(i[0]=(0,s._)("div",{class:"arrow"},null,-1)),(0,s._)("button",{class:"close",onClick:(0,a.iM)(T,["stop"])},[(0,s.Wm)(r.Z,{id:"close-rounded",size:"24"})])])])),_:3},8,["observe-shift","offset","placement","root","onClose"])):(0,s.kq)("",!0)],8,["disabled"]))],64))}};var p=i(83744);const _=(0,p.Z)(m,[["__scopeId","data-v-6414f621"]]),h=_},70352:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var s=i(66252),n=i(56612);const a={class:"tm-block__header-container"},o={key:0,class:"tm-block__header-aside"},r={key:1,class:"tm-block__footer"};function l(e,t,i,l,c,u){return(0,s.wg)(),(0,s.j4)((0,s.LL)(i.tag),{class:(0,n.C_)(["tm-block",u.bem("tm-block",{spacing:i.spacing,variant:i.variant})])},{default:(0,s.w5)((()=>[i.title||"header-aside"in e.$slots?((0,s.wg)(),(0,s.iD)("header",{key:0,class:(0,n.C_)(["tm-block__header",u.bem("tm-block__header",{variant:i.headerVariant})])},[(0,s._)("div",a,[i.title?((0,s.wg)(),(0,s.j4)((0,s.LL)(i.titleTag),{key:0,class:(0,n.C_)(["tm-block__title",u.bem("tm-block__title",{variant:i.titleVariant})])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(i.title),1)])),_:1},8,["class"])):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"block-settings")]),"header-aside"in e.$slots?((0,s.wg)(),(0,s.iD)("div",o,[(0,s.WI)(e.$slots,"header-aside")])):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"body",{},(()=>[(0,s._)("div",{class:(0,n.C_)(["tm-block__body",u.bem("tm-block__body",{variant:i.bodyVariant})])},[(0,s.WI)(e.$slots,"default")],2)])),e.$slots.footer?((0,s.wg)(),(0,s.iD)("footer",r,[(0,s.WI)(e.$slots,"footer",{},(()=>[(0,s.WI)(e.$slots,"default")]))])):(0,s.kq)("",!0)])),_:3},8,["class"])}var c=i(25109),u=i(99691);const d={name:"TMBlock",props:{tag:{type:String,default:"section"},title:{type:String,default:null},titleTag:{type:String,default:"h2"},headerVariant:{type:String,default:null,validator:(0,u.HZ)(["borderless","borderless-large"])},titleVariant:{type:String,default:null,validator:(0,u.HZ)(["large"])},bodyVariant:{type:String,default:null,validator:(0,u.HZ)(["balanced","condensed","condensed-slim","stucked","stucked-reversed","island","equal","no-padding"])},spacing:{type:String,default:"bottom",validator:(0,u.HZ)(["top","bottom","around","none"])},variant:{type:String,default:null,validator:(0,u.HZ)(["border-bottom"])}},methods:{bem:c.P}};var m=i(83744);const p=(0,m.Z)(d,[["render",l]]),_=p},86016:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612);const a=["disabled","title"],o=["title"];function r(e,t,i,r,l,c){const u=(0,s.up)("TMCircleLoader"),d=(0,s.up)("TMSvgIcon");return(0,s.wg)(),(0,s.iD)("button",{class:"bookmarks-button",disabled:i.isProcessing,title:c.buttonTitle,type:"button",onClick:t[0]||(t[0]=t=>e.$emit("toggleBookmark",t))},[i.isProcessing?((0,s.wg)(),(0,s.j4)(u,{key:0,"circle-height":10,"circle-width":10,class:"bookmarks-button__loader","data-test-id":"bookmarks-button-loader",height:24,width:24})):((0,s.wg)(),(0,s.j4)(d,{key:1,id:"counter-favorite",class:(0,n.C_)(["bookmarks-button__icon",{"bookmarks-button__icon_highlighted":i.isBookmarked}]),size:"24",tag:"span",title:c.iconTitleAttr},null,8,["class","title"])),i.isCounterShown?((0,s.wg)(),(0,s.iD)("span",{key:2,class:(0,n.C_)(["bookmarks-button__counter",{"bookmarks-button__counter_highlighted":i.isBookmarked}]),title:e.msg("DATA_ICONS_BOOKMARKS_COUNT")},(0,n.zw)(i.bookmarksCount),11,o)):(0,s.kq)("",!0)],8,a)}var l=i(2372),c=i(3739);const u={name:"TMBookmarkButton",components:{TMCircleLoader:l.Z,TMSvgIcon:c["default"]},props:{bookmarksCount:{type:Number,default:0},isBookmarked:Boolean,isProcessing:Boolean,isCounterShown:{type:Boolean,default:!0}},emits:["toggle-bookmark","toggleBookmark"],computed:{iconTitleAttr(){return this.isBookmarked?this.msg("DATA_ICONS_REMOVE_FROM_BOOKMARKS"):this.msg("DATA_ICONS_ADD_TO_BOOKMARKS")},buttonTitle(){return this.isBookmarked?this.msg("DATA_ICONS_REMOVE_FROM_BOOKMARKS"):this.msg("DATA_ICONS_ADD_TO_BOOKMARKS")}}};var d=i(83744);const m=(0,d.Z)(u,[["render",r]]),p=m},81760:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252),n=i(56612);const a={key:0,class:"tm-bordered-card__type"};function o(e,t,i,o,r,l){return(0,s.wg)(),(0,s.j4)((0,s.LL)(i.tag),{class:"tm-bordered-card"},{default:(0,s.w5)((()=>[l.typeTitle?((0,s.wg)(),(0,s.iD)("div",a,(0,n.zw)(l.typeTitle),1)):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"default")])),_:3})}var r=i(99691);const l={name:"TMBorderedCard",props:{tag:{type:String,default:"div"},type:{type:String,default:null,validator:(0,r.HZ)(["vacancy","event"])}},computed:{typeTitle(){switch(this.type){case"event":return this.msg("COMPANY_ADMIN_WIDGETS_MULTI_WIDGET_TYPE_EVENT");case"vacancy":return this.msg("COMPANY_ADMIN_WIDGETS_MULTI_WIDGET_TYPE_VACANCY");default:return null}}}};var c=i(83744);const u=(0,c.Z)(l,[["render",o]]),d=u},4803:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612),a=i(62931),o=i(18490),r=i(39639),l=i(25109);const c={ref:"wrapper",class:"tm-bottom-sheet"},u=["textContent"],d=(0,s.aZ)({__name:"bottom-sheet",props:{title:{default:null},card:{type:Boolean},noCloseButton:{type:Boolean},noHeader:{type:Boolean}},emits:["close"],setup(e){return(e,t)=>((0,s.wg)(),(0,s.j4)(o.Z,{onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,s.w5)((()=>[(0,s._)("div",c,[e.noCloseButton?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:(0,n.C_)(["tm-bottom-sheet__close",(0,a.SU)(l.P)("tm-bottom-sheet__close",{card:e.card})]),type:"button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,s.Wm)(r.Z,{id:"close-rounded",class:"tm-bottom-sheet__close-icon",size:"24"})],2)),(0,s.WI)(e.$slots,"beforeHeader"),e.noHeader?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,n.C_)(["tm-bottom-sheet__header",(0,a.SU)(l.P)("tm-bottom-sheet__header",{card:e.card})])},[e.title?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tm-bottom-sheet__title",textContent:(0,n.zw)(e.title)},null,8,u)):(0,s.kq)("",!0)],2)),e.$slots.default?((0,s.wg)(),(0,s.iD)("div",{key:2,class:(0,n.C_)(["tm-bottom-sheet__content",(0,a.SU)(l.P)("tm-bottom-sheet__content",{card:e.card})])},[(0,s.WI)(e.$slots,"default")],2)):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"body")],512)])),_:3}))}}),m=d,p=m},91270:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252);const n=["disabled"];function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("button",(0,s.dG)({class:["btn",{btn_loading:i.isLoading},r.getClassOfType(),r.getClassOfSize()],disabled:i.disabled||null,type:"button"},r.attrsWithoutClass,{onClick:t[0]||(t[0]=(...e)=>r.onClick&&r.onClick(...e))}),[(0,s.WI)(e.$slots,"default")],16,n)}const o={solid:"btn_solid",transparent:"btn_transparent"},r={small:"btn_small",middle:"btn_middle",large:"btn_large"},l={name:"TMButtonBase",props:{styleType:{default:"solid",type:String},styleSize:{default:"small",type:String},disabled:{default:!1,type:Boolean},isLoading:{default:!1,type:Boolean}},emits:["click"],computed:{attrsWithoutClass(){const{class:e,...t}=this.$attrs;return t}},methods:{onClick(){this.disabled||this.$emit("click")},getClassOfType(){return o[this.styleType]||"btn_solid"},getClassOfSize(){return r[this.styleSize]||"btn_small"}}};var c=i(83744);const u=(0,c.Z)(l,[["render",a]]),d=u},80165:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252),n=i(56612),a=i(62931),o=i(36134);const r={key:0,class:"tm-button-follow__unfollow"},l=(0,s.aZ)({__name:"button-follow",props:{useFollowLabel:{type:Boolean,default:!1},subscribed:{type:Boolean,default:!1},canSubscribe:{type:Boolean,default:!0}},emits:["onToggle"],setup(e,{emit:t}){const i=e,l=t,{msg:c}=(0,o.Q)(),u=(0,a.iH)(i.subscribed);(0,s.YP)((()=>i.subscribed),(e=>{u.value=e}));const d=(0,s.Fl)((()=>({subscribe:i.useFollowLabel?c("PROFILE_ACTION_FOLLOW"):c("PROFILE_ACTION_SUBSCRIBE"),subscribed:i.useFollowLabel?c("PROFILE_ACTION_FOLLOWING"):c("PROFILE_ACTION_SUBSCRIBED")}))),m=(0,s.Fl)((()=>u.value?d.value.subscribed:d.value.subscribe)),p=(0,s.Fl)((()=>({"tm-button-follow__button_is-active":u.value})));function _(e){i.canSubscribe&&(u.value=!u.value),l("onToggle",e)}return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"tm-button-follow",onClick:_},[u.value?((0,s.wg)(),(0,s.iD)("span",r," × ")):(0,s.kq)("",!0),(0,s._)("button",{class:(0,n.C_)(["tm-button-follow__button tm-button-follow__button_big",p.value]),"data-test-id":"follow-button",type:"button"},(0,n.zw)(m.value),3)]))}}),c=l,u=c},48665:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("TMButtonBase");return(0,s.wg)(),(0,s.j4)(r,(0,s.dG)(o.attrsWithoutClass,{class:o.bem("tm-button",{color:i.color}),disabled:i.disabled,"is-loading":i.isLoading,"style-size":i.styleSize,"style-type":i.styleType,onClick:t[0]||(t[0]=t=>e.$emit("click",t))}),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16,["class","disabled","is-loading","style-size","style-type"])}var a=i(91270),o=i(25109);const r={name:"TMButton",components:{TMButtonBase:a.Z},props:{styleType:{default:"solid",type:String,validator:e=>["solid","transparent"].includes(e)},styleSize:{default:"small",type:String,validator:e=>["small","middle","large"].includes(e)},disabled:{default:!1,type:Boolean},isLoading:{default:!1,type:Boolean},color:{type:String,default:"horizon",validator:e=>["horizon","fuzzy-wuzzy-brown","christi","desert-storm"].includes(e)}},emits:["click"],computed:{attrsWithoutClass(){const{class:e,...t}=this.$attrs;return t}},methods:{bem:o.P}};var l=i(83744);const c=(0,l.Z)(r,[["render",n]]),u=c},2372:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("div",{class:"lds-ring",style:(0,n.j5)(r.styleVars)},[(0,s._)("div",{style:(0,n.j5)(r.styleVars)},null,4),(0,s._)("div",{style:(0,n.j5)(r.styleVars)},null,4),(0,s._)("div",{style:(0,n.j5)(r.styleVars)},null,4),(0,s._)("div",{style:(0,n.j5)(r.styleVars)},null,4)],4)}const o={name:"TMCircleLoader",props:{width:{type:Number,default:15},height:{type:Number,default:15},color:{type:String,default:"#bbcdd6"},circleWidth:{type:Number,default:15},circleHeight:{type:Number,default:15}},computed:{styleVars(){return{"--circle-loader-width":`${this.width}px`,"--circle-loader-height":`${this.height}px`,"--circle-loader-circle-width":`${this.circleWidth}px`,"--circle-loader-circle-height":`${this.circleHeight}px`,"--circle-loader-circle-border-color":`${this.color}`}}}};var r=i(83744);const l=(0,r.Z)(o,[["render",a]]),c=l},53591:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var s=i(66252),n=i(62931);const a=(0,s.aZ)({setup(e,{slots:t}){const i=(0,n.iH)(!1);return(0,s.bv)((()=>{i.value=!0})),()=>i.value?t.default?t.default():null:t.placeholder?t.placeholder():null}}),o=a,r=o},72171:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var s=i(66252),n=i(56612);const a=["data-comment-popup"],o={key:2};function r(e,t,i,r,l,c){const u=(0,s.up)("TMVotesLever"),d=(0,s.up)("TMVotesMeter"),m=(0,s.up)("TMArticleCommentsLink"),p=(0,s.up)("TMBookmarksButton"),_=(0,s.up)("TMSvgImg");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(c.bem("tm-comment-footer",{"is-pinned":i.isPinnedSection}))},[i.comment.isReadonly?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[c.showVotesLever&&i.voteAction?((0,s.wg)(),(0,s.j4)(u,{key:0,appearance:"comment",class:"tm-comment-footer__votes-switcher","is-loading":l.isLoadingVote,"is-plusified":!0,"no-votes-title":e.msg("COMMENT_NOT_RATED"),score:i.comment.score,"vote-state":i.comment.vote&&i.comment.vote.value||0,"votes-count":i.comment.votesCount,onDownvote:t[0]||(t[0]=e=>c.onVote("down",e)),onOpenCommentHint:t[1]||(t[1]=e=>c.openCommentRatingHint(e)),onUpvote:t[2]||(t[2]=e=>c.onVote("up",e))},null,8,["is-loading","no-votes-title","score","vote-state","votes-count"])):((0,s.wg)(),(0,s.j4)(d,{key:1,ref:"votesMeter",appearance:"comment",class:"tm-comment-footer__votes-meter","no-votes-title":e.msg("COMMENT_NOT_RATED"),score:i.comment.score||0,"vote-state":i.comment.vote&&i.comment.vote.value||0,"votes-count":i.comment.votesCount,onOpenCommentHint:t[3]||(t[3]=e=>c.openCommentRatingHint(e))},null,8,["no-votes-title","score","vote-state","votes-count"])),(0,s.WI)(e.$slots,"button",{},(()=>[(0,s.Wm)(m,{article:c.publication,class:"tm-comment-footer__button tm-comment-footer__button","comment-id":i.comment.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("COMMENT_ACTION_LOOK")),1)])),_:1},8,["article","comment-id"])])),i.favoriteAction&&!c.isPost?((0,s.wg)(),(0,s.j4)(p,{key:2,ref:"favoriteButton",class:"tm-comment-footer__button tm-comment-footer__button_with-icon","is-bookmarked":i.comment.isFavorite,"is-counter-shown":!1,"is-processing":l.isLoadingFavorite,onToggleBookmark:c.favorite},null,8,["is-bookmarked","is-processing","onToggleBookmark"])):(0,s.kq)("",!0)],64)),i.popupToggleVisible?((0,s.wg)(),(0,s.iD)("button",{key:1,ref:"popupButton",class:"tm-comment__button tm-comment__button_with-icon","data-comment-popup":i.comment.id,onClick:t[4]||(t[4]=t=>e.$emit("openPopup"))},[(0,s.Wm)(_,{id:"dots",class:"tm-comment__icon tm-comment__icon_dots"})],8,a)):((0,s.wg)(),(0,s.iD)("div",o)),c.adminControlsVisible?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[(0,s._)("button",{class:"tm-comment-footer__button",type:"button",onClick:t[5]||(t[5]=t=>e.$emit("moderate",!0))},(0,n.zw)(e.msg("COMMENT_ACTION_APPROVE")),1),(0,s._)("button",{class:"tm-comment-footer__button",type:"button",onClick:t[6]||(t[6]=t=>e.$emit("moderate",!1))},(0,n.zw)(e.msg("COMMENT_ACTION_REJECT")),1)],64)):(0,s.kq)("",!0)],2)}var l=i(34750),c=i(86016),u=i(39639),d=i(56735),m=i(22107),p=i(51779),_=i(58748),h=i(71197),g=i(25109),v=i(52767),T=i(19913),E=i(73313);const S={name:"TMCommentFooter",components:{TMBookmarksButton:c.Z,TMSvgImg:u.Z,TMVotesLever:d.Z,TMVotesMeter:m.Z,TMArticleCommentsLink:l.Z},props:{comment:{type:Object,required:!0,validator:p.gI},voteAction:{type:Function,default:null},favoriteAction:{type:Function,default:null},isPinnedSection:{type:Boolean,default:!1},popupToggleVisible:Boolean,showModerationControls:Boolean},emits:["openPopup","moderate","openCommentHint"],data(){return{isLoadingFavorite:!1,isLoadingVote:!1}},computed:{isLoggedIn(){return(0,h.q)().isLoggedIn},publicationInStore(){return(0,_.g)().getArticleById(this.publicationId)},publication(){return this.publicationInStore||this.comment.post||this.comment.publication},isItsMyComment(){var e;return this.isLoggedIn&&(null===(e=this.comment.author)||void 0===e?void 0:e.alias)===(0,h.q)().userAlias},isAlreadyVoted(){var e;return null===(e=this.comment.vote)||void 0===e?void 0:e.value},notEnoughChargeOrKarmaForMinus(){return!this.voteMinus.isKarmaEnough||!this.voteMinus.isChargeEnough},showVotesLever(){var e,t;return!this.isLoggedIn||!this.isItsMyComment&&!this.isAlreadyVoted&&(!(null!==(e=this.comment.vote)&&void 0!==e&&e.isCanVote||!this.notEnoughChargeOrKarmaForMinus)||(null===(t=this.comment.vote)||void 0===t?void 0:t.isCanVote)&&this.voteAction)},adminControlsVisible(){const{isReadonly:e,isAuthor:t}=this.comment;return e&&!t&&this.showModerationControls},isPost(){return!!(0,E.E)(this.$route.name)||(0,E.o)(this.comment.publication)},publicationId(){const e=this.$route.params.id;return e||(this.comment.publication?this.comment.publication.id:this.comment.post.id)},votePlus(){return this.comment.votePlus||{}},voteMinus(){return this.comment.voteMinus||{}},canVotePlus(){return this.votePlus.canVote},canVoteMinus(){return this.voteMinus.canVote},isVotingOver(){return this.voteMinus.isVotingOver}},methods:{openCommentRatingHint(e){const t={target:e,offset:[-34,11],messageKey:"COMMENT_GUEST_RATING_HINT",eventLabel:"hint_reg_comment_raiting"};this.$emit("openCommentHint",{props:t})},getVotingRestrictionMessage(e){return this.isLoggedIn?"up"===e?this.getVotingRestrictionOnUpvote():this.getVotingRestrictionOnDownvote():"COMMENT_GUEST_RATING_HINT"},getVotingRestrictionOnUpvote(){return this.canVotePlus||this.votePlus.isKarmaEnough?!this.canVotePlus&&!this.votePlus.isChargeEnough&&"CHARGE_TOO_LOW_FOR_ACTION":"KARMA_TOO_LOW_FOR_ACTION"},getVotingRestrictionOnDownvote(){return this.canVoteMinus||this.voteMinus.isChargeEnough||!this.voteMinus.isKarmaEnough?!this.canVoteMinus&&this.notEnoughChargeOrKarmaForMinus?"KARMA_TOO_LOW_FOR_ACTION":!this.canVoteMinus&&!this.voteMinus.isPublicationLimitEnough&&"VOTES_NEED_PUBLICATIONS":"CHARGE_TOO_LOW_FOR_ACTION"},openCommentHint(e,t){if(!e)return;const i={target:t,offset:[-34,8],messageKey:e,eventLabel:"hint_reg_comment_raiting",hasRegistrationLink:!this.isLoggedIn};this.$emit("openCommentHint",{props:i})},onVote(e,t){const i="up"===e?"plus":"minus",s=this.publicationInStore?{publication_type:(0,T.Lq)(this.publicationInStore)}:{};(0,T.IZ)(`vote_comment_${i}`,s);const n=this.getVotingRestrictionMessage(e);n?this.openCommentHint(n,t):this.runVoteAction(e,t)},runVoteAction(e,t){this.isLoadingVote=!0,this.voteAction({commentId:this.comment.id,direction:e}).catch((e=>{const i=(0,v.zg)(e);"VOTER_CHARGE"!==i?"string"===typeof i&&i.startsWith("VOTER_KARMA_LIMIT")?this.openCommentHint("KARMA_TOO_LOW_FOR_ACTION",t):this.$toast(e.message):this.openCommentHint("CHARGE_TOO_LOW_FOR_ACTION",t)})).finally((()=>{this.isLoadingVote=!1}))},favorite(e){if(!this.isLoggedIn){const t={target:e.target,offset:[-34,6],messageKey:"COMMENT_GUEST_FAVORITE_HINT",eventLabel:"hint_reg_save_com_go"};return void this.$emit("openCommentHint",{props:t,clickEvent:"hint_reg_save_com_open"})}const t=(new Date).getTime(),i=1e3;this.isLoadingFavorite=!0;const{id:s,isFavorite:n}=this.comment;this.favoriteAction({publicationId:this.publicationId,commentId:s,isFavorite:!n,isPost:this.isPost}).then((()=>{const e=(new Date).getTime()-t,s=e<i?i-e:0;setTimeout((()=>{this.isLoadingFavorite=!1}),s)}))},bem:g.P}};var f=i(83744);const A=(0,f.Z)(S,[["render",r]]),b=A},77820:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>x});var s=i(66252),n=i(56612),a=i(58061);const o=["textContent"],r=["id"],l=["id","data-comment-new","name"],c=["textContent"],u=["data-comment-body"],d=["href"],m={key:1,class:"tm-comment-thread__children"};function p(e,t,i,p,_,h){const g=(0,s.up)("TMDatetime"),v=(0,s.up)("TMSvgImg"),T=(0,s.up)("TMCommentFooter"),E=(0,s.up)("TMCommentThread"),S=(0,s.up)("TMCommentPopup");return(0,s.wg)(),(0,s.iD)("section",{class:(0,n.C_)(h.bem("tm-comment-thread",{"is-pinned":i.isPinnedSection}))},[_.isCollapsed?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[t[14]||(t[14]=(0,s._)("div",{class:"tm-comment-thread__collapsed-root","data-comment-collapsed-thread":""},null,-1)),(0,s._)("button",{class:(0,n.C_)(["tm-comment-thread__breadcrumbs tm-comment-thread__breadcrumbs_collapsed",h.indentBreadcrumbsClass]),onClick:t[0]||(t[0]=(...e)=>h.toggleCollapse&&h.toggleCollapse(...e))},null,2),(0,s._)("button",{class:(0,n.C_)(["tm-comment-thread__collapsed",h.indentClass]),onClick:t[1]||(t[1]=(...e)=>h.toggleCollapse&&h.toggleCollapse(...e))},[t[12]||(t[12]=(0,s._)("div",{class:"tm-comment-thread__circle-block"},[(0,s._)("div",{class:"tm-comment-thread__circle tm-comment-thread__circle_active"})],-1)),(0,s._)("div",{class:"tm-comment-thread__collapsed-text",textContent:(0,n.zw)(h.collapsedText)},null,8,o),t[13]||(t[13]=(0,s._)("div",{class:"tm-comment-thread__collapsed-line"},null,-1))],2)],64)):(0,s.kq)("",!0),(0,s.wy)((0,s._)("article",{id:i.comment.id,class:(0,n.C_)(h.bem("tm-comment-thread__comment",{"is-pinned":i.isPinnedSection}))},[(0,s._)("a",{id:i.isPinnedSection?`pinned-comment_${i.comment.id}`:`comment_${i.comment.id}`,ref:"targetLink",class:"tm-comment-thread__target","data-comment-new":i.comment.isNew||null,name:i.isPinnedSection?`pinned-comment_${i.comment.id}`:`comment_${i.comment.id}`},null,8,l),i.comment.author&&!i.isPinnedSection?((0,s.wg)(),(0,s.iD)("button",{key:0,class:(0,n.C_)(["tm-comment-thread__breadcrumbs",h.indentBreadcrumbsClass]),onClick:t[2]||(t[2]=(...e)=>h.toggleCollapse&&h.toggleCollapse(...e))},t[15]||(t[15]=[(0,s._)("div",{class:"tm-comment-thread__circle"},null,-1)]),2)):(0,s.kq)("",!0),i.comment.author?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",{key:1,class:(0,n.C_)(["tm-comment-thread__ufo",h.indentClass]),textContent:(0,n.zw)(e.msg("COMMENT_PLACEHOLDER_EMPTY"))},null,10,c)),i.comment.author?((0,s.wg)(),(0,s.iD)("div",{key:2,class:(0,n.C_)(h.indentClass),"data-comment-body":i.comment.id},[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.commentComponent||"TMComment"),{comment:i.comment,"is-pinned-section":i.isPinnedSection,"user-popover-enabled":""},{"comment-link":(0,s.w5)((()=>[(0,s._)("a",{class:"tm-comment-thread__comment-link",href:`#comment_${i.comment.id}`,onClick:t[3]||(t[3]=(0,a.iM)((e=>h.navigateToComment(i.comment.id)),["prevent"]))},[(0,s.Wm)(g,{"client-time":"",date:new Date(i.comment.timePublished),"is-article-format":""},null,8,["date"]),i.comment.timeChanged?((0,s.wg)(),(0,s.j4)(v,{key:0,id:"pencil-small",class:"tm-comment-thread__icon-pencil",title:e.msg("COMMENT_EDITED")},null,8,["title"])):(0,s.kq)("",!0)],8,d)])),_:1},8,["comment","is-pinned-section"])),(0,s.WI)(e.$slots,"footer",{comment:i.comment},(()=>[!i.comment.isSuspended&&i.comment.author&&i.comment.author.alias?((0,s.wg)(),(0,s.j4)(T,{key:0,comment:i.comment,"favorite-action":i.favoriteAction,"is-pinned-section":i.isPinnedSection,"popup-toggle-visible":h.popupEnabled,"show-moderation-controls":i.showModerationControls,"vote-action":i.voteAction,onModerate:t[6]||(t[6]=t=>e.$emit("moderate",{comment:i.comment,isApprove:t})),onOpenCommentHint:t[7]||(t[7]=t=>e.$emit("openCommentHint",t)),onOpenPopup:h.togglePopup},{button:(0,s.w5)((()=>[i.isPinnedSection?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"tm-comment-thread__button",type:"button",onClick:t[4]||(t[4]=(0,a.iM)((e=>h.navigateToComment(i.comment.id,!0)),["prevent"]))},(0,n.zw)(e.msg("COMMENT_ACTION_LOOK")),1)):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"tm-comment-thread__button",type:"button",onClick:t[5]||(t[5]=t=>e.$emit("showReplyForm",i.comment,t))},(0,n.zw)(e.msg("COMMENT_ACTION_REPLY")),1))])),_:1},8,["comment","favorite-action","is-pinned-section","popup-toggle-visible","show-moderation-controls","vote-action","onOpenPopup"])):(0,s.kq)("",!0)]))],10,u)):(0,s.kq)("",!0)],10,r),[[a.F8,!_.isCollapsed]]),0===i.comment.children.length||i.isPinnedSection?(0,s.kq)("",!0):(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.comment.children,(t=>((0,s.wg)(),(0,s.j4)(E,(0,s.dG)({key:t.id},{ref_for:!0},e.$props,{comment:t},(0,s.mx)(h.listeners)),{footer:(0,s.w5)((({comment:t})=>[(0,s.WI)(e.$slots,"footer",{comment:t})])),_:2},1040,["comment"])))),128))],512)),[[a.F8,!_.isCollapsed]]),_.popupVisible?((0,s.wg)(),(0,s.j4)(S,{key:2,"can-pin-unpin-comment":i.canPinUnpinComment,"can-send-complaint":Boolean(i.complaintAction),comment:i.comment,"comment-editable":h.commentEditable,"comment-link":i.getCommentLink?i.getCommentLink(i.comment):null,"is-pinned-comment":i.comment.isPinned,target:_.popupTargetElement,onClose:h.closePopup,onCollapseBranch:t[8]||(t[8]=e=>{h.toggleCollapse(i.comment),h.closePopup()}),onEnterEditMode:t[9]||(t[9]=t=>{e.$emit("showEditForm",{comment:i.comment,isPinnedSection:i.isPinnedSection}),h.closePopup()}),onLinkCopied:h.closePopup,onPinUnpinComment:t[10]||(t[10]=t=>{e.$emit("pinUnpinComment",i.comment),h.closePopup()}),onSendComplaint:t[11]||(t[11]=t=>{e.$emit("showComplaintForm",i.comment),h.closePopup()})},null,8,["can-pin-unpin-comment","can-send-complaint","comment","comment-editable","comment-link","is-pinned-comment","target","onClose","onLinkCopied"])):(0,s.kq)("",!0)],2)}var _=i(97468),h=i(72171);function g(e,t,i,a,o,r){const l=(0,s.up)("TMSvgImg"),c=(0,s.up)("TMAlignCenter"),u=(0,s.up)("TMContextMenuListItem"),d=(0,s.up)("TMContextMenuList"),m=(0,s.up)("TMContextMenu");return(0,s.wg)(),(0,s.j4)(m,{target:i.target,onClose:t[5]||(t[5]=t=>e.$emit("close"))},{body:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[i.canPinUnpinComment?((0,s.wg)(),(0,s.j4)(u,{key:0,"data-test-id":"pin-unpin-comment-button",onClick:t[0]||(t[0]=t=>e.$emit("pinUnpinComment"))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{start:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"pin-unpin",size:"24"})])),default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(i.isPinnedComment?e.msg("COMMENT_ACTION_UNPIN_COMMENT"):e.msg("COMMENT_ACTION_PIN_COMMENT")),1)])),_:1})])),_:1})):(0,s.kq)("",!0),!r.isTablet&&r.isMobile&&i.comment.level>0&&i.comment.children.length?((0,s.wg)(),(0,s.j4)(u,{key:1,"data-test-id":"collapse-branch-button",onClick:t[1]||(t[1]=t=>e.$emit("collapseBranch"))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{start:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"collapse",size:"24"})])),default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("COMMENT_ACTION_COLLAPSE_BRANCH")),1)])),_:1})])),_:1})):(0,s.kq)("",!0),i.commentLink?((0,s.wg)(),(0,s.j4)(u,{key:2,"data-test-id":"copy-comment-link-button",onClick:t[2]||(t[2]=e=>r.copyLink(i.comment))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{start:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"copy",size:"24"})])),default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("COMMENT_ACTION_COPY_LINK")),1)])),_:1})])),_:1})):(0,s.kq)("",!0),i.commentEditable?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[r.isSuperAdmin&&1===i.comment.editorVersion?((0,s.wg)(),(0,s.j4)(u,{key:0,"data-test-id":"cp2-edit-comment-button",href:r.getCp2EditFormLink(i.comment.id),tag:"a",target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{start:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"pencil",size:"24"})])),default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("COMMENT_ACTION_EDIT")),1)])),_:1})])),_:1},8,["href"])):((0,s.wg)(),(0,s.j4)(u,{key:1,"data-test-id":"edit-comment-button",onClick:t[3]||(t[3]=t=>e.$emit("enterEditMode"))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{start:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"pencil",size:"24"})])),default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("COMMENT_ACTION_EDIT")),1)])),_:1})])),_:1}))],64)):(0,s.kq)("",!0),i.canSendComplaint&&!i.comment.isSuspended?((0,s.wg)(),(0,s.j4)(u,{key:4,"data-test-id":"send-complaint-button",onClick:t[4]||(t[4]=t=>e.$emit("sendComplaint"))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{start:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"report",size:"24",title:e.msg("COMMENT_COMPLAINT_TITLE")},null,8,["title"])])),default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("COMMENT_COMPLAINT_TITLE")),1)])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1},8,["target"])}var v=i(20701),T=i(48019),E=i(6346),S=i(20014),f=i(39639),A=i(84183),b=i(71197),I=i(43059);const y={name:"TMCommentPopup",components:{TMAlignCenter:v.Z,TMContextMenuList:E.Z,TMContextMenuListItem:S.Z,TMContextMenu:T.Z,TMSvgImg:f.Z},props:{comment:{type:Object,required:!0},commentLink:{type:String,default:null},commentEditable:{type:Boolean,default:!1},canSendComplaint:{type:Boolean,default:!1},target:{type:null,required:!0},canPinUnpinComment:{type:Boolean,default:!1},isPinnedComment:{type:Boolean,required:!0}},emits:["close","pinUnpinComment","collapseBranch","enterEditMode","sendComplaint","linkCopied"],computed:{isSuperAdmin(){return(0,b.q)().isSuperAdmin},isMobile(){return(0,A.s)().isMobile},isTablet(){return(0,A.s)().isTablet}},methods:{copyLink(){try{(0,I.Z)(this.commentLink),this.$toast.success(this.msg("COMMENT_NOTICE_COPY_LINK_SUCCESS"))}catch{this.$toast.error(this.msg("COMMENT_NOTICE_COPY_LINK_ERROR"))}this.$emit("linkCopied")},getCp2EditFormLink(e){return`https://habr.com/kek/admin/comments_edit/?id=${e}`}}};var w=i(83744);const P=(0,w.Z)(y,[["render",g]]),C=P;var k=i(20666),L=i(41008),N=i(25109),O=i(95865),R=i(87575),M=i(50807),U=i(79182);let D;function B(){if(D)return D;const e=(0,U.rV)("collapsedCommentIds");if(!e)return null;const t=JSON.parse(e);return D=t,t}const H="55px",F={name:"TMCommentThread",components:{TMCommentPopup:C,TMComment:_.Z,TMCommentFooter:h.Z,TMSvgImg:f.Z,TMDatetime:k.Z},props:{commentComponent:{type:Object,default:null},comment:{type:Object,required:!0},isAuthorized:{type:Boolean,default:!1},voteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},favoriteAction:{type:Function,default:null},isPinnedSection:{type:Boolean,default:!1},canPinUnpinComment:{type:Boolean,default:!1},showModerationControls:Boolean},emits:["moderate","showReplyForm","showEditForm","pinUnpinComment","showComplaintForm","expandLimiter","openCommentHint","expandComment"],data(){return{isCollapsed:!1,popupVisible:!1,popupTargetElement:null,scrollOffset:"0px",attributeObserver:null}},computed:{listeners(){const e=e=>(...t)=>("expandComment"===e&&(this.isCollapsed=!1),this.$emit(e,...t));return Object.fromEntries(this.$options.emits.map((t=>[t,e(t)])))},collapsedText(){return this.msg("COMMENT_COLLAPSED",{count:this.hiddenCommentsCount})},hiddenCommentsCount(){return this.comment.children.reduce((function e(t,{children:i}){return i.length?i.reduce(e,t+1):t+1}),1)},indentClass(){if(this.isPinnedSection)return"";const e=10,t=Math.min(this.comment.level,e);return`tm-comment-thread__indent_l-${t}`},indentBreadcrumbsClass(){const e=10,t=Math.min(this.comment.level,e);return`tm-comment-thread__indent_b_l-${t}`},popupEnabled(){return Boolean(this.complaintAction||this.getCommentLink||this.commentEditable||this.comment.level>0&&this.comment.children.length)},commentEditable(){return this.comment.isCanEdit&&!this.comment.isSuspended}},mounted(){(0,L.Q)().isSponsorBlockPresent&&(this.scrollOffset=H);const e=B();e&&this.comment.id in e&&(this.isCollapsed=!0),this.handleToCommentNavigation()},beforeUnmount(){var e;null===(e=this.attributeObserver)||void 0===e||e.disconnect()},methods:{handleToCommentNavigation(){var e;this.attributeObserver=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"data-selected-comment"===e.attributeName&&this.$emit("expandComment")}))})),null===(e=this.attributeObserver)||void 0===e||e.observe(this.$refs.targetLink,{attributes:!0,attributeFilter:["data-selected-comment"]});const{hash:t}=this.$route,i=(0,R.rG)(t)?(0,O.O_)():[t.split("_")[1]];i.includes(this.comment.id)&&(this.isCollapsed=!1,this.$nextTick((()=>{this.$emit("expandComment")})))},toggleCollapse(){this.isCollapsed=!this.isCollapsed;const{id:e}=this.comment;if(this.isCollapsed)try{const t=JSON.parse((0,U.rV)("collapsedCommentIds")||"{}");(0,U.LS)("collapsedCommentIds",JSON.stringify({...t,[e]:1}))}catch{(0,U.LS)("collapsedCommentIds",JSON.stringify({[e]:1}))}else{const t=JSON.parse((0,U.rV)("collapsedCommentIds")||"{}");delete t[e],(0,U.LS)("collapsedCommentIds",JSON.stringify(t))}},navigateToComment(e,t=!1){t&&!(0,R.m2)(e)&&this.$emit("expandLimiter");const i=`#comment_${e}`;(0,R.fo)(i).then((()=>(0,M.q)(i)))},togglePopup(){this.popupVisible=!this.popupVisible;let e=null;e=this.isPinnedSection?document.querySelector("[data-pinned-comments]"):document.querySelector("[data-comments-list]"),this.popupTargetElement=e.querySelector(`[data-comment-popup="${this.comment.id}"]`)},closePopup(){this.popupVisible=!1},bem:N.P}},V=()=>{(0,a.sj)((e=>({eb2fbe66:e.scrollOffset})))},$=F.setup;F.setup=$?(e,t)=>(V(),$(e,t)):V;const W=F,G=(0,w.Z)(W,[["render",p]]),x=G},97468:(e,t,i)=>{"use strict";i.d(t,{Z:()=>se});var s=i(66252),n=i(56612),a=i(58061);const o={ref:"rootEl",class:"tm-comment","data-gallery-root":""},r={class:"tm-comment__header-inner"},l=["href"],c={key:0,ref:"commentButtons",class:"tm-comment__buttons"},u=["innerHTML"];function d(e,t,i,d,m,p){var _;const h=(0,s.up)("TMDatetime"),g=(0,s.up)("TMUserInfo"),v=(0,s.up)("TMSvgImg"),T=(0,s.up)("TMUserInfoPopup"),E=(0,s.up)("TMGallery");return(0,s.wg)(),(0,s.iD)("div",o,[e.authorAliasPresent?((0,s.wg)(),(0,s.iD)("header",{key:0,ref:"commentHeader",class:(0,n.C_)(["tm-comment__header",e.className]),"data-comment-header":"",tabindex:"-1"},[(0,s._)("div",r,[(0,s.Wm)(g,{ref:"userInfo",author:e.comment.author,avatar:e.comment.author.avatarUrl,class:"tm-comment__user-info","real-author":e.comment.realAuthor,onMouseenter:e.onUserMouseenter,onMouseleave:e.onUserMouseleave},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"comment-link",{},(()=>[(0,s._)("a",{class:"tm-comment__datetime",href:`#comment_${e.comment.id}`},[(0,s.Wm)(h,{"client-time":"",date:new Date(e.comment.timePublished),"is-article-format":""},null,8,["date"])],8,l)]))])),_:3},8,["author","avatar","real-author","onMouseenter","onMouseleave"])]),e.isCommentControlsShown&&!e.isPinnedSection?((0,s.wg)(),(0,s.iD)("div",c,[e.comment.parentId?((0,s.wg)(),(0,s.iD)("button",{key:0,ref:"scrollToParentButton",class:"tm-comment__button tm-comment__button_with-icon",type:"button",onClick:t[0]||(t[0]=()=>{e.scrollTo(`#comment_${e.comment.parentId}`),e.commentsStore.setScrollParents(e.comment)})},[(0,s.Wm)(v,{id:"small-arrow",class:"tm-comment__icon",title:e.msg("GO_TO_PARENT_COMMENT")},null,8,["title"])],512)):(0,s.kq)("",!0),null!==(_=e.commentsStore.scrollParents)&&void 0!==_&&_[e.comment.id]?((0,s.wg)(),(0,s.iD)("button",{key:1,ref:"scrollToChildButton",class:"tm-comment__button tm-comment__button_with-icon",type:"button",onClick:t[1]||(t[1]=t=>e.scrollTo(`#comment_${e.commentsStore.scrollParents[e.comment.id]}`))},[(0,s.Wm)(v,{id:"small-arrow",class:"tm-comment__icon tm-comment__icon_rotated",title:e.msg("GO_TO_CHILD_COMMENT")},null,8,["title"])],512)):(0,s.kq)("",!0)],512)):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0),(0,s._)("div",{ref:"commentBody",class:(0,n.C_)(["tm-comment__body-content",{"tm-comment__body-content_muted":e.opacity,"tm-comment__body-content_empty":!e.authorAliasPresent,"tm-comment__body-content_v2":e.comment.editorVersion>1}]),style:(0,n.j5)(e.opacity),innerHTML:e.comment.message},null,14,u),(0,s.Wm)(a.uT,{name:"transition-fade"},{default:(0,s.w5)((()=>[e.showUserInfoPopup?((0,s.wg)(),(0,s.j4)(T,{key:0,ref:"userInfoPopup",root:e.$refs.userInfo.$el,"user-alias":e.comment.realAuthor?e.comment.realAuthor.alias:e.comment.author.alias,onCloseVotesDialog:t[2]||(t[2]=t=>e.votesDialogIsOpen=!1),onOpenVotesDialog:t[3]||(t[3]=t=>e.votesDialogIsOpen=!0)},null,8,["root","user-alias"])):(0,s.kq)("",!0)])),_:1}),e.galleryImages.length?((0,s.wg)(),(0,s.j4)(E,{key:1,ref:"galleryRef",class:"tm-comment__gallery","images-list":e.galleryImages,onImagesInitialized:e.onImagesInitialized},null,8,["images-list","onImagesInitialized"])):(0,s.kq)("",!0)],512)}var m=i(62931),p=i(22201),_=i(91296),h=i.n(_),g=i(93096),v=i.n(g),T=i(34750),E=i(20666),S=i(59545),f=i(39639),A=i(65904);const b={key:0,class:"user-info-popup__wrapper"},I={class:"user-info-popup__wrapper"},y={class:"user-info-popup__footer"};function w(e,t,i,a,o,r){const l=(0,s.up)("TMUserInfoPopupPlaceholder"),c=(0,s.up)("TMUserCard"),u=(0,s.up)("TMDescriptionList"),d=(0,s.up)("TMPopover");return(0,s.wg)(),(0,s.j4)(d,{class:"user-info-popup",root:i.root},{default:(0,s.w5)((()=>[o.isLoading||!r.user?((0,s.wg)(),(0,s.iD)("div",b,[(0,s.Wm)(l)])):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",I,[(0,s.Wm)(c,{"avatar-size":40,"is-donate-button-visible":"",user:r.user,variant:"popover",onCloseVotesDialog:t[0]||(t[0]=t=>e.$emit("closeVotesDialog")),onOpenVotesDialog:t[1]||(t[1]=t=>e.$emit("openVotesDialog"))},null,8,["user"])]),(0,s._)("div",y,[(0,s.Wm)(u,{class:"user-info-popup__stat",title:`${e.msg("PROFILE_POSTS")}:`,variant:"inline"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(r.user.counterStats.postCount),1)])),_:1},8,["title"]),(0,s.Wm)(u,{class:"user-info-popup__stat",title:`${e.msg("PROFILE_COMMENTS")}:`,variant:"inline"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(r.user.counterStats.commentCount),1)])),_:1},8,["title"])])],64))])),_:1},8,["root"])}var P=i(44420),C=i(81864),k=i(47262),L=i(68970);const N={class:"user-info-popup-placeholder"},O={class:"user-info-popup-placeholder__category-info"};function R(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("div",N,[t[0]||(t[0]=(0,s._)("div",{class:"user-info-popup-placeholder__user-profile-data"},[(0,s._)("div",{class:"user-info-popup-placeholder__category-avatar"})],-1)),(0,s._)("div",O,[(0,s._)("span",{class:"user-info-popup-placeholder__category-name",style:(0,n.j5)(`width: ${r.getRandomNumberFromRange(80,150)}px`)},null,4),(0,s._)("div",{class:"user-info-popup-placeholder__category-description",style:(0,n.j5)(`width: ${r.getRandomNumberFromRange(30,210)}px`)},null,4)])])}var M=i(15891);const U={name:"TMUserInfoPopupPlaceholder",methods:{getRandomNumberFromRange:M.r}};var D=i(83744);const B=(0,D.Z)(U,[["render",R]]),H=B,F={name:"TMUserInfoPopup",components:{TMUserInfoPopupPlaceholder:H,TMDescriptionList:P.Z,TMUserCard:k.Z,TMPopover:C.Z},props:{userAlias:{type:[Number,String],required:!0},root:{type:null,required:!0}},emits:["closeVotesDialog","openVotesDialog"],data(){return{isLoading:!0}},computed:{user(){return(0,L.UJ)().getUserByAlias(this.userAlias)}},created(){(0,L.UJ)().loadUserInfo(this.userAlias).then((()=>{this.isLoading=!1}))}},V=(0,D.Z)(F,[["render",w]]),$=V;var W=i(14652),G=i(36134),x=i(51779),q=i(43004),Y=i(581);function Z(e,t){const i=e.parentElement&&"FIGURE"===e.parentElement.tagName,s=e.getAttribute("inline");if((i||s)&&(e.setAttribute("src","/img/no-image.png"),e.setAttribute("width",24),e.setAttribute("height",24),e.setAttribute("title",t),e.removeAttribute("data-blurred"),i)){const i=document.createElement("div");i.setAttribute("class","tm-empty-image");const s=document.createElement("span");s.innerText=t,i.append(e.cloneNode(!0)),i.append(s),e.replaceWith(i)}}function j(e,t){const i=(0,Y.getImages)(e),s=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){let i=e.target,n=new Image;const a=(0,Y.getBestSizeImageSrc)(i.getAttribute("data-src")||i.src);n.setAttribute("src",a);const o=()=>{"/img/image-loader.svg"===i.getAttribute("src")&&i.removeAttribute("src"),i.setAttribute("src",a);const e=i.getAttribute("data-width");e&&i.setAttribute("width",e),setTimeout((()=>{i.removeAttribute("data-blurred"),n.removeEventListener("load",o),n.removeEventListener("error",r),n=null,i=null}),0)},r=()=>{i.setAttribute("src",null),i.setAttribute("alt",t),i.removeAttribute("data-blurred"),n.removeEventListener("load",o),n.removeEventListener("error",r),n=null,i=null};n.addEventListener("load",o),n.addEventListener("error",r),s.unobserve(e.target)}}))}),{rootMargin:"500px"});return i.forEach((e=>{const i=e.getAttribute("data-src"),n=e.getAttribute("src");if(n||Z(e,t),i){const t=i.split(".").pop(),n=["jpg","jpeg"];-1!==n.indexOf(t)&&s.observe(e)}})),()=>s.disconnect()}var K=i(4788),z=i(75846),Q=i(29587),X=i(44383),J=i(87575);const ee=(0,S.Rd)((()=>i.e(5121).then(i.bind(i,66874)))),te={name:"TMComment",components:{TMGallery:ee,TMSvgImg:f.Z,TMUserInfo:A.Z,TMArticleCommentsLink:T.Z,TMUserInfoPopup:$,TMDatetime:E.Z},props:{comment:{type:Object,required:!0,validator:x.gI},isCommentControlsShown:{type:Boolean,default:!0},shouldDisplayStatus:{type:Boolean,default:!0},userPopoverEnabled:Boolean,isPinnedSection:{type:Boolean,default:!1}},setup(){const{galleryRef:e,onImagesInitialized:t,handleClickOnBrokenGallery:i}=(0,W.y)(),n=(0,m.iH)(null),a=(0,m.iH)(null),o=(0,m.iH)([]),r=(0,m.iH)(null),l=(0,m.iH)(null),c=(0,p.tv)(),{msg:u}=(0,G.Q)();(0,s.bv)((()=>{o.value=(0,Q.N)(l.value),(0,K.y)(r.value),a.value=j(l.value,u("ERROR_IMAGE_WAS_NOT_LOADED")),n.value=(0,z.W)(r.value,((e,t)=>{e.preventDefault(),c.push((0,z.M)(t))})),o.value.length&&l.value.addEventListener("click",i)})),(0,s.Jd)((()=>{l.value.removeEventListener("click",i)}));const d=(0,q.e)();return{rootEl:r,galleryRef:e,galleryImages:o,disposeLinks:n,disconnectObserver:a,commentBody:l,onImagesInitialized:t,handleClickOnBrokenGallery:i,commentsStore:d}},data(){return{userInfoPopupVisible:!1,userInfoTimer:null,shouldClosePopup:!1,votesDialogIsOpen:!1}},computed:{showUserInfoPopup(){return!!this.votesDialogIsOpen||this.userPopoverEnabled&&this.userInfoPopupVisible},className(){return this.shouldDisplayStatus?{"tm-comment__header_is-by-op":this.comment.isPostAuthor,"tm-comment__header_is-mine":this.comment.isAuthor,"tm-comment__header_is-new":this.comment.isNew,"tm-comment__header_is-readonly":this.comment.isReadonly,"tm-comment__header_is-deleted":this.comment.isSuspended}:null},opacity(){if(this.comment.score>=0)return null;const e=90,t=10*this.comment.score,i=Math.abs(Math.max(-50,t));return{opacity:(e-i)/100}},handleMouseMoveThrottled(){return v()(this.handleMouseMove,200)},closeUserInfoPopupDebounced(){return h()((function(){this.shouldClosePopup&&this.closeUserInfoPopup()}),500)},authorAliasPresent(){var e;return null===(e=this.comment.author)||void 0===e?void 0:e.alias}},watch:{shouldClosePopup(e){e&&this.closeUserInfoPopupDebounced()},comment(e,t){e.message!==t.message&&this.$nextTick((()=>{(0,K.y)(this.$el)}))}},beforeUnmount(){this.disconnectObserver(),this.disposeLinks(),document.removeEventListener("mousemove",this.handleMouseMoveThrottled)},methods:{scrollTo(e){(0,J.fo)(e),(0,X.YO)(e)},openUserInfoPopup(){this.userPopoverEnabled&&!this.userInfoPopupVisible&&(this.userInfoPopupVisible=!0,document.addEventListener("mousemove",this.handleMouseMoveThrottled))},closeUserInfoPopup(){this.userPopoverEnabled&&(this.userInfoPopupVisible=!1,this.shouldClosePopup=!1,document.removeEventListener("mousemove",this.handleMouseMoveThrottled))},onUserMouseenter(){this.userPopoverEnabled&&(clearTimeout(this.userInfoTimer),this.userInfoPopupVisible||(this.userInfoTimer=setTimeout(this.openUserInfoPopup,800)))},onUserMouseleave(){this.userPopoverEnabled&&!this.userInfoPopupVisible&&clearTimeout(this.userInfoTimer)},handleMouseMove({clientX:e,clientY:t}){if(!this.$refs.userInfoPopup)return;const i=document.elementFromPoint(e,t),s=this.$refs.userInfoPopup.$el,n=this.$refs.userInfo.$el;this.shouldClosePopup=![s,n].some((e=>e.contains(i)))}}},ie=(0,D.Z)(te,[["render",d]]),se=ie},43673:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(66252),n=i(56612),a=i(62931),o=i(36134);const r={class:"tm-comments-wrapper","data-hide-header-feature":""},l={class:"tm-comments-wrapper__wrapper"},c={class:"tm-comments-wrapper__header"},u={class:"tm-comments-wrapper__title"},d={key:0,class:"tm-comments-wrapper__comments-count"},m={key:0,class:"tm-comments-wrapper__header-aside"},p={key:0,class:"tm-comments-wrapper__inner"},_=(0,s.aZ)({__name:"comments-wrapper",props:{commentsCount:{}},setup(e){const{msg:t}=(0,o.Q)();return(e,i)=>((0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",l,[(0,s._)("header",c,[(0,s._)("h2",u,[(0,s.Uk)((0,n.zw)((0,a.SU)(t)("ARTICLE_COMMENTS_TITLE"))+" ",1),e.commentsCount?((0,s.wg)(),(0,s.iD)("span",d,(0,n.zw)(e.commentsCount),1)):(0,s.kq)("",!0)]),e.$slots.headerAside?((0,s.wg)(),(0,s.iD)("div",m,[(0,s.WI)(e.$slots,"headerAside")])):(0,s.kq)("",!0)]),e.$slots.default?((0,s.wg)(),(0,s.iD)("div",p,[(0,s.WI)(e.$slots,"default")])):(0,s.kq)("",!0)]),(0,s.WI)(e.$slots,"footer")]))}}),h=_,g=h},26496:(e,t,i)=>{"use strict";i.d(t,{Z:()=>He});var s=i(66252),n=i(56612);const a={key:0,class:"tm-comments__reply-form"},o={class:"tm-comments__reply-form-wrapper"},r=["title"],l={key:1,ref:"commentsList",class:"tm-comments__tree","data-comments-list":""},c={key:0,class:"tm-comments__reply-form"},u={class:"tm-comments__reply-form-wrapper"},d={key:0},m={key:1},p=["title"],_={key:1,class:"tm-comments__reply-form"},h={class:"tm-comments__reply-form-wrapper"},g=["title"],v={key:2,class:"tm-comments__empty"},T=["innerHTML"],E=["href"],S=["innerHTML"];function f(e,t,i,f,A,b){const I=(0,s.up)("TMPlaceholder"),y=(0,s.up)("TMSvgImg"),w=(0,s.up)("TMCommentEditForm"),P=(0,s.up)("TMPinnedComments"),C=(0,s.up)("TMNotice"),k=(0,s.up)("TMCommentReplyForm"),L=(0,s.up)("TMCommentThread"),N=(0,s.up)("RestrictionHint"),O=(0,s.up)("TMComplaintForm"),R=(0,s.up)("TMPopup"),M=(0,s.up)("TMCommentsWrapper");return(0,s.wg)(),(0,s.j4)(M,{"comments-count":i.commentsCount},(0,s.Nv)({headerAside:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"headerAside")])),default:(0,s.w5)((()=>[i.isLoading?((0,s.wg)(),(0,s.j4)(I,{key:0,times:3,type:"comment"})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.WI)(e.$slots,"body"),i.pinnedComments&&i.pinnedComments.length?((0,s.wg)(),(0,s.j4)(P,{key:0,"can-pin-unpin-comment":i.canPinUnpinComment,"complaint-action":i.complaintAction,"favorite-action":i.favoriteAction,"get-comment-link":i.getCommentLink,"pinned-comments":i.pinnedComments,"show-moderation-controls":i.showModerationControls,"vote-action":i.voteAction,onCommentDelete:t[1]||(t[1]=t=>e.$emit("commentDelete",t)),onExpandLimiter:t[2]||(t[2]=t=>e.$emit("expandLimiter",t)),onModerate:b.moderateReadAndComment,onOpenCommentHint:b.toggleCommentHint,onPinUnpinComment:t[3]||(t[3]=t=>e.$emit("pinUnpinComment",t)),onShowComplaintForm:b.showComplaintForm,onShowEditForm:b.showEditForm},(0,s.Nv)({_:2},[A.formTarget&&A.formTarget.isPinnedSection?{name:"footer",fn:(0,s.w5)((({comment:n})=>[A.formTarget.commentId===n.id&&"edit"===A.formTarget.type?((0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",o,[(0,s.Wm)(w,{comment:n,"edit-action":b.editAction,"is-post":i.isPost,"post-id":b.postId,onClose:b.closeForm,onDelete:e=>b.onDeleteComment(n.id)},{"close-button":(0,s.w5)((()=>[(0,s._)("button",{class:"tm-comments__close-button",title:e.msg("CLOSE"),onClick:t[0]||(t[0]=e=>b.closeForm())},[(0,s.Wm)(y,{id:"close",size:12})],8,r)])),_:2},1032,["comment","edit-action","is-post","post-id","onClose","onDelete"])])])):(0,s.kq)("",!0)])),key:"0"}:void 0]),1032,["can-pin-unpin-comment","complaint-action","favorite-action","get-comment-link","pinned-comments","show-moderation-controls","vote-action","onModerate","onOpenCommentHint","onShowComplaintForm","onShowEditForm"])):(0,s.kq)("",!0),i.comments&&i.comments.length?((0,s.wg)(),(0,s.iD)("div",l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.comments,(a=>((0,s.wg)(),(0,s.j4)(L,{key:a.id,"can-pin-unpin-comment":i.canPinUnpinComment,comment:a,"comment-component":i.commentComponent,"complaint-action":i.complaintAction,"favorite-action":i.favoriteAction,"get-comment-link":i.getCommentLink,"show-moderation-controls":i.showModerationControls,"vote-action":i.voteAction,onModerate:b.moderateReadAndComment,onOpenCommentHint:b.toggleCommentHint,onPinUnpinComment:t[6]||(t[6]=t=>e.$emit("pinUnpinComment",t)),onShowComplaintForm:b.showComplaintForm,onShowEditForm:b.showEditForm,onShowReplyForm:b.showReplyForm},(0,s.Nv)({_:2},[A.formTarget&&!A.formTarget.isPinnedSection?{name:"footer",fn:(0,s.w5)((({comment:a})=>[A.formTarget.commentId===a.id?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},["reply"===A.formTarget.type?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",u,[b.showNoticeInCommentsThread?((0,s.wg)(),(0,s.j4)(C,{key:0,type:"negative"},{default:(0,s.w5)((()=>[e.cantCommentReason?((0,s.wg)(),(0,s.iD)("span",d,(0,n.zw)(e.cantCommentReason),1)):((0,s.wg)(),(0,s.iD)("span",m,(0,n.zw)(e.commentAccessMessage),1))])),_:1})):((0,s.wg)(),(0,s.j4)(k,{key:1,autofocus:"","is-post":i.isPost,"submit-action":i.commentSubmitAction,"target-comment":a,onClose:b.closeForm},{"close-button":(0,s.w5)((()=>[(0,s._)("button",{class:"tm-comments__close-button",title:e.msg("CLOSE"),onClick:t[4]||(t[4]=e=>b.closeForm())},[(0,s.Wm)(y,{id:"close",size:12})],8,p)])),_:2},1032,["is-post","submit-action","target-comment","onClose"]))])])):"edit"===A.formTarget.type?((0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("div",h,[(0,s.Wm)(w,{comment:a,"edit-action":b.editAction,"is-post":i.isPost,"post-id":b.postId,onClose:b.closeForm,onDelete:e=>b.onDeleteComment(a.id)},{"close-button":(0,s.w5)((()=>[(0,s._)("button",{class:"tm-comments__close-button",title:e.msg("CLOSE"),onClick:t[5]||(t[5]=e=>b.closeForm())},[(0,s.Wm)(y,{id:"close",size:12})],8,g)])),_:2},1032,["comment","edit-action","is-post","post-id","onClose","onDelete"])])])):(0,s.kq)("",!0)],64)):(0,s.kq)("",!0)])),key:"0"}:void 0]),1032,["can-pin-unpin-comment","comment","comment-component","complaint-action","favorite-action","get-comment-link","show-moderation-controls","vote-action","onModerate","onOpenCommentHint","onShowComplaintForm","onShowEditForm","onShowReplyForm"])))),128))],512)):((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("span",{innerHTML:e.msg("COMMENT_EMPTY")},null,8,T)])),(0,s.WI)(e.$slots,"afterComments")],64)),A.isCommentHintVisible?((0,s.wg)(),(0,s.j4)(N,(0,s.dG)({key:2},A.commentHintProps,{onClose:t[7]||(t[7]=e=>A.isCommentHintVisible=!1)}),null,16)):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[A.complaintCommentId?((0,s.wg)(),(0,s.j4)(R,{key:0,title:e.msg("COMMENT_COMPLAINT_TITLE"),onClose:t[8]||(t[8]=e=>A.complaintCommentId=null)},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{autofocus:"true","submit-action":e=>b.commentComplaintAction(e,A.complaintCommentId)},null,8,["submit-action"])])),_:1},8,["title"])):(0,s.kq)("",!0)]))])),_:2},[!i.isLoading&&i.footerVisible?{name:"footer",fn:(0,s.w5)((()=>[i.notice?((0,s.wg)(),(0,s.j4)(C,{key:0,class:"tm-comments__comment-notice",type:i.notice.type},{default:(0,s.w5)((()=>["positive"===i.notice.type?((0,s.wg)(),(0,s.iD)("a",{key:0,href:b.loginUrl,rel:"nofollow",onClickCapture:t[9]||(t[9]=(...e)=>b.logRegistrationClick&&b.logRegistrationClick(...e))},(0,n.zw)(e.msg("ARTICLE_REGISTRATION_HINT_LINK")),41,E)):(0,s.kq)("",!0),(0,s._)("span",{innerHTML:i.notice.message},null,8,S)])),_:1},8,["type"])):A.formTarget?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(k,{key:1,"is-post":i.isPost,"submit-action":i.commentSubmitAction},null,8,["is-post","submit-action"]))])),key:"0"}:void 0]),1032,["comments-count"])}var A=i(67476);function b(e,t,i,n,a,o){const r=(0,s.up)("TMCommentForm");return a.originalMessageLoaded?((0,s.wg)(),(0,s.j4)(r,{key:0,ref:"form",autofocus:!0,"countdown-timer":a.timer,"initial-data":a.currentValue,"is-markdown":a.isMarkdown,"is-processing":a.disabled,label:e.msg("COMMENT_EDIT_FORM_TITLE"),readonly:a.disabled,"show-as-moderator":!1,"show-delete":"",onClose:t[0]||(t[0]=t=>e.$emit("close")),onDelete:t[1]||(t[1]=t=>e.$emit("delete",t)),onPreview:t[2]||(t[2]=t=>e.$emit("preview",t)),onSubmit:o.onSubmit},{"close-button":(0,s.w5)((()=>[(0,s.WI)(e.$slots,"close-button")])),_:3},8,["countdown-timer","initial-data","is-markdown","is-processing","label","readonly","onSubmit"])):(0,s.kq)("",!0)}var I=i(58061);const y={class:"tm-comment-form__field"},w={class:"tm-comment-form__header"},P=["innerHTML"],C=["autofocus"],k={class:"tm-comment-form__controls"},L={class:"tm-comment-form__controls-buttons"},N=["disabled"],O=["disabled"],R=["disabled"];function M(e,t,i,a,o,r){const l=(0,s.up)("TMMarkdownSwitcher"),c=(0,s.up)("TMLabeledCheckbox"),u=(0,s.up)("TMWysiwygEditor"),d=(0,s.up)("TMComment"),m=(0,s.Q2)("hotkey"),p=(0,s.Q2)("autosize");return(0,s.wg)(),(0,s.j4)((0,s.LL)(o.useMarkdownEditor?"form":"div"),{ref:"form",class:(0,n.C_)(["tm-comment-form",{"tm-comment-form_processing":i.isProcessing}]),onSubmit:(0,I.iM)(r.submitForm,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s._)("div",w,[i.label?((0,s.wg)(),(0,s.iD)("label",{key:0,ref:"label",class:"tm-comment-form__label",innerHTML:i.label},null,8,P)):(0,s.kq)("",!0),(0,s.Wm)(l,{class:"tm-comment-form__markdown-toggle",disabled:!r.isTextareaEmpty,"in-comments":"","use-markdown-editor":o.useMarkdownEditor,"use-markdown-settings-key":"useMarkdownInComments",onChangeUseMarkdown:t[0]||(t[0]=e=>o.useMarkdownEditor=e)},null,8,["disabled","use-markdown-editor"]),(0,s.WI)(e.$slots,"close-button")]),i.showAsModerator&&(a.isSuperAdmin||a.isModerator)?((0,s.wg)(),(0,s.j4)(c,{key:0,modelValue:o.asModerator,"onUpdate:modelValue":t[1]||(t[1]=e=>o.asModerator=e),class:"tm-comment-form__moderator-toggle","data-test-id":"comment-moderator-checkbox",name:"asModerator"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("COMMENT_AS_MODERATOR")),1)])),_:1},8,["modelValue"])):(0,s.kq)("",!0),o.useMarkdownEditor?o.commentPreview?((0,s.wg)(),(0,s.j4)(d,{key:2,class:"tm-comment-form__preview",comment:o.commentPreview},null,8,["comment"])):(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",(0,s.dG)({key:3,ref:"textarea","onUpdate:modelValue":t[4]||(t[4]=e=>o.markdownSource=e),autofocus:i.autofocus,class:"tm-comment-form__textarea",cols:"30","data-test-id":"comment-form-textarea",rows:"5"},(0,s.mx)(r.inputListeners,!0),{onKeydownCapture:[t[5]||(t[5]=(0,I.D2)((0,I.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["ctrl","stop"]),["enter"])),t[6]||(t[6]=(0,I.D2)((0,I.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["meta","stop"]),["enter"]))]}),null,16,C)),[[I.nr,o.markdownSource],[p],[m,{c:r.scrollToCommentFormAndFocus},void 0,{stop:!0}]]):(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:1,class:"tm-comment-form__editor",onKeydownCapture:[t[2]||(t[2]=(0,I.D2)((0,I.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["ctrl","stop"]),["enter"])),t[3]||(t[3]=(0,I.D2)((0,I.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["meta","stop"]),["enter"]))]},[o.renderEditor?((0,s.wg)(),(0,s.j4)(u,{key:0,ref:"editor","data-test-id":"comment-form-wysiwyg","is-desktop-touch":!r.isMobile&&r.isTouchDevice,"is-mobile":r.isMobile||r.isTouchDevice,lang:a.langOptions.hl,"props-config":o.WYSIWYGInitialProps,"use-test-ids":r.useTestIds,onLoading:r.setFormLoading,onTypographApplied:r.onTypographApplied,onUpdate:r.onWYSIWYGUpdate},null,8,["is-desktop-touch","is-mobile","lang","props-config","use-test-ids","onLoading","onTypographApplied","onUpdate"])):(0,s.kq)("",!0)],32)),[[m,{c:r.scrollToCommentFormAndFocus},void 0,{stop:!0}]])]),(0,s._)("div",k,[(0,s._)("div",L,[(0,s._)("button",{ref:"submitButton",class:"tm-comment-form__button tm-comment-form__button_send","data-test-id":"button-send-comment",disabled:r.disableFormButtons,onClick:t[7]||(t[7]=(0,I.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"]))},(0,n.zw)(e.msg("COMMENT_ACTION_SEND")),9,N),o.useMarkdownEditor?((0,s.wg)(),(0,s.iD)("button",{key:0,ref:"previewButton",class:"tm-comment-form__button tm-comment-form__button_preview",disabled:r.disableFormButtons,type:"button",onClick:t[8]||(t[8]=(...e)=>r.togglePreview&&r.togglePreview(...e))},(0,n.zw)(o.commentPreview?e.msg("COMMENT_ACTION_EDIT"):e.msg("COMMENT_ACTION_PREVIEW")),9,O)):(0,s.kq)("",!0)]),a.isSuperAdmin&&i.showDelete?((0,s.wg)(),(0,s.iD)("button",{key:0,ref:"suspendButton",class:"tm-comment-form__button tm-comment-form__button_delete","data-test-id":"button-delete-comment",disabled:r.disableFormButtons,type:"button",onClick:t[9]||(t[9]=(...e)=>r.suspendComment&&r.suspendComment(...e))},(0,n.zw)(e.msg("COMMENT_ACTION_SUSPEND")),9,R)):(0,s.kq)("",!0),!a.isModerator&&i.countdownTimer?((0,s.wg)(),(0,s.iD)("span",{key:1,ref:"countdownTimer",class:"tm-comment-form__countdown-timer"},(0,n.zw)(r.formattedCountdownTimer),513)):(0,s.kq)("",!0)])])),_:3},40,["class","onSubmit"])}var U=i(91296),D=i.n(U),B=i(97468),H=i(59545),F=i(89734),V=i(92714),$=i(78052),W=i(36134),G=i(84183),x=i(71197),q=i(68323),Y=i(1714),Z=i(13862),j=i(73313),K=i(67426);function z(e){const t=Math.floor(parseInt(e,10)/3600),i=Math.floor(parseInt(e,10)/60)%60,s=Math.floor(parseInt(e,10))%60,n=e=>e>9?e:`0${e}`;return`${n(t)}:${n(i)}:${n(s)}`}var Q=i(25934),X=i(10707);const J=(0,H.Rd)((()=>i.e(1854).then(i.bind(i,71854))),H.MN);function ee(e){try{return JSON.parse(e),!0}catch{return!1}}function te(e){return ee(e)?e:null}function ie(e){return ee(e)?null:e}const se={name:"TMCommentForm",directives:{autosize:Y.e},components:{TMComment:B.Z,TMLabeledCheckbox:F.Z,TMHelpIcon:J,TMMarkdownSwitcher:V.Z,TMWysiwygEditor:$.Z},inheritAttrs:!1,props:{isProcessing:Boolean,autofocus:Boolean,countdownTimer:{type:Number,default:null},label:{type:String,default:null},showDelete:Boolean,initialData:{type:String,default:null},showAsModerator:{type:Boolean,default:!0},isMarkdown:Boolean},emits:["update:modelValue","delete","submit"],setup(){const e=(0,x.q)(),{langOptions:t}=(0,W.Q)(),{isModerator:i,isSuperAdmin:s}=(0,A.Jk)(e);return{isModerator:i,isSuperAdmin:s,langOptions:t}},data(){return{renderEditor:!1,WYSIWYGInitialProps:{embedHost:"https://embedd.srv.habr.com",imagesHost:(0,X.k)("publication/upload","v2"),mentionHost:(0,X.k)("publication/suggest-mention","v2"),imagesByUrlHost:(0,X.k)("publication/upload-url","v2"),extensions:[],initialJSON:te(this.initialData),autoFocus:this.autofocus},WYSIWYGData:{},WYSIWYGLoading:!1,useMarkdownEditor:this.isMarkdown,markdownSource:ie(this.initialData),commentPreview:null,previewLoading:!1,asModerator:!1}},computed:{isMobile(){return(0,G.s)().isMobile},useTestIds(){return!1},disableFormButtons(){return this.isTextareaEmpty||this.WYSIWYGLoading||this.isProcessing||this.previewLoading},inputListeners(){return{...Object.keys(this.$attrs).filter((e=>e.startsWith("on"))).map((e=>this.$attrs[e])),"update:modelValue":e=>{this.$emit("update:modelValue",e.target.value)}}},isTouchDevice(){return(0,Z.b1)()},isTextareaEmpty(){if(!this.useMarkdownEditor){const e=this.WYSIWYGData.json&&this.WYSIWYGData.json.content.filter((e=>"paragraph"!==e.type)).length,t=this.WYSIWYGData.textContent||"";return!e&&!t.trim().length}return!this.markdownSource},formattedCountdownTimer(){return z(this.countdownTimer)},isPost(){return(0,j.E)(this.$route.name)}},async mounted(){var e,t;const i=(0,q.S)();await i.getWYSIWYGRulesRefsIfNotExist(),this.WYSIWYGInitialProps.extensions=null===(e=i.WYSIWYGRulesRefs)||void 0===e||null===(t=e.postComment)||void 0===t?void 0:t.elements,this.WYSIWYGInitialProps.extensions.push("Typograph"),this.renderEditor=!0,this.autofocus&&this.focus(),window.addEventListener("beforeunload",this.handlePageLeave)},beforeUnmount(){window.removeEventListener("beforeunload",this.handlePageLeave)},methods:{updateUserPreferredEditor:D()((function(e){(0,x.q)().updateUseMarkdown({useMarkdownInComments:e}).catch((e=>{this.$toast.error(e.message)}))}),500),onWYSIWYGUpdate(e){this.WYSIWYGData=e},onTypographApplied(){this.$toast.success(this.msg("PUBLICATION_TYPOGRAPH_APPLIED"))},setFormLoading(e){this.WYSIWYGLoading=e},handlePageLeave(e){if(!this.isTextareaEmpty)return e.preventDefault(),e.returnValue="",!0},loadPreview(){this.previewLoading=!0;const e={articleId:this.$route.params.id,parentId:null,text:{source:this.markdownSource,editorVersion:2,isMarkdown:!0}};this.asModerator&&(e.asModerator=!0);const t=this.isPost?"threads":"posts";(0,Q.FI)(this.$route.params.id,e,t).then((({data:e})=>{this.previewLoading=!1,this.commentPreview=e})).catch((e=>{this.previewLoading=!0,this.$toast.error(e.message)}))},clearPreview(){this.commentPreview=null},togglePreview(){this.commentPreview?(this.clearPreview(),this.$nextTick((()=>{this.focus()}))):this.loadPreview()},suspendComment(){const e=window.confirm(this.msg("COMMENT_ACTION_SUSPEND_CONFIRM"));e&&this.$emit("delete",this.markdownSource)},async submitForm(){if(this.isTextareaEmpty)return;this.useMarkdownEditor||await this.$refs.editor.awaitPendingOperations(),this.commentPreview=null;const e={text:{source:this.useMarkdownEditor?this.markdownSource:JSON.stringify(this.WYSIWYGData.json),editorVersion:2,isMarkdown:this.useMarkdownEditor}};this.asModerator&&(e.asModerator=!0),this.$emit("submit",e)},scrollToCommentFormAndFocus(e){e.preventDefault();const t=this.$el.querySelector(".editor");this.$refs.editor&&t?(0,K.kI)(t):this.$refs.textarea&&(0,K.kI)(this.$refs.textarea),this.useMarkdownEditor?this.focus():this.$el.querySelector(".ProseMirror").focus()},focus(){this.$refs.textarea&&this.$refs.textarea.focus()},reset(){this.renderEditor=!1,this.markdownSource=null,this.useMarkdownEditor&&(this.$refs.textarea.value=null),this.WYSIWYGData={},this.$nextTick((()=>{this.renderEditor=!0}))}}};var ne=i(83744);const ae=(0,ne.Z)(se,[["render",M]]),oe=ae,re={name:"TMCommentEditForm",components:{TMCommentForm:oe},props:{postId:{type:String,required:!0},comment:{type:Object,required:!0},editAction:{type:Function,required:!0},isPost:{type:Boolean,required:!0}},emits:["close","delete","preview"],data(){return{currentValue:null,isMarkdown:null,originalMessageLoaded:!1,disabled:!1,timer:null,counter:null,interval:null}},created(){const e=this.isPost?Q.SE:Q.fp;e(this.postId,this.comment.id).then((e=>{const{sourceMessage:t,isMarkdown:i}=e;this.currentValue=t,this.isMarkdown=i,this.originalMessageLoaded=!0,this.$nextTick((()=>{(0,K.kI)(this.$refs.form.$el)})),this.startTimer(new Date(this.comment.timeEditAllowedTill))})).catch((e=>{this.$toast.error(e.message)}))},beforeUnmount(){clearInterval(this.interval)},methods:{startTimer(e){this.timer=Math.trunc((e-new Date)/1e3),this.interval=setInterval(this.countDown,1e3)},countDown(){this.counter?this.timer>0?this.timer-=1:(clearInterval(this.interval),this.timer=null,this.counter=!1):this.counter=!0},onSubmit(e){this.disabled=!0,this.editAction({commentId:this.comment.id,commentBody:e}).then((()=>{this.disabled=!1})).catch((e=>{throw this.disabled=!1,e}))}}},le=(0,ne.Z)(re,[["render",b]]),ce=le;function ue(e,t,i,n,a,o){const r=(0,s.up)("TMCommentForm");return(0,s.wg)(),(0,s.j4)(r,{ref:"form",autofocus:i.autofocus,"initial-data":null,"is-markdown":o.useMarkdownInComments,"is-processing":a.disabled,label:o.label,readonly:a.disabled,onClose:t[0]||(t[0]=t=>e.$emit("close")),onPreview:t[1]||(t[1]=t=>e.$emit("preview",t)),onSubmit:o.onSubmit},{"close-button":(0,s.w5)((()=>[(0,s.WI)(e.$slots,"close-button")])),_:3},8,["autofocus","is-markdown","is-processing","label","readonly","onSubmit"])}const de={name:"TMCommentReplyForm",components:{TMCommentForm:oe},props:{autofocus:Boolean,isPost:{type:Boolean,required:!0},submitAction:{type:Function,required:!0},targetComment:{type:Object,default:null}},emits:["close","preview"],data(){return{currentValue:null,disabled:!1}},computed:{useMarkdownInComments(){return(0,x.q)().user.settings.miscSettings.useMarkdownInComments},label(){if(!this.targetComment)return this.msg("COMMENT_BASE_FORM_TITLE");const e=this.targetComment.author.alias||this.targetComment.author.login,t=`&nbsp;<span class="tm-username">${e}</span>`;return`${this.msg("COMMENT_ACTION_REPLY")}${t}`},parentId(){return this.targetComment?this.targetComment.id:null}},methods:{onSubmit(e){this.disabled=!0,this.submitAction({...e,parentId:this.parentId,isPost:this.isPost}).then((()=>{this.$refs.form&&this.$refs.form.reset(),this.disabled=!1,this.$emit("close")})).catch((e=>{throw this.disabled=!1,e}))}}},me=(0,ne.Z)(de,[["render",ue]]),pe=me;var _e=i(43673),he=i(42688),ge=i(88098);const ve={class:"tm-pinned-comments","data-pinned-comments":""},Te={class:"tm-pinned-comments__header"},Ee={class:"tm-pinned-comments__header-title"},Se={class:"tm-pinned-comments__wrapper"};function fe(e,t,i,a,o,r){const l=(0,s.up)("TMSvgImg"),c=(0,s.up)("TMCommentThread");return(0,s.wg)(),(0,s.iD)("section",ve,[(0,s._)("div",Te,[(0,s.Wm)(l,{id:"pinned",class:"tm-pinned-comments__icon",size:"24"}),(0,s._)("span",Ee,(0,n.zw)(e.msg("COMMENTS_PINNED")),1)]),(0,s._)("div",Se,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pinnedComments,(n=>((0,s.wg)(),(0,s.j4)(c,{key:n.id,"can-pin-unpin-comment":i.canPinUnpinComment,comment:n,"complaint-action":i.complaintAction,"favorite-action":i.favoriteAction,"get-comment-link":i.getCommentLink,"is-pinned-section":!0,"show-moderation-controls":i.showModerationControls,"vote-action":i.voteAction,onExpandLimiter:t[0]||(t[0]=t=>e.$emit("expandLimiter",t)),onModerate:t[1]||(t[1]=t=>e.$emit("moderate",t)),onOpenCommentHint:t[2]||(t[2]=t=>e.$emit("openCommentHint",t)),onPinUnpinComment:t[3]||(t[3]=t=>e.$emit("pinUnpinComment",t)),onShowComplaintForm:t[4]||(t[4]=t=>e.$emit("showComplaintForm",t)),onShowEditForm:t[5]||(t[5]=t=>e.$emit("showEditForm",t))},{footer:(0,s.w5)((({comment:t})=>[(0,s.WI)(e.$slots,"footer",{comment:t})])),default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"footer",{comment:n})])),_:2},1032,["can-pin-unpin-comment","comment","complaint-action","favorite-action","get-comment-link","show-moderation-controls","vote-action"])))),128))])])}var Ae=i(77820),be=i(39639);const Ie={name:"TMPinnedComments",components:{TMCommentThread:Ae["default"],TMSvgImg:be.Z},props:{pinnedComments:{type:Array,required:!0},voteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},favoriteAction:{type:Function,default:null},showModerationControls:Boolean,canPinUnpinComment:{type:Boolean,default:!1}},emits:["expandLimiter","moderate","pinUnpinComment","showComplaintForm","showEditForm","openCommentHint"]},ye=(0,ne.Z)(Ie,[["render",fe]]),we=ye;var Pe=i(31596),Ce=i(61897),ke=i(6605),Le=i(86509),Ne=i(43004),Oe=i(55500),Re=i(52767),Me=i(19913);const Ue=(0,s.RC)({loader:()=>Promise.resolve().then(i.bind(i,77820)),hydrate:(0,s.Eq)()}),De={name:"TMComments",components:{RestrictionHint:ke.Z,TMCommentsWrapper:_e.Z,TMCommentReplyForm:pe,TMCommentEditForm:ce,TMPlaceholder:Pe.Z,TMSvgImg:be.Z,TMNotice:ge.Z,TMComplaintForm:he.Z,TMCommentThread:Ue,TMPopup:Ce.Z,TMPinnedComments:we},props:{comments:{type:Array,default:()=>null},commentComponent:{type:Object,default:null},commentsCount:{type:[Number,String],default:null},pinnedComments:{type:Array,default:null},isLoading:{type:Boolean,default:!1},isPost:{type:Boolean,required:!0},notice:{type:Object,default:null},commentSubmitAction:{type:Function,required:!0},voteAction:{type:Function,default:null},favoriteAction:{type:Function,default:null},complaintAction:{type:Function,default:null},getCommentLink:{type:Function,default:null},footerVisible:{type:Boolean,default:!0},showModerationControls:Boolean,canPinUnpinComment:{type:Boolean,default:!1}},emits:["commentDelete","expandLimiter","pinUnpinComment"],setup(){const e=(0,x.q)(),{isLoggedIn:t}=(0,A.Jk)(e);return{...(0,Le.s)(),isLoggedIn:t}},data(){return{formTarget:null,firstUnreadId:null,complaintCommentId:null,isCommentHintVisible:!1,commentHintProps:null}},computed:{showNoticeInCommentsThread(){return this.isLoggedIn&&this.unableToComment},postId(){return this.$route.params.id},unableToComment(){return!(!this.isCanComment||"boolean"!==typeof this.isCanComment)&&!this.isCanComment},loginUrl(){const e="/kek/v1/auth/habrahabr/";return`${e}?back=${this.$route.path}&hl=${this.langOptions.hl}`}},methods:{editAction({commentId:e,commentBody:t}){const i=this.$route.params.id,s={...t,timestamp:(new Date).getTime()},n=this.isPost?Q.QF:Q.DF;return n(i,e,s).then((({data:{comment:e}})=>{(0,Ne.e)().updateComment(i,e),this.closeForm()})).catch((e=>{throw this.$toast.error(e.message),e}))},commentComplaintAction(e,t){return this.complaintAction({value:e,parentId:t}).then((()=>{this.complaintCommentId=null}))},moderateReadAndComment({comment:e,isApprove:t}){return(0,Oe.X)().moderateComment({isApprove:t,commentId:e.id,postId:this.$route.params.id,isPost:this.isPost}).catch((e=>{const t=(0,Re.zg)(e),i="COMMENT_APPROVAL_ALREADY_IN_PROCESS"===t?this.msg("COMMENTS_MODERATION_FORBIDDEN"):this.msg("COMMENT_APPROVAL_ALREADY_IN_PROCESS");this.$toast.error(i)}))},showReplyForm(e,t){if(this.isLoggedIn)(0,Oe.X)().resetIdempotenceKey(),this.formTarget={commentId:e.id,type:"reply",isPinnedSection:!1};else{const e={target:t.target,offset:[-34,8],messageKey:"COMMENT_GUEST_REPLAY_HINT",eventLabel:"hint_reg_reply_go"};this.toggleCommentHint({props:e,clickEvent:"hint_reg_reply_open"})}},showEditForm({comment:e,isPinnedSection:t}){this.formTarget={commentId:e.id,type:"edit",isPinnedSection:t}},showComplaintForm(e){this.complaintCommentId=e.id},closeForm(){this.formTarget=null},onDeleteComment(e){this.$emit("commentDelete",e),this.closeForm()},logRegistrationClick(){(0,Me.IZ)("reg_comment_go")},toggleCommentHint({props:e,clickEvent:t}){var i;if(null!==(i=this.commentHintProps)&&void 0!==i&&i.target&&e.target!==this.commentHintProps.target)return this.isCommentHintVisible=!1,void this.$nextTick((()=>{this.commentHintProps=e,this.isCommentHintVisible=!0,t&&(0,Me.IZ)(t)}));this.isCommentHintVisible?this.isCommentHintVisible=!1:(this.commentHintProps=e,this.isCommentHintVisible=!0,t&&(0,Me.IZ)(t))}}},Be=(0,ne.Z)(De,[["render",f]]),He=Be},92364:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252),n=i(30379);const a={class:"companies-admin-list"},o=["innerHTML"],r={__name:"companies-admin-list",props:{companies:{type:Array,required:!0}},setup(e){const t=e=>`/company/${e.alias}/admin/`;return(i,r)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("ul",a,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.companies,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.alias,class:"companies-admin-list__item"},[(0,s.Wm)(l,{class:"companies-admin-list__link",to:t(e)},{default:(0,s.w5)((()=>[(0,s.Wm)(n.Z,{alias:e.alias,class:"company-admin-dropdown__image",image:e.imageUrl,type:"company"},null,8,["alias","image"]),(0,s._)("span",{innerHTML:e.titleHtml},null,8,o)])),_:2},1032,["to"])])))),128))])}}},l=r,c=l},83485:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var s=i(66252),n=i(56612);const a={class:"tm-article-visibility-settings"},o={class:"tm-article-visibility-settings__title"};function r(e,t,i,r,l,c){const u=(0,s.up)("TMFormBuilder"),d=(0,s.up)("TMPopupBase"),m=(0,s.up)("TMScrollLockTransition");return(0,s.wg)(),(0,s.j4)(m,{name:"transition-fade"},{default:(0,s.w5)((()=>[l.isPopupVisible?((0,s.wg)(),(0,s.j4)(d,{key:0,centered:"",onClose:t[0]||(t[0]=e=>l.isPopupVisible=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",a,[(0,s._)("div",o,(0,n.zw)(e.msg("COMPANY_ADMIN_ARTICLE_VISIBILITY_POPUP_TITLE")),1),(0,s.Wm)(u,{class:"tm-article-visibility-settings__form",fields:c.formFields,"initial-data":l.formData,lang:e.langOptions.hl,"submit-label":e.msg("NAV_APPLY"),onSubmit:c.onSubmit},null,8,["fields","initial-data","lang","submit-label","onSubmit"])])])),_:1})):(0,s.kq)("",!0)])),_:1})}var l=i(51165),c=i(93827),u=i(39806);const d={name:"TMArticleVisibilitySettingsForm",components:{TMFormBuilder:l.Z,TMPopupBase:c["default"],TMScrollLockTransition:u.Z},data(){return{article:null,formData:{articleStatus:null,plannedDateTime:null},rejectPromise:null,resolvePromise:null,isPopupVisible:!1}},computed:{statusOptions(){const e=[{name:this.msg("FORMS_SHOW_ARTICLE_FIELD_LABEL"),value:"published"},{name:this.msg("FORMS_HIDE_ARTICLE_FIELD_LABEL"),value:"draft"},{name:this.msg("FORMS_PLAN_ARTICLE_FIELD_LABEL"),value:"planned"}];return e},formFields(){return[{className:"tm-article-status-radio",label:null,name:"articleStatus",type:"BaseRadio",validation:{required:!0},options:this.statusOptions},{className:"tm-article-status-datetime",label:"",name:"plannedDateTime",type:"BaseDatetime",withTime:!0,disabledBefore:new Date,defaultValue:this.formData.plannedDateTime,validation:{required:!0},htmlAttrs:{clearable:!1},displayConditions:[{fieldName:"articleStatus",values:["planned"]}]}]}},methods:{show(e){return this.article=null===e||void 0===e?void 0:e.article,this.formData.articleStatus=e.initData.status,this.formData.plannedDateTime=e.initData.plannedDateTime,this.isPopupVisible=!0,new Promise(((e,t)=>{this.resolvePromise=e,this.rejectPromise=t}))},onSubmit(e){this.resolvePromise(e),this.isPopupVisible=!1}}};var m=i(83744);const p=(0,m.Z)(d,[["render",r]]),_=p},55007:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252),n=i(56612);const a=["href"];function o(e,t,i,o,r,l){const c=(0,s.up)("TMBlock");return(0,s.wg)(),(0,s.j4)(c,{title:e.msg("ADMINISTRATION_BLOCK_TITLE")},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,(e=>((0,s.wg)(),(0,s.iD)("a",{key:e.link,class:"tm-administration-block__link",href:e.link,target:"_blank"},(0,n.zw)(e.title),9,a)))),128))])),_:1},8,["title"])}var r=i(70352),l=i(36134);const c={name:"TMCompanyAdministrationBlock",components:{TMBlock:r.Z},props:{companyInfo:{type:Object,required:!0}},setup(){const{langOptions:e}=(0,l.Q)();return{langOptions:e}},computed:{items(){const e=`/company/${this.companyInfo.alias}/admin/`;return[{title:this.msg("ADMINISTRATION_BLOCK_CP"),link:e},{title:this.msg("ADMINISTRATION_BLOCK_CONTENT"),link:`https://company.habr.com/${this.langOptions.hl}/native-special/`},{title:this.msg("ADMINISTRATION_BLOCK_DOCS"),link:"/docs/companies/preparations/"}]}}};var u=i(83744);const d=(0,u.Z)(c,[["render",o]]),m=d},11644:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("TMCompanyBasicInfo"),l=(0,s.up)("TMBlock");return i.companyInfo?((0,s.wg)(),(0,s.j4)(l,{key:0,title:e.msg("PROFILE_BLOCK_TITLE")},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{"company-info":i.companyInfo,variant:"columns-nowrap"},null,8,["company-info"])])),_:1},8,["title"])):(0,s.kq)("",!0)}var a=i(70352),o=i(62715);const r={name:"TMCompanyBasicInfoBlock",components:{TMCompanyBasicInfo:o.Z,TMBlock:a.Z},props:{companyInfo:{type:Object,default:null}}};var l=i(83744);const c=(0,l.Z)(r,[["render",n]]),u=c},62715:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(56612);const a={class:"tm-company-basic-info"},o=["href"],r={key:1};function l(e,t,i,l,c,u){const d=(0,s.up)("TMDescriptionList"),m=(0,s.up)("TMDatetime"),p=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",a,[i.companyInfo.siteUrl?((0,s.wg)(),(0,s.j4)(d,{key:0,title:l.msg("PROFILE_COMPANY_TITLE_WEBSITE"),variant:i.variant},{default:(0,s.w5)((()=>[(0,s._)("a",{class:"tm-company-basic-info__link",href:i.companyInfo.siteUrl,target:"_blank"},(0,n.zw)(u.hostname),9,o)])),_:1},8,["title","variant"])):(0,s.kq)("",!0),i.companyInfo.registrationDate?((0,s.wg)(),(0,s.j4)(d,{key:1,title:l.msg("PROFILE_COMPANY_TITLE_REGISTRATION_DATE"),variant:i.variant},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{date:new Date(i.companyInfo.registrationDate)},null,8,["date"])])),_:1},8,["title","variant"])):(0,s.kq)("",!0),i.companyInfo.foundationDate?((0,s.wg)(),(0,s.j4)(d,{key:2,title:l.msg("PROFILE_COMPANY_TITLE_FOUNDATION_DATE"),variant:i.variant},{default:(0,s.w5)((()=>[u.foundationHasFullDate?((0,s.wg)(),(0,s.j4)(m,{key:0,date:u.foundationDate},null,8,["date"])):((0,s.wg)(),(0,s.iD)("span",r,(0,n.zw)(u.foundationDate),1))])),_:1},8,["title","variant"])):(0,s.kq)("",!0),i.companyInfo.staffNumber?((0,s.wg)(),(0,s.j4)(d,{key:3,title:l.msg("PROFILE_COMPANY_TITLE_EMPLOYEES_COUNT"),variant:i.variant},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(i.companyInfo.staffNumber),1)])),_:1},8,["title","variant"])):(0,s.kq)("",!0),i.companyInfo.location&&i.companyInfo.location.country?((0,s.wg)(),(0,s.j4)(d,{key:4,title:l.msg("PROFILE_COMPANY_TITLE_LOCATION"),variant:i.variant},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(i.companyInfo.location.country.title),1)])),_:1},8,["title","variant"])):(0,s.kq)("",!0),i.companyInfo.representativeUser?((0,s.wg)(),(0,s.j4)(d,{key:5,title:l.msg("PROFILE_COMPANY_TITLE_REPRESENTIVE_USER"),variant:i.variant},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"tm-company-basic-info__link",to:u.representativeUserRoute},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(u.representativeUserTitle),1)])),_:1},8,["to"])])),_:1},8,["title","variant"])):(0,s.kq)("",!0)])}var c=i(20666),u=i(44420),d=i(36134);const m={name:"TMCompanyBasicInfo",components:{TMDescriptionList:u.Z,TMDatetime:c.Z},props:{companyInfo:{type:Object,default:null},variant:{type:String,default:"base"}},setup(){const{msg:e}=(0,d.Q)();return{msg:e}},computed:{hostname(){const e=this.companyInfo.siteUrl,t=new URL(e),i=t.protocol.length+2,s=e.indexOf("/",i);return e.substring(i,-1===s?void 0:s)},foundationHasFullDate(){const{day:e,month:t,year:i}=this.companyInfo.foundationDate;return e&&t&&i},foundationDate(){const{day:e,month:t,year:i}=this.companyInfo.foundationDate;if(this.foundationHasFullDate){const s=parseInt(t,10)-1;return new Date(i,s,e)}return i},representativeUserTitle(){const{companyInfo:{representativeUser:e}}=this;return e.fullname||e.alias},representativeUserRoute(){return{name:"USER_PROFILE",params:{login:this.companyInfo.representativeUser.alias}}}}};var p=i(83744);const _=(0,p.Z)(m,[["render",l]]),h=_},3406:(e,t,i)=>{"use strict";i.d(t,{Z:()=>T});var s=i(66252),n=i(56612),a=i(58061);const o={key:0,class:"tm-company-card__top-image-placeholder"},r={key:0,class:"tm-company-card__top-image-error"},l=["href"],c=["src"],u=["src"];function d(e,t,i,d,m,p){return p.showCompanyBranding?((0,s.wg)(),(0,s.iD)("div",{key:0,ref:"container",class:(0,n.C_)(["tm-company-card__top-image",{"tm-company-card__top-image_loading":m.isImageLoading}]),"data-test-id":"company-card-top-image"},[m.isImageLoading?((0,s.wg)(),(0,s.iD)("div",o,[m.error?((0,s.wg)(),(0,s.iD)("div",r,(0,n.zw)(e.msg("ERROR_MISSING_BRANDING_IMAGE")),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),i.companyInfo.settings.branding.linkUrl?((0,s.wg)(),(0,s.iD)("a",{key:1,href:i.companyInfo.settings.branding.linkUrl,onClick:t[2]||(t[2]=(0,a.iM)(((...e)=>p.logBrandingClick&&p.logBrandingClick(...e)),["left"])),onMouseup:t[3]||(t[3]=(0,a.iM)(((...e)=>p.logBrandingClick&&p.logBrandingClick(...e)),["middle"]))},[(0,s._)("img",{ref:"brandingImage",class:"tm-company-card__top-image-image",src:i.companyInfo.settings.branding.imageUrl,onError:t[0]||(t[0]=e=>m.error=!0),onLoad:t[1]||(t[1]=e=>m.isImageLoading=!1)},null,40,c)],40,l)):((0,s.wg)(),(0,s.iD)("img",{key:2,ref:"brandingImage",class:"tm-company-card__top-image-image",src:i.companyInfo.settings.branding.imageUrl,onError:t[4]||(t[4]=e=>m.error=!0),onLoad:t[5]||(t[5]=e=>m.isImageLoading=!1)},null,40,u))],2)):(0,s.kq)("",!0)}var m=i(10390),p=i(71197),_=i(70806);const h={name:"TMCompanyBranding",props:{companyInfo:{type:Object,required:!0}},setup(e){const t=(0,s.Fl)((()=>{var t;return(null===(t=e.companyInfo.settings)||void 0===t?void 0:t.branding)&&{blockUuid:e.companyInfo.settings.branding.uuid,company:e.companyInfo.alias}})),i=(0,m.s)(t);return{container:i}},data(){return{isImageLoading:!0,error:!1}},computed:{showCompanyBranding(){var e,t;return null===(e=this.companyInfo.settings)||void 0===e||null===(t=e.branding)||void 0===t?void 0:t.imageUrl}},mounted(){var e,t,i;null!==(e=this.companyInfo.settings)&&void 0!==e&&null!==(t=e.branding)&&void 0!==t&&t.pixelUrl&&this.initTrackingPixel(),null!==(i=this.$refs.brandingImage)&&void 0!==i&&i.complete&&(this.isImageLoading=!1)},methods:{initTrackingPixel(){const{pixelUrl:e}=this.companyInfo.settings.branding,t=new Image;t.src=e},logBrandingClick(){(0,_.o)({uuid:(0,p.q)().uuid,blockUuid:this.companyInfo.settings.branding.uuid,company:this.companyInfo.alias})}}};var g=i(83744);const v=(0,g.Z)(h,[["render",d]]),T=v},61591:(e,t,i)=>{"use strict";i.d(t,{Z:()=>O});var s=i(66252);const n={class:"tm-company-card"},a={class:"tm-company-card__header"},o={class:"tm-company-card__info"},r=["innerHTML"],l=["innerHTML"];function c(e,t,i,c,u,d){const m=(0,s.up)("TMEntityImage"),p=(0,s.up)("router-link"),_=(0,s.up)("TMGrade"),h=(0,s.up)("TMRating"),g=(0,s.up)("TMCompanySubscribers");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",a,[(0,s.Wm)(p,{class:"tm-company-card__avatar",to:d.profileRoute},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{alias:i.company.alias,image:i.company.imageUrl,size:48,type:"company"},null,8,["alias","image"])])),_:1},8,["to"]),i.company.statistics?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[null!=i.company.statistics.careerRating?((0,s.wg)(),(0,s.j4)(_,{key:0,alias:i.company.careerAlias,class:"tm-company-card__rating",grade:i.company.statistics.careerRating},null,8,["alias","grade"])):(0,s.kq)("",!0),null!=i.company.statistics.rating?((0,s.wg)(),(0,s.j4)(h,{key:1,class:"tm-company-card__rating",label:c.msg("GLOBAL_RATING"),score:i.company.statistics.rating},null,8,["label","score"])):(0,s.kq)("",!0),i.showSubscribers&&null!==i.company.statistics.subscribersCount?((0,s.wg)(),(0,s.j4)(g,{key:2,"subscribers-count":i.company.statistics.subscribersCount},null,8,["subscribers-count"])):(0,s.kq)("",!0)],64)):(0,s.kq)("",!0)]),(0,s._)("div",o,[(0,s.Wm)(p,{class:"tm-company-card__name",to:d.profileRoute},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:d.companyTitle},null,8,r)])),_:1},8,["to"]),i.hasDescription&&i.company.descriptionHtml?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tm-company-card__description",innerHTML:i.company.descriptionHtml},null,8,l)):(0,s.kq)("",!0)])])}var u=i(56612);const d={class:"tm-company-subscribers__count"},m={class:"tm-company-subscribers__label"};function p(e,t,i,n,a,o){const r=(0,s.up)("TMCounterContainer");return(0,s.wg)(),(0,s.j4)(r,null,{header:(0,s.w5)((()=>[(0,s._)("div",d,(0,u.zw)(o.formattedCount),1)])),footer:(0,s.w5)((()=>[(0,s._)("span",m,(0,u.zw)(e.msg("SUBSCRIBERS")),1)])),_:1})}var _=i(2130);const h={name:"TMCompanySubscribers",components:{TMCounterContainer:_.Z},props:{subscribersCount:{type:Number,required:!0}},computed:{formattedCount(){const e=new Intl.NumberFormat(this.langOptions.hl),t=t=>e.format(t);return t(this.subscribersCount)}}};var g=i(83744);const v=(0,g.Z)(h,[["render",p]]),T=v;var E=i(30379);const S=["href"];function f(e,t,i,n,a,o){const r=(0,s.up)("TMSvgImg"),l=(0,s.up)("TMRating");return(0,s.wg)(),(0,s.iD)("a",{class:"tm-grade",href:`${e.$options.CAREER_HOST}/companies/${i.alias}`,rel:"noopener",target:"_blank"},[(0,s.Wm)(l,{label:e.msg("POINTS_LABEL_GRADE_SHORT"),score:i.grade,variant:"grade"},{icon:(0,s.w5)((()=>[(0,s.Wm)(r,{id:"grade",class:"tm-svg-grade__icon",size:"18",title:e.msg("POINTS_LABEL_GRADE")},null,8,["title"])])),_:1},8,["label","score"])],8,S)}var A=i(28855),b=i(39639),I=i(35275);const y={name:"TMGrade",components:{TMSvgImg:b.Z,TMRating:A.Z},props:{grade:{type:Number,required:!0},alias:{type:String,required:!0}},CAREER_HOST:I.Yu},w=(0,g.Z)(y,[["render",f]]),P=w;var C=i(36134),k=i(24440);const L={name:"TMCompanyCard",components:{TMCompanySubscribers:T,TMEntityImage:E.Z,TMRating:A.Z,TMGrade:P},props:{company:{type:Object,default:null},hasDescription:{type:Boolean,default:!0},showSubscribers:{type:Boolean,default:!1}},setup(){const{msg:e}=(0,C.Q)();return{msg:e}},computed:{profileRoute(){return{name:"COMPANY_PROFILE",params:{name:this.company.alias}}},companyTitle(){return this.company.titleHtml&&(0,k._)(this.company.titleHtml)}}},N=(0,g.Z)(L,[["render",c]]),O=N},10159:(e,t,i)=>{"use strict";i.d(t,{Z:()=>$});var s=i(66252);const n={key:0,class:"tm-company-profile-card"},a={class:"tm-company-profile-card__buttons"},o={key:2,class:"tm-company-profile-card__button tm-company-profile-card__button_admin"};function r(e,t,i,r,l,c){const u=(0,s.up)("TMCompanyCard"),d=(0,s.up)("TMButtonFollow"),m=(0,s.up)("RestrictionHint"),p=(0,s.up)("TMCompanyEmployeeRequest"),_=(0,s.up)("TMAdministrationLinks");return i.company?((0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(u,{class:"tm-company-profile-card__info",company:i.company},null,8,["company"]),(0,s._)("div",a,[(0,s.Wm)(d,{"can-subscribe":r.isLoggedIn,class:"tm-company-profile-card__button tm-company-profile-card__button_follow",subscribed:c.isSubscribed,onOnToggle:t[0]||(t[0]=e=>c.toggleFollowCompany(e))},null,8,["can-subscribe","subscribed"]),l.isHintVisible?((0,s.wg)(),(0,s.j4)(m,(0,s.dG)({key:0},l.hintProps,{onClose:t[1]||(t[1]=e=>l.isHintVisible=!1)}),null,16)):(0,s.kq)("",!0),r.companiesStore.workplaceInfo&&r.isLoggedIn?((0,s.wg)(),(0,s.j4)(p,{key:1,class:"tm-company-profile-card__button tm-company-profile-card__button_request",company:i.company,"current-user":r.userAlias,"workplace-info":r.companiesStore.workplaceInfo},null,8,["company","current-user","workplace-info"])):(0,s.kq)("",!0),r.isSuperAdmin?((0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(_,{links:c.companyLinksItems},null,8,["links"])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}var l=i(67476),c=i(80165),u=i(61591),d=i(56612);const m={class:"company-employee-request"},p={key:0,class:"company-employee-request__button-cancel"};function _(e,t,i,n,a,o){const r=(0,s.up)("TMEmployeeRequestPopup"),l=(0,s.up)("TMAsyncConfirmationDialog");return(0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("button",{class:"company-employee-request__button",type:"button",onClick:t[0]||(t[0]=(...e)=>o.toggleButtonAction&&o.toggleButtonAction(...e))},[(0,s._)("span",{class:(0,d.C_)(["company-employee-request__button-inner",{"company-employee-request__button-inner_active":o.isButtonActive}])},(0,d.zw)(o.requestButtonText),3),o.isButtonActive?((0,s.wg)(),(0,s.iD)("span",p," × ")):(0,s.kq)("",!0)]),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[a.isPopupVisible?((0,s.wg)(),(0,s.j4)(r,{key:0,company:i.company,"user-alias":i.currentUser,onClosePopup:t[1]||(t[1]=e=>a.isPopupVisible=!1),onSetRequestData:t[2]||(t[2]=e=>n.companiesStore.updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:e}))},null,8,["company","user-alias"])):(0,s.kq)("",!0),(0,s.Wm)(l,{ref:"confirmDialog"},null,512)]))])}var h=i(21381);const g={class:"employee-request-popup__content"},v={class:"employee-request-popup__company-info"},T={class:"employee-request-popup__company-name"};function E(e,t,i,n,a,o){const r=(0,s.up)("TMEntityImage"),l=(0,s.up)("TMFormBuilder"),c=(0,s.up)("TMPopup");return(0,s.wg)(),(0,s.j4)(c,{class:"employee-request-popup",title:e.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_POPUP_TITLE"),onClose:t[0]||(t[0]=t=>e.$emit("closePopup"))},{default:(0,s.w5)((()=>[(0,s._)("div",g,[(0,s._)("div",v,[(0,s.Wm)(r,{alias:i.company.alias,class:"employee-request-popup__company-logo",image:i.company.imageUrl,size:36,type:"company"},null,8,["alias","image"]),(0,s._)("span",T,(0,d.zw)(i.company.titleHtml),1)]),(0,s.Wm)(l,{class:"employee-request-popup__form",disabled:a.isLoading,fields:o.formFields,"initial-data":a.initialData,lang:e.langOptions.hl,"server-errors":a.serverErrors,"submit-label":e.msg("SUBMIT_FORM_ACTION"),onSubmit:o.proceedForm},null,8,["disabled","fields","initial-data","lang","server-errors","submit-label","onSubmit"])])])),_:1},8,["title"])}var S=i(30379),f=i(51165),A=i(61897),b=i(66478),I=i(87032);const y={name:"TMEmployeeRequestPopup",components:{TMPopup:A.Z,TMEntityImage:S.Z,TMFormBuilder:f.Z},props:{company:{type:Object,default:null},userAlias:{type:String,required:!0}},emits:["closePopup","setRequestData"],data(){return{isLoading:!1,initialData:{messageText:""},serverErrors:{}}},computed:{formFields(){return[{className:"tm-textarea",label:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_LABEL_TEXT"),description:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_DESCRIPTION_TEXT"),name:"messageText",type:"BaseTextarea",disableCounter:!0,validation:{required:!0,maxLength:300},htmlAttrs:{placeholder:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_FORM_PLACEHOLDER_TEXT")}}]}},methods:{proceedForm(e){return this.isLoading=!0,this.serverErrors={},(0,b.w9)(this.userAlias,{company:this.company.alias,note:e.messageText}).then((e=>{this.isLoading=!1,this.initialData={messageText:""},e&&this.$emit("setRequestData",e),this.$emit("closePopup"),this.$toast.success(this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_SUBMIT_SUCCESS_MESSAGE"))})).catch((e=>{this.isLoading=!1;const t=(0,I.getErrorCode)(e);"FORM_ERRORS"!==t?this.$toast.error(e.message):this.serverErrors=e.data}))}}};var w=i(83744);const P=(0,w.Z)(y,[["render",E]]),C=P;var k=i(10107),L=i(96447);const N={name:"TMEmployeeRequest",components:{TMEmployeeRequestPopup:C,TMAsyncConfirmationDialog:h.Z},props:{company:{type:Object,default:null},currentUser:{type:String,required:!0},workplaceInfo:{type:Object,required:!0}},setup(){const e=(0,k.l)();return{companiesStore:e}},data(){return{isPopupVisible:!1}},computed:{isButtonActive(){return this.workplaceInfo.employeeRequest||this.workplaceInfo.isUserEmployee},requestButtonText(){return this.workplaceInfo.employeeRequest?this.msg("COMPANY_ADMIN_REQUEST_STATUS_WAITING"):this.msg("COMPANY_ADMIN_REQUEST_BUTTON_TEXT")}},methods:{toggleButtonAction(){this.workplaceInfo.employeeRequest?this.cancelRequest():this.workplaceInfo.isUserEmployee?this.deleteEmployee():this.isPopupVisible=!0},cancelRequest(){this.$refs.confirmDialog.show({title:this.msg("COMPANY_ADMIN_CANCEL_REQUEST_CONFIRM_TITLE"),message:this.msg("COMPANY_ADMIN_CANCEL_REQUEST_CONFIRM_MESSAGE",{companyName:this.company.titleHtml}),confirmLabel:this.msg("COMPANY_ADMIN_APPROVE_REQUEST_BUTTON_TEXT"),cancelLabel:this.msg("CONFIRM_CANCEL_BUTTON_LABEL")}).then((e=>{e&&(0,b.fK)(this.currentUser,this.workplaceInfo.employeeRequest.id).then((()=>{(0,k.l)().updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:null}),this.$toast.success(this.msg("COMPANY_ADMIN_CANCEL_REQUEST_SUCCESS_MESSAGE"))})).catch((e=>this.$toast.error(e.message)))}))},deleteEmployee(){this.$refs.confirmDialog.show({title:this.msg("COMPANY_ADMIN_REMOVE_EMPLOYEE_CONFIRM_TITLE"),message:this.msg("COMPANY_ADMIN_EMPLOYEE_REQUEST_DECLINE_MESSAGE",{companyName:this.company.titleHtml})}).then((e=>{e&&(0,L.hS)(this.company.alias,this.currentUser).then((()=>{(0,k.l)().updateWorkplaceInfo({isUserEmployee:!1,employeeRequest:null}),this.$toast.success(this.msg("COMPANY_ADMIN_REMOVE_COMPANY_EMPLOYEE_SUCCESS_MESSAGE"))})).catch((e=>this.$toast.error(e.message)))}))}}},O=(0,w.Z)(N,[["render",_]]),R=O;var M=i(59545),U=i(6605),D=i(71197),B=i(19913);const H=(0,M.Rd)((()=>i.e(2328).then(i.bind(i,97259))),M.MN),F={name:"TMCompanyProfileCard",components:{RestrictionHint:U.Z,TMCompanyCard:u.Z,TMButtonFollow:c.Z,TMAdministrationLinks:H,TMCompanyEmployeeRequest:R},props:{company:{type:Object,default:null}},setup(){const e=(0,k.l)(),t=(0,D.q)(),{isLoggedIn:i,isSuperAdmin:s,userAlias:n}=(0,l.Jk)(t);return{companiesStore:e,isLoggedIn:i,isSuperAdmin:s,userAlias:n}},data(){return{isHintVisible:!1,hintProps:null}},computed:{isSubscribed(){return this.company.relatedData&&this.company.relatedData.isSubscribed},companyLinksItems(){const{alias:e}=this.company,t={en:{EDIT_PROFILE:"Edit profile via CP"},ru:{EDIT_PROFILE:"Редактировать профиль в CP"}},i=`https://habr.com/kek/admin/company/${e}/`;return[{title:t[this.langOptions.hl].EDIT_PROFILE,link:i}]}},methods:{toggleFollowCompany(e){this.isLoggedIn?(0,k.l)().toggleSubscribeStatus(this.company.alias.toLowerCase()).then((()=>{this.isSubscribed&&(0,B.IZ)("subscribe_company")})):this.toggleFollowHint(e)},toggleFollowHint(e){this.hintProps={target:e.target,messageKey:"SUBSCRIPTION_COMPANY_HINT",eventLabel:"hint_reg_с_follow_go",placement:"bottom-start",offset:[-34,8]},this.isHintVisible=!this.isHintVisible,this.isHintVisible&&(0,B.IZ)("hint_reg_с_follow_open")}}},V=(0,w.Z)(F,[["render",r]]),$=V},89693:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var s=i(66252),n=i(56612);const a={class:"tm-company-snippet"},o={class:"tm-company-snippet__image-wrapper"},r={key:1,class:"tm-company-snippet__list-rank"},l={key:0,class:"tm-company-snippet__rating-excluded"},c={class:"tm-company-snippet__info"},u=["innerHTML"],d=["innerHTML"];function m(e,t,i,m,p,_){const h=(0,s.up)("TMEntityImage"),g=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",o,[e.company.ratingExcluded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(g,{key:0,class:"tm-company-snippet__logo-link",to:e.companyProfileRoute},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{alias:e.company.alias,image:e.company.imageUrl,size:40,type:"company"},null,8,["alias","image"])])),_:1},8,["to"])),e.isNewFlow?((0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("span",null,(0,n.zw)(e.company.statistics.flowRatingPosition),1)])):(0,s.kq)("",!0)]),e.company.ratingExcluded?((0,s.wg)(),(0,s.iD)("div",l,(0,n.zw)(e.msg("COMPANY_RATING_EXCLUDED")),1)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,n.C_)(["tm-company-snippet__info-wrapper",{"tm-company-snippet__info-wrapper--new-flow":e.isNewFlow}])},[(0,s._)("div",c,[(0,s.Wm)(g,{class:(0,n.C_)(["tm-company-snippet__title",{"tm-company-snippet__title_subscribed":e.isSubscribed}]),"data-test-id":"company-title",to:e.companyProfileRoute},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:e.company.titleHtml},null,8,u)])),_:1},8,["class","to"]),(0,s._)("div",{class:"tm-company-snippet__description",innerHTML:e.company.descriptionHtml||e.msg("COMPANY")},null,8,d)]),(0,s.WI)(e.$slots,"additional-info")],2))])}var p=i(30379);const _={name:"TMCompanySnippet",components:{TMEntityImage:p.Z},props:{company:{type:Object,default:null},isNewFlow:{type:Boolean,default:!1}},computed:{companyProfileRoute(){return{name:"COMPANY_PROFILE",params:{name:this.company.alias,hl:this.$route.params.hl}}},isSubscribed(){return this.company.relatedData&&this.company.relatedData.isSubscribed}}};var h=i(83744);const g=(0,h.Z)(_,[["render",m]]),v=g},20746:(e,t,i)=>{"use strict";i.d(t,{Z:()=>C});var s=i(66252);const n={class:"tm-company-widgets"};function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("div",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.widgets,((t,n)=>((0,s.wg)(),(0,s.j4)((0,s.LL)(e.$options.presenters[t.type]),{key:n,"company-alias":i.companyAlias,type:t.type,"widget-data":t.data,"widget-uuid":t.uuid,onClick:r.logBrandingClick},null,8,["company-alias","type","widget-data","widget-uuid","onClick"])))),128))])}var o=i(78041),r=i(92003),l=i(56612);function c(e,t,i,n,a,o){const r=(0,s.up)("TMWidgetBannerContent"),c=(0,s.up)("TMSwiperSlide"),u=(0,s.up)("TMSwiper"),d=(0,s.up)("TMBlock");return(0,s.wg)(),(0,s.j4)(d,{class:(0,l.C_)(["tm-widget-banners-slider",{"tm-widget-banners-slider_shadowed":o.renderShadow}]),"header-variant":"borderless",title:e.msg("WIDGET_BANNER")},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"auto-height":"",autoplay:e.$options.autoplayParams,pagination:"","slides-per-view":1},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.widgetData,((n,a)=>((0,s.wg)(),(0,s.j4)(c,{key:a},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{"company-alias":i.companyAlias,"widget-data":n.data,"widget-uuid":n.uuid,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},null,8,["company-alias","widget-data","widget-uuid"])])),_:2},1024)))),128))])),_:1},8,["autoplay"])])),_:1},8,["class","title"])}var u=i(70352),d=i(38947),m=i(7550),p=i(34836);const _=1e4,h={name:"TMWidgetBannersSlider",components:{TMBlock:u.Z,TMWidgetBannerContent:p.Z,TMSwiper:d.Z,TMSwiperSlide:m.Z},props:{widgetData:{type:Array,required:!0},companyAlias:{type:String,required:!0}},autoplayParams:{delay:_,disableOnInteraction:!1},emits:["click"],computed:{renderShadow(){return this.widgetData.length>12}}};var g=i(83744);const v=(0,g.Z)(h,[["render",c]]),T=v;var E=i(17658),S=i(56017),f=i(39285),A=i(10107),b=i(84183),I=i(71197),y=i(70806);const w={name:"TMCompanyWidgets",props:{companyAlias:{type:String,required:!0},widgetsAsSlider:{type:Boolean,default:!1}},presenters:{vk:f.Z,news:S.Z,links:E.Z,banner:r.Z,applications:o.Z,bannersSlider:T},computed:{needShowSlider(){return this.widgetsAsSlider&&this.bannersWidgets.length>1},rawWidgets(){const e=(0,A.l)().companiesWidgets[this.companyAlias];return e?e.filter((e=>!!e.data&&(("news"!==e.type||0!==e.data.news.length)&&!("links"===e.type&&0===e.data.links.length)))):[]},bannersWidgets(){return this.rawWidgets.filter((e=>"banner"===e.type))},regularWidgets(){return this.rawWidgets.filter((e=>"banner"!==e.type))},widgets(){return this.needShowSlider?[{type:"bannersSlider",data:this.bannersWidgets},...this.regularWidgets]:this.rawWidgets}},mounted(){(0,b.s)().isDesktop&&(0,A.l)().loadCompanyWidgets(this.companyAlias)},methods:{logBrandingClick({blockUuid:e,linkUuid:t}){(0,y.o)({uuid:(0,I.q)().uuid,company:this.companyAlias,blockUuid:e,linkUuid:t})}}},P=(0,g.Z)(w,[["render",a]]),C=P},42688:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(56612),a=i(58061);const o={class:"tm-complaint-form__field"},r=["disabled"],l={class:"tm-complaint-form__hint"},c={class:"tm-complaint-form__controls"};function u(e,t,i,u,d,m){const p=(0,s.up)("TMButtonBase");return(0,s.wg)(),(0,s.iD)("form",{ref:"form",class:(0,n.C_)(["tm-complaint-form",{"tm-complaint-form_processing":d.disabled}]),onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>m.submitForm&&m.submitForm(...e)),["prevent"]))},[(0,s._)("div",o,[(0,s.wy)((0,s._)("input",(0,s.dG)({ref:"input","onUpdate:modelValue":t[0]||(t[0]=e=>d.currentValue=e)},e.$attrs,{class:"tm-complaint-form__input",disabled:d.disabled,onKeyup:[t[1]||(t[1]=(0,a.D2)((0,a.iM)(((...e)=>m.submitForm&&m.submitForm(...e)),["ctrl"]),["enter"])),t[2]||(t[2]=(0,a.D2)((0,a.iM)(((...e)=>m.submitForm&&m.submitForm(...e)),["meta"]),["enter"]))]}),null,16,r),[[a.YZ,d.currentValue]]),(0,s._)("div",l,(0,n.zw)(e.msg("COMMENT_COMPLAINT_HINT")),1)]),(0,s._)("div",c,[(0,s.Wm)(p,{disabled:m.isTextareaEmpty||d.disabled,onClick:m.submitForm},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("COMMENT_ACTION_SEND")),1)])),_:1},8,["disabled","onClick"])])],34)}var d=i(91270);const m={name:"TMComplaintForm",components:{TMButtonBase:d.Z},inheritAttrs:!1,props:{submitAction:{type:Function,required:!0}},data(){return{currentValue:null,disabled:!1}},computed:{isTextareaEmpty(){return!this.currentValue}},mounted(){this.$attrs.autofocus&&this.$refs.input.focus()},methods:{submitForm(){this.disabled=!0,this.submitAction(this.currentValue).then((()=>{this.disabled=!1})).catch((e=>{throw this.disabled=!1,e}))}}};var p=i(83744);const _=(0,p.Z)(m,[["render",u]]),h=_},20014:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var s=i(66252),n=i(25109);const a={class:"tm-context-menu-list__item"},o=Object.assign({inheritAttrs:!1},{__name:"context-menu-list-item",props:{tag:{type:String,default:"button"},variant:{type:String,default:null}},setup(e){const t=e,i=(0,s.Fl)((()=>[...(0,n.P)("tm-context-menu-list__item-inner",{[t.variant]:!0}),{"tm-context-menu-list__button":"button"===t.tag,"tm-context-menu-list__external-link":["a","router-link"].includes(t.tag)}]));return(t,n)=>((0,s.wg)(),(0,s.iD)("li",a,[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.tag),(0,s.dG)(t.$attrs,{class:i.value}),{default:(0,s.w5)((()=>[(0,s.WI)(t.$slots,"default")])),_:3},16,["class"]))]))}}),r=o,l=r},6346:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("ul",{class:(0,n.C_)(["tm-context-menu-list",r.bem("tm-context-menu-list",{variant:i.variant})])},[(0,s.WI)(e.$slots,"default")],2)}var o=i(25109);const r={name:"TMContextMenuList",props:{variant:{type:String,default:null}},methods:{bem:o.P}};var l=i(83744);const c=(0,l.Z)(r,[["render",a]]),u=c},48019:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(58061);function a(e,t,i,a,o,r){const l=(0,s.up)("TMBottomSheet"),c=(0,s.up)("TMScrollLockTransition"),u=(0,s.up)("TMPopover");return!r.isTablet&&r.isMobile?((0,s.wg)(),(0,s.j4)(c,{key:0,appear:"",name:"slide-fade"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{onClose:t[0]||(t[0]=t=>e.$emit("close"))},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),body:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"body")])),_:3})])),_:3})):((0,s.wg)(),(0,s.j4)(n.uT,{key:1,appear:"",name:"transition-fade"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{root:i.target,variant:"dropdown",onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default"),(0,s.WI)(e.$slots,"body")])),_:3},8,["root"])])),_:3}))}var o=i(4803),r=i(81864),l=i(39806),c=i(84183);const u={name:"TMContextMenu",components:{TMPopover:r.Z,TMBottomSheet:o.Z,TMScrollLockTransition:l.Z},props:{target:{type:null,required:!0}},emits:["close"],computed:{isMobile(){return(0,c.s)().isMobile},isTablet(){return(0,c.s)().isTablet}}};var d=i(83744);const m=(0,d.Z)(u,[["render",a]]),p=m},2130:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252);const n={class:"tm-counter-container"},a={class:"tm-counter-container__header"},o={class:"tm-counter-container__footer"};function r(e,t,i,r,l,c){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",a,[(0,s.WI)(e.$slots,"header")]),(0,s._)("div",o,[(0,s.WI)(e.$slots,"footer")])])}const l={name:"TMCounterContainer"};var c=i(83744);const u=(0,c.Z)(l,[["render",r]]),d=u},35315:(e,t,i)=>{"use strict";i.d(t,{Z:()=>re});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){const l=(0,s.up)("TMArticleRating"),c=(0,s.up)("TMVotesMeter"),u=(0,s.up)("TMIconCounter"),d=(0,s.up)("TMBookmarksButton"),m=(0,s.up)("TMSharing"),p=(0,s.up)("TMArticleCommentsCounterLink"),_=(0,s.up)("TMArticleVoteStats"),h=(0,s.up)("TMPopup"),g=(0,s.up)("RestrictionHint");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-data-icons",r.bem("tm-data-icons",{space:i.spaceBetween})]),"data-test-id":"article-stats-icons"},[r.showIcon("rating")?((0,s.wg)(),(0,s.j4)(l,{key:0,article:i.article,class:"tm-data-icons__item",onScoreClick:r.showVotesPopup},null,8,["article","onScoreClick"])):(0,s.kq)("",!0),r.showIcon("votes")?((0,s.wg)(),(0,s.j4)(c,{key:1,appearance:"article",class:"tm-data-icons__item",score:i.article.statistics.score,"vote-state":r.voteState,"votes-count":i.article.statistics.votesCount,"votes-count-minus":i.article.statistics.votesCountMinus,"votes-count-plus":i.article.statistics.votesCountPlus,onClick:r.showVotesPopup},null,8,["score","vote-state","votes-count","votes-count-minus","votes-count-plus","onClick"])):(0,s.kq)("",!0),r.showIcon("views")?((0,s.wg)(),(0,s.j4)(u,{key:2,abbreviated:"",class:"tm-data-icons__item",counter:i.article.statistics.readingCount,"icon-id":"counter-views",title:e.msg("DATA_ICONS_VIEWS")},null,8,["counter","title"])):(0,s.kq)("",!0),r.showIcon("favorite")?((0,s.wg)(),(0,s.j4)(d,{key:3,"bookmarks-count":i.article.statistics.favoritesCount,class:"tm-data-icons__item","is-bookmarked":a.isLoggedIn&&r.isBookmarked,"is-processing":o.isLoadingBookmark,onToggleBookmark:t[0]||(t[0]=e=>r.onBookmarkClick(e))},null,8,["bookmarks-count","is-bookmarked","is-processing"])):(0,s.kq)("",!0),r.showIcon("share")?((0,s.wg)(),(0,s.j4)(m,{key:4,article:i.article,class:"tm-data-icons__item",title:e.msg("DATA_ICONS_SHARE")},null,8,["article","title"])):(0,s.kq)("",!0),r.showIcon("comments")?((0,s.wg)(),(0,s.j4)(p,{key:5,article:i.article,class:"tm-data-icons__item","comments-count":i.article.statistics.commentsCount,"ga-event":i.gaEvent,title:e.msg("DATA_ICONS_READ_COMMENTS"),"unread-count":o.unreadCommentsCount},null,8,["article","comments-count","ga-event","title","unread-count"])):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"articleMenu"),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[o.votesPopupVisible?((0,s.wg)(),(0,s.j4)(h,{key:0,title:e.msg("ARTICLE_REASON_TOTAL",r.votesStats),onClose:t[1]||(t[1]=e=>o.votesPopupVisible=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{"is-post":r.isPost,"reasons-map":o.reasonsMap,voting:r.votesStats},null,8,["is-post","reasons-map","voting"])])),_:1},8,["title"])):(0,s.kq)("",!0)])),o.isHintVisible?((0,s.wg)(),(0,s.j4)(g,(0,s.dG)({key:6},o.hintProps,{onClose:t[2]||(t[2]=e=>o.isHintVisible=!1)}),null,16)):(0,s.kq)("",!0)],2)}var o=i(34948),r=i(67476),l=i(52037),c=i(62931),u=i(23002),d=i(64487),m=i(35313),p=i(61897),_=i(16424),h=i(56735),g=i(22107),v=i(36134),T=i(50780),E=i(58748),S=i(71197),f=i(52767),A=i(19913),b=i(73313);const I={class:"article-rating"},y=["textContent"],w=3e3,P=Object.assign({name:"TMArticleRating"},{__name:"article-rating",props:{article:T.s},emits:["scoreClick"],setup(e){const t=e,i=(0,u.pm)(),a=(0,s.Fl)((()=>(0,b.o)(t.article))),o=(0,s.Fl)((()=>(0,A.Lq)(t.article))),l=(0,c.iH)(null),T=(0,S.q)(),{userAlias:P,isLoggedIn:C}=(0,r.Jk)(T),k=(0,s.Fl)((()=>{var e;const i=null===(e=t.article.author)||void 0===e?void 0:e.alias.toLowerCase();return C.value&&P.value.toLowerCase()===i})),L=(0,s.Fl)((()=>{var e,i;return(null===(e=t.article)||void 0===e||null===(i=e.relatedData)||void 0===i?void 0:i.voteMinus)??{}})),N=(0,s.Fl)((()=>{var e,i;return(null===(e=t.article)||void 0===e||null===(i=e.relatedData)||void 0===i?void 0:i.votePlus)??{}})),O=(0,s.Fl)((()=>L.value.canVote)),R=(0,s.Fl)((()=>N.value.canVote)),M=(0,s.Fl)((()=>{if(L.value.isVotingOver)return!1;if(k.value)return!0;const e=!L.value.isChargeEnough||!L.value.isKarmaEnough;return!(O.value||!e.value&&L.value.isPublicationLimitEnough)||O.value})),U=(0,s.Fl)((()=>{if(N.value.isVotingOver)return!1;if(k.value)return!0;const e=!N.value.isChargeEnough||!N.value.isKarmaEnough;return!(R.value||!e)||R.value})),D=(0,c.iH)(!1),B=(0,c.iH)(!1),H=(0,s.Fl)((()=>{var e,i;return C.value&&null!==(e=t.article)&&void 0!==e&&e.relatedData&&!D.value&&(null===(i=t.article.relatedData.vote)||void 0===i?void 0:i.value)||0})),F=(0,s.Fl)((()=>{var e,i;return"draft"===(null===(e=t.article)||void 0===e?void 0:e.status)||!(null!==(i=t.article)&&void 0!==i&&i.timePublished)})),V=(0,s.Fl)((()=>!F.value&&!B.value&&(!!D.value||(0===H.value?M.value||U.value:O.value||R.value)))),$=(0,E.g)(),W=(0,c.iH)(null);function G(){(0,A.IZ)("vote_content_plus",{publication_type:o.value}),k.value?W.value="isMineArticle":C.value?R.value||N.value.isChargeEnough||!N.value.isKarmaEnough?!R.value||N.value.isKarmaEnough?x():W.value="karmaTooLow":W.value="chargeTooLow":W.value="registration"}async function x(){D.value=!0;try{await $.upvote(t.article),B.value=!0,(0,A.IZ)("vote_content_plus",{publication_type:o.value})}catch(e){Y(e)}finally{D.value=!1}}function q(){if((0,A.IZ)("vote_content_minus",{publication_type:o.value}),k.value)W.value="isMineArticle";else if(C.value){if(!O.value){const{isPublicationLimitEnough:e,isChargeEnough:t,isKarmaEnough:i}=L.value;if(!i)return void(W.value="karmaTooLow");if(!e)return void(W.value="needPublications");if(!t&&i)return void(W.value="chargeTooLow")}J()}else W.value="registration"}async function Y(e){const t=(0,f.zg)(e);"VOTER_CHARGE"!==t?"string"===typeof t&&t.startsWith("VOTER_KARMA_LIMIT")?W.value="karmaTooLow":((0,d.Tb)(e),i.error(e.message)):W.value="chargeTooLow"}const Z=(0,c.iH)(!1),j=(0,c.iH)(!1);function K(e){D.value=!0,$.downvote(t.article,e).then((()=>{l.value=null,j.value=!0,setTimeout((()=>{j.value=!1,Z.value=!1}),w),B.value=!0,(0,A.IZ)("vote_content_minus",{publication_type:o.value})})).catch(Y).finally((()=>{D.value=!1}))}const{msg:z}=(0,v.Q)(),Q=(0,s.Fl)((()=>a.value?$.postReasonsList:$.reasonsList)),X=(0,c.iH)(!1);async function J(){X.value=!0;try{await $.loadReasonsList(a.value),Z.value=!0,l.value=z("ARTICLE_REASON_POPUP_TITLE")}catch(e){i.error(e.message),(0,d.Tb)(e)}finally{X.value=!1}}return(t,i)=>((0,s.wg)(),(0,s.iD)("div",I,[V.value?((0,s.wg)(),(0,s.j4)(h.Z,{key:0,appearance:"article","can-vote-minus":M.value,"can-vote-plus":U.value,class:"votes-switcher","is-loading":D.value||X.value,"is-plusified":"",score:e.article.statistics.score,"vote-state":H.value,"votes-count":e.article.statistics.votesCount,"votes-count-minus":e.article.statistics.votesCountMinus,"votes-count-plus":e.article.statistics.votesCountPlus,onDownvote:q,onScoreClick:i[0]||(i[0]=e=>t.$emit("scoreClick")),onUpvote:G},null,8,["can-vote-minus","can-vote-plus","is-loading","score","vote-state","votes-count","votes-count-minus","votes-count-plus"])):((0,s.wg)(),(0,s.j4)(g.Z,{key:1,appearance:"article",class:"votes-switcher",score:e.article.statistics.score,"vote-state":H.value,"votes-count":e.article.statistics.votesCount,"votes-count-minus":e.article.statistics.votesCountMinus,"votes-count-plus":e.article.statistics.votesCountPlus,onClick:i[1]||(i[1]=e=>t.$emit("scoreClick"))},null,8,["score","vote-state","votes-count","votes-count-minus","votes-count-plus"])),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[Z.value?((0,s.wg)(),(0,s.j4)(p.Z,{key:0,title:l.value,onClose:i[2]||(i[2]=e=>Z.value=!1)},{default:(0,s.w5)((()=>[j.value?((0,s.wg)(),(0,s.iD)("div",{key:1,textContent:(0,n.zw)((0,c.SU)(z)("ARTICLE_REASON_SUCCESS"))},null,8,y)):((0,s.wg)(),(0,s.j4)(m.Z,{key:0,"is-vote-loading":D.value,"reasons-list":Q.value,onDownVote:K},null,8,["is-vote-loading","reasons-list"]))])),_:1},8,["title"])):(0,s.kq)("",!0)])),W.value?((0,s.wg)(),(0,s.j4)(_.Z,{key:2,hint:W.value,root:t.$el,onClose:i[3]||(i[3]=e=>W.value=null)},null,8,["hint","root"])):(0,s.kq)("",!0)]))}});var C=i(83744);const k=(0,C.Z)(P,[["__scopeId","data-v-b9b05a90"]]),L=k,N={key:0},O={class:"tm-article-vote-stats__title"},R={class:"tm-article-vote-stats__text"},M={class:"tm-article-vote-stats__percent"};function U(e,t,i,a,o,r){return r.reasonsList?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tm-article-vote-stats",style:(0,n.j5)({"--percent-value":r.percentValue})},[r.emptyResult?((0,s.wg)(),(0,s.iD)("div",N,(0,n.zw)(e.msg("ARTICLE_REASON_NO_DATA")),1)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[t[0]||(t[0]=(0,s._)("div",{class:"tm-article-vote-stats__result-border"},null,-1)),(0,s._)("h3",O,(0,n.zw)(e.msg("ARTICLE_REASON_SUBTITLE")),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.reasonsMap,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.reasonId,class:"tm-article-vote-stats__result-item"},[(0,s._)("div",R,(0,n.zw)(r.getReasonTitle(e)),1),(0,s._)("div",M,(0,n.zw)(e.percent)+"%",1),(0,s._)("div",{class:"tm-article-vote-stats__result-line",style:(0,n.j5)({width:e.percent+"%"})},null,4)])))),128))],64))],4)):(0,s.kq)("",!0)}const D={name:"TMArticleVoteStats",props:{voting:{type:Object,required:!0},reasonsMap:{type:Array,required:!0},isPost:{type:Boolean,required:!0}},computed:{emptyResult(){let e=0;return this.reasonsMap.forEach((t=>{e+=t.percent})),0===e},percentValue(){const{positive:e,total:t}=this.voting;return e/t*100+"%"},reasonsList(){const e=(0,E.g)();return this.isPost?e.postReasonsList:e.reasonsList}},mounted(){(0,E.g)().loadReasonsList(this.isPost).catch((e=>{this.$toast.error(e.message)}))},methods:{getReasonTitle({id:e}){const t=this.reasonsList.find((t=>t.id===e));return t&&t.title||""}}},B=(0,C.Z)(D,[["render",U]]),H=B;var F=i(86016),V=i(30143),$=i(6605);const W={class:"tm-sharing"},G={class:"tm-sharing__socials"},x=["onClick"];function q(e,t,i,a,o,r){const l=(0,s.up)("TMShareIcon"),c=(0,s.up)("TMPopup");return(0,s.wg)(),(0,s.iD)("div",W,[(0,s._)("button",{class:"tm-sharing__button",type:"button",onClick:t[0]||(t[0]=(...e)=>r.invokeSharing&&r.invokeSharing(...e))},[(0,s.Wm)(l,{class:"tm-sharing__icon"})]),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[o.isOpenShare?((0,s.wg)(),(0,s.j4)(c,{key:0,title:e.msg("ARTICLE_SHARING_TITLE"),onClose:r.closePopup},{default:(0,s.w5)((()=>[(0,s._)("ul",G,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.socials,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.key},[(0,s._)("span",{class:"tm-sharing__social",onClick:t.action},(0,n.zw)(e.msg(t.key)),9,x)])))),128))])])),_:1},8,["title","onClose"])):(0,s.kq)("",!0)]))])}var Y=i(59545),Z=i(15923),j=i(43059),K=i(86598),z=i(24440);const Q=(0,Y.Rd)((()=>i.e(7366).then(i.bind(i,47366))),Y.MN),X={name:"TMSharing",components:{TMShareIcon:Q,TMPopup:p.Z},props:{article:T.s},data(){return{isOpenShare:!1}},computed:{articleUrl(){return(0,K.Zl)(this.article)},socials(){const e=encodeURIComponent(this.articleUrl),t=(0,b.o)(this.article)?(0,Z.vz)(this.article,this.msg):(0,z.V)(this.article.titleHtml),i=encodeURIComponent(t);return[{key:"SOCIAL_COPY",action:this.copyLink},{key:"SOCIAL_FACEBOOK",action:()=>this.openLink(`https://www.facebook.com/sharer/sharer.php?u=${e}`)},{key:"SOCIAL_TWITTER",action:()=>this.openLink(`https://twitter.com/intent/tweet?text=${i}+${e}+via+%40habr_com`)},{key:"SOCIAL_VK",action:()=>this.openLink(`https://vk.com/share.php?url=${e}`)},{key:"SOCIAL_TELEGRAM",action:()=>this.openLink(`https://t.me/share/url?url=${e}&title=${i}`)},{key:"SOCIAL_POCKET",action:()=>this.openLink(`https://getpocket.com/edit?url=${e}`)}]}},methods:{openLink(e){(0,A.IZ)("share",{publication_type:(0,A.Lq)(this.article)}),window.open(e,"_blank"),this.closePopup()},copyLink(){(0,j.Z)(this.articleUrl),this.closePopup(),this.$toast.success(this.msg("SOCIAL_COPIED")),(0,A.IZ)("share",{publication_type:(0,A.Lq)(this.article)})},invokeSharing(){navigator.share?navigator.share({title:this.msg("SITENAME"),text:this.article.titleHtml,url:this.articleUrl}).then((()=>{(0,A.IZ)("share",{publication_type:(0,A.Lq)(this.article)})})).catch((e=>{throw e})):this.isOpenShare=!0},closePopup(){this.isOpenShare=!1}}},J=(0,C.Z)(X,[["render",q]]),ee=J;var te=i(25109),ie=i(72923),se=i(57733);const ne=["rating","votes","views","favorite","comments","share"],ae={name:"TMDataIcons",components:{TMArticleVoteStats:H,TMIconCounter:V.Z,TMPopup:p.Z,TMArticleCommentsCounterLink:l.Z,TMArticleRating:L,TMBookmarksButton:F.Z,TMSharing:ee,TMVotesMeter:g.Z,RestrictionHint:$.Z},props:{article:{type:Object,default:null},iconsList:{type:Array,default:()=>[],validator:e=>e.every((e=>-1!==ne.indexOf(e)))},type:{type:String,default:"block"},bookmarkModule:{type:String,default:"articlesList"},gaEvent:{type:[Object,String],required:!1,default:null},spaceBetween:{type:String,default:"big"},isInComments:Boolean},emits:["bookmarkChange"],setup(){const e=(0,S.q)(),{isLoggedIn:t,isSuperAdmin:i,userAlias:s}=(0,r.Jk)(e);return{isLoggedIn:t,isSuperAdmin:i,userAlias:s}},data(){return{isLoadingBookmark:!1,votesPopupVisible:!1,reasonsMap:null,unreadCommentsCount:this.article.relatedData?this.article.relatedData.unreadCommentsCount:null,isHintVisible:!1,hintProps:null}},computed:{isBookmarked(){var e;return!this.isLoadingBookmark&&(null===(e=this.article.relatedData)||void 0===e?void 0:e.bookmarked)},voteState(){var e;const{relatedData:t}=this.article;return(null===t||void 0===t||null===(e=t.vote)||void 0===e?void 0:e.value)||0},votesStats(){const{votesCount:e,votesCountPlus:t,votesCountMinus:i}=this.article.statistics;return{total:e,positive:t,negative:i}},isPost(){return(0,b.o)(this.article)}},beforeMount(){if(!this.isLoggedIn&&"undefined"!==typeof indexedDB){const{article:{id:e,statistics:t}}=this;(0,o.U2)(e).then(((e=0)=>{this.unreadCommentsCount=Math.max(t.commentsCount-e,0)}))}},methods:{bem:te.P,showIcon(e){return this.iconsList&&-1!==this.iconsList.indexOf(e)},onBookmarkClick(e){if(!this.isLoggedIn)return void this.toggleBookmarkHint(e);const{bookmarked:t}=this.article.relatedData;this.isLoadingBookmark=!0,(0,E.g)().toggleArticleBookmark(this.article,this.bookmarkModule).then((()=>{this.$emit("bookmarkChange",!t),this.article.relatedData.bookmarked&&(0,A.IZ)("favorite",{publication_type:(0,A.Lq)(this.article)}),this.isLoadingBookmark=!1}))},showVotesPopup(){var e;if(!this.isSuperAdmin&&("megaproject"===this.article.postType||this.userAlias!==(null===(e=this.article.author)||void 0===e?void 0:e.alias)))return;const t=(0,b.o)(this.article)?se.$X:ie.Mc;t(this.article.id).then((e=>{this.votesPopupVisible=!0,this.reasonsMap=e.data})).catch((e=>{this.$toast.error(e.message)}))},toggleBookmarkHint(e){this.hintProps={target:e.target,messageKey:"PUBLICATION_FAVORITE_HINT",eventLabel:"hint_reg_save_publ_go",offset:[-34,8]},this.isHintVisible=!this.isHintVisible,this.isHintVisible&&(0,A.IZ)("hint_reg_save_publ_open")}}},oe=(0,C.Z)(ae,[["render",a]]),re=oe},20666:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612);const a=["datetime","title","textContent"],o={key:1};function r(e,t,i,r,l,c){return e.$slots.default&&e.$slots.default({formattedDate:c.formattedDate})?((0,s.wg)(),(0,s.iD)("span",o,[(0,s.WI)(e.$slots,"default",{formattedDate:c.formattedDate})])):((0,s.wg)(),(0,s.iD)("time",{key:0,"data-allow-mismatch":"",datetime:c.jsDate.toISOString(),title:c.fullForm,textContent:(0,n.zw)(c.formattedDate)},null,8,a))}var l=i(21331),c=i(38919);const u={name:"TMDatetime",props:{date:{required:!0,type:[String,Date]},showFullDateTime:Boolean,shortMonth:Boolean,absoluteDate:Boolean,hideToday:Boolean,isArticleFormat:Boolean,utc:Boolean,clientTime:Boolean},data(){return{now:new Date,isMounted:!1}},computed:{jsDate(){return this.utc||"undefined"!==typeof window&&this.clientTime&&!this.isMounted?(0,l.iH)(this.date):new Date(this.date)},time(){return(0,c.rp)(this.jsDate)},fullForm(){const e=(0,c.SI)(this.jsDate);return`${e}, ${this.time}`},isMoreThanOneYear(){return this.now.getFullYear()-this.jsDate.getFullYear()>=1},countMinutesAgo(){return Math.trunc((this.now.getTime()-this.jsDate.getTime())/6e4)},countHoursAgo(){return Math.trunc(this.countMinutesAgo/60)},timeParams(){return{time:this.time}},dateTimeParams(){const e=(this.absoluteDate||this.isMoreThanOneYear)&&this.jsDate.getFullYear();return{day:this.jsDate.getDate().toString(),month:this.jsDate.getMonth().toString(),year:e,...this.timeParams}},articleFormatTextParams(){return this.countMinutesAgo<1?{name:"WHEN_JUST_NOW"}:this.countMinutesAgo<60?{name:"WHEN_MIN",params:{time:this.countMinutesAgo}}:this.countHoursAgo<24?{name:"WHEN_HOUR",params:{time:this.countHoursAgo}}:(0,c.gO)(this.jsDate,this.now)?{name:"WHEN_YESTERDAY_AT",params:this.timeParams}:{name:"WHEN_FULL_DATE_SHORT_MONTH_AT",params:this.dateTimeParams}},textParams(){if(!this.absoluteDate){if((0,c.zk)(this.jsDate,this.now))return{name:this.hideToday?"WHEN_AT":"WHEN_TODAY_AT",params:this.timeParams};if((0,c.gO)(this.jsDate,this.now))return{name:"WHEN_YESTERDAY_AT",params:this.timeParams}}return this.showFullDateTime?{name:this.shortMonth?"WHEN_FULL_DATE_SHORT_MONTH_AT":"WHEN_FULL_DATE_AT",params:this.dateTimeParams}:{name:"WHEN_FULL_DATE",params:this.dateTimeParams}},formattedDate(){return this.isArticleFormat?this.msg(this.articleFormatTextParams.name,this.articleFormatTextParams.params):this.msg(this.textParams.name,this.textParams.params)}},mounted(){this.isMounted=!0}};var d=i(83744);const m=(0,d.Z)(u,[["render",r]]),p=m},44420:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252),n=i(56612);const a=["textContent"];function o(e,t,i,o,r,l){return(0,s.wg)(),(0,s.iD)("dl",{class:(0,n.C_)(["tm-description-list",l.bem("tm-description-list",{variant:i.variant})])},[(0,s._)("dt",{class:(0,n.C_)(["tm-description-list__title",l.bem("tm-description-list__title",{variant:i.variant})]),textContent:(0,n.zw)(i.title)},null,10,a),(0,s._)("dd",{class:(0,n.C_)(["tm-description-list__body",l.bem("tm-description-list__body",{variant:i.variant})])},[(0,s.WI)(e.$slots,"default")],2)],2)}var r=i(25109);const l={name:"TMDescriptionList",props:{title:{type:String,required:!0},variant:{type:String,default:"base"}},methods:{bem:r.P}};var c=i(83744);const u=(0,c.Z)(l,[["render",o]]),d=u},17338:(e,t,i)=>{"use strict";i.d(t,{Z:()=>V});var s=i(66252),n=i(62931),a=i(89554),o=i(36134),r=i(71197),l=i(21331),c=i(19913),u=i(86409),d=i(10707);function m(e){return(0,u.Q)((0,d.k)("digests/editorial/subscribe","v2"),e)}function p(e){return(0,u.Q)((0,d.k)("mailing/business/subscription","v2"),e)}var _=i(56612),h=i(58061),g=i(66309),v=i(59545),T=i(8381),E=i(3739);const S={empty:"EMAIL_ERROR_EMPTY",at:"EMAIL_ERROR_AT",local:"EMAIL_ERROR_LOCAL_PART",domain:"EMAIL_ERROR_DOMAIN",cyrillic:"EMAIL_ERROR_CYRILLIC",invalid:"EMAIL_ERROR_INVALID"};function f(e,t){if(!e.length)return{valid:!1,message:t(S.empty)};const i=/[а-яА-ЯёЁ]/;if(i.test(e))return{valid:!1,message:t(S.cyrillic)};if(!e.includes("@"))return{valid:!1,message:t(S.at)};const s=e.split("@");if(2!==s.length)return{valid:!1,message:t(S.invalid)};const[n,a]=s;if(!n.length)return{valid:!1,message:t(S.local,{email:e})};if(null===a||void 0===a||!a.length)return{valid:!1,message:t(S.domain,{email:e})};const o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return o.test(e)?e.length>254||e.startsWith(".")||e.endsWith(".")||e.includes("..")||n.length>64||n.startsWith(".")||a.endsWith(".")?{valid:!1,message:t(S.invalid)}:{valid:!0,message:""}:{valid:!1,message:t(S.invalid)}}const A={class:"tm-digest-subscription"},b={class:"tm-digest-subscription__success-text"},I={class:"tm-digest-subscription__success-text-title"},y={class:"tm-digest-subscription__success-text-subtitle"},w={class:"tm-digest-subscription__title"},P={class:"tm-digest-subscription__description"},C=["disabled"],k=["innerHTML"],L={key:0,class:"tm-digest-subscription__error"},N="digest-subscription-timer",O="digest-subscription-error",R={__name:"digest-subscription",props:{source:{type:String,default:""},description:{type:String,required:!0},submitHandler:{type:Function,required:!0},title:{type:String,required:!0}},emits:["close","request-sent"],setup(e,{emit:t}){const a=(0,v.Rd)((()=>i.e(5084).then(i.bind(i,45084))),v.MN),r=(0,v.Rd)((()=>i.e(731).then(i.bind(i,731))),v.MN),l=(0,g._aR)(N,null),c=(0,g._aR)(O,null),u=e,d=(0,n.iH)(""),m=(0,n.iH)(!1),p=(0,n.iH)(!1),S=(0,n.iH)(!1),R=(0,n.iH)(!1),M=(0,n.iH)(""),U=(0,n.iH)(""),D=(0,n.iH)({minutesLeft:3}),B=(0,n.iH)(0),H=(0,n.iH)(null),F=(0,n.iH)(null),{msg:V,langOptions:$}=(0,o.Q)(),W=t;function G(e,t){let i="SUBSCRIPTION_ERROR";switch(e){case 429:i="SUBSCRIPTION_TOO_MANY_REQUESTS";break;case 500:case 503:i="SUBSCRIPTION_SERVER_ERROR";break;case 409:i="SUBSCRIPTION_EXISTS_ERROR";break;default:M.value=t,i="SUBSCRIPTION_ERROR"}U.value=i}function x(){l.value=null,c.value=null}function q(e){const t=Date.now();l.value=t+e,p.value=!0,setTimeout((()=>{x(),p.value=!1}),e),D.value.minutesLeft=Math.ceil(e/60/1e3);const i=setInterval((()=>{D.value.minutesLeft>1?D.value.minutesLeft-=1:clearInterval(i)}),6e4)}async function Y(){const e=await u.submitHandler({email:d.value,source:u.source,...$.value});if(!e||!e.ok)throw new Error(e&&e.message)}function Z(e){c.value=e,429===e?q(18e4):500!==e&&503!==e||q(6e4)}async function j(){const{valid:e,message:t}=f(d.value,V);var i;if(!e)return null===(i=H.value)||void 0===i||i.setCustomValidity(t),!1;m.value=!0,R.value=!1;try{await Y(),S.value=!0,W("request-sent")}catch(s){m.value=!1,R.value=!0,G(s.status,s.message),Z(s.status)}finally{m.value=!1}return!0}return(0,s.bv)((()=>{if(B.value=F.value.clientHeight,l.value){const e=l.value-Date.now();e>0?(q(e),R.value=!0,G(c.value)):x()}})),(0,s.YP)(d,(()=>{var e;null===(e=H.value)||void 0===e||e.setCustomValidity(""),M.value=""})),(t,i)=>((0,s.wg)(),(0,s.iD)("div",A,[S.value?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tm-digest-subscription__success",style:(0,_.j5)({height:`${B.value}px`})},[(0,s.Wm)((0,n.SU)(r),{class:"tm-digest-subscription__success-icon"}),(0,s._)("div",b,[(0,s._)("h2",I,(0,_.zw)((0,n.SU)(V)("SUBSCRIPTION_SUCCESS_TITLE")),1),(0,s._)("p",y,(0,_.zw)((0,n.SU)(V)("SUBSCRIPTION_SUCCESS_SUBTITLE")),1)])],4)):((0,s.wg)(),(0,s.iD)("div",{key:1,ref_key:"formContainer",ref:F},[(0,s.Wm)(E["default"],{id:"close",class:"tm-digest-subscription__close",onClick:i[0]||(i[0]=e=>W("close"))}),(0,s._)("h3",w,(0,_.zw)(e.title),1),(0,s._)("p",P,(0,_.zw)(e.description),1),(0,s._)("form",{class:"tm-digest-subscription__form",method:"GET",onSubmit:(0,h.iM)(j,["prevent"])},[(0,s.Wm)(T.Z,{ref_key:"input",ref:H,modelValue:d.value,"onUpdate:modelValue":i[1]||(i[1]=e=>d.value=e),class:"tm-digest-subscription__input",disabled:p.value||m.value,"is-invalid":R.value,name:"email",placeholder:(0,n.SU)(V)("SUBSCRIPTION_EMAIL_PLACEHOLDER")},{after:(0,s.w5)((()=>[(0,s._)("button",{class:(0,_.C_)(["tm-digest-subscription__icon",{"tm-digest-subscription__icon_loading":m.value}]),disabled:p.value||m.value,type:"submit"},[(0,s.Wm)((0,n.SU)(a))],10,C)])),_:1},8,["modelValue","disabled","is-invalid","placeholder"]),(0,s._)("span",{class:"tm-digest-subscription__agreement",innerHTML:(0,n.SU)(V)("SUBSCRIPTION_AGREEMENT")},null,8,k),R.value?((0,s.wg)(),(0,s.iD)("p",L,(0,_.zw)(M.value??(0,n.SU)(V)(U.value,D.value)),1)):(0,s.kq)("",!0)],32)],512))]))}};var M=i(83744);const U=(0,M.Z)(R,[["__scopeId","data-v-9df5a6f1"]]),D=U,B=1e4,H={__name:"digest-subscription-wrapper",props:{type:{type:String,default:"editoral",validator:e=>["editoral","business"].includes(e)},sourceHubs:{type:Array,default:()=>[]}},setup(e){const{msg:t}=(0,o.Q)(),i=(0,a.f)(),u=(0,r.q)(),d=e,_=(0,n.iH)(!1);function h(){_.value=!1}const g={editoral:{cookieName:"habr-editorial-subscription",submitHandler:m,titleKey:"SUBSCRIPTION_EDITORAL_TITLE",subtitleKey:"SUBSCRIPTION_EDITORAL_DESCRIPTION"},business:{cookieName:"habr-business-subscription",submitHandler:p,titleKey:"SUBSCRIPTION_BUSINESS_TITLE",subtitleKey:"SUBSCRIPTION_BUSINESS_DESCRIPTION"}},v=(0,s.Fl)((()=>g[d.type]||{})),T=(0,s.Fl)((()=>d.sourceHubs.map((e=>`Хаб ${e}`)).join(", ")));function E(){switch(d.type){case"editoral":i.set(v.value.cookieName,"subscribe",{expires:(0,l.ot)(90)}),(0,c.IZ)("tm_block_edit_digest_post_subscribe");break;case"bussiness":default:}setTimeout((()=>{h()}),B)}function S(){switch(d.type){case"editoral":i.set(v.value.cookieName,"close",{expires:(0,l.ot)(90)}),(0,c.IZ)("tm_block_edit_digest_post_close");break;case"bussiness":default:}h()}return(0,s.bv)((()=>{switch(d.type){case"editoral":{const e=i.get(v.value.cookieName);_.value=!u.isLoggedIn&&!e;break}case"bussiness":default:_.value=!0}})),(e,i)=>_.value?((0,s.wg)(),(0,s.j4)(D,{key:0,"cookie-name":v.value.cookieName,description:(0,n.SU)(t)(v.value.subtitleKey),source:T.value,"submit-handler":v.value.submitHandler,title:(0,n.SU)(t)(v.value.titleKey),onClose:S,onRequestSent:E},null,8,["cookie-name","description","source","submit-handler","title"])):(0,s.kq)("",!0)}},F=H,V=F},51714:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252),n=i(56612);const a={class:"tm-dropdown__head"};function o(e,t,i,o,r,l){const c=(0,s.Q2)("hotkey");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-dropdown",{"tm-dropdown_active":r.optionsVisible}])},[(0,s._)("div",a,[(0,s.WI)(e.$slots,"head",{close:l.closeOptions,toggle:l.toggleOptions})]),r.optionsVisible?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,n.C_)(["tm-dropdown__body",l.getClass]),style:(0,n.j5)(l.getOffset)},[(0,s.WI)(e.$slots,"body",{visible:r.optionsVisible})],6)):(0,s.kq)("",!0)],2)),[[c,{esc:l.closeOptions}]])}const r={name:"TMDropdown",props:{align:{type:String,default:"left"},bodyOffset:{type:Number,default:0},variant:{type:String,default:"default"}},data(){return{optionsVisible:!1}},computed:{getClass(){return{"tm-dropdown__body_left":"left"===this.align,"tm-dropdown__body_right":"right"===this.align,"tm-dropdown__body_center":"center"===this.align,"tm-dropdown__body_inline":"inline"===this.variant,"tm-dropdown__body_padding-none":"noBodyPadding"===this.variant}},getOffset(){return{[`margin-${this.align}`]:`${this.bodyOffset}px`}}},watch:{$route(e,t){e.path!==t.path&&this.optionsVisible&&(this.optionsVisible=!1)}},methods:{close(){this.optionsVisible=!1},open(){this.optionsVisible=!0},toggleOptions(){this.optionsVisible=!this.optionsVisible,this.optionsVisible?document.addEventListener("click",this.listenClickOutside):document.removeEventListener("click",this.listenClickOutside)},closeOptions(){this.optionsVisible=!1,document.removeEventListener("click",this.listenClickOutside)},listenClickOutside(e){this.optionsVisible&&!this.$el.contains(e.target)&&this.toggleOptions()}}};var l=i(83744);const c=(0,l.Z)(r,[["render",o]]),u=c},59810:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252),n=i(56612);const a={class:"tm-empty-placeholder__text","data-test-id":"empty-placeholder-text"};function o(e,t,i,o,r,l){const c=(0,s.up)("TMSvgImg");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(l.bem("tm-empty-placeholder",{variant:i.variant,minHeight:i.minHeight})),"data-test-id":"empty-placeholder"},[(0,s.Wm)(c,{id:i.image,class:(0,n.C_)(l.bem("tm-empty-placeholder__image",{variant:i.variant}))},null,8,["id","class"]),(0,s._)("div",a,[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Uk)((0,n.zw)(i.title||e.msg("EMPTY_POSTS_MESSAGE")),1)]))]),(0,s.WI)(e.$slots,"footer")],2)}var r=i(39639),l=i(25109);const c={name:"TMEmptyPlaceholder",components:{TMSvgImg:r.Z},props:{title:{type:String,default:null},image:{type:String,default:"/img/empty-post-placeholder.svg#placeholder"},variant:{type:String,default:"default",validator(e){return["default","user-profile","ufo","events"].includes(e)}},minHeight:{type:String,default:null}},methods:{bem:l.P}};var u=i(83744);const d=(0,u.Z)(c,[["render",o]]),m=d},30379:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(66252),n=i(56612);const a={class:"tm-entity-image"},o=["height","loading","src","width"],r=["height","loading","src","width"];function l(e,t,i,l,c,u){const d=(0,s.up)("TMSvgImg");return(0,s.wg)(),(0,s.iD)("div",a,[u.hasPlaceholderImage?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},["user"===i.type?((0,s.wg)(),(0,s.iD)("img",{key:0,alt:"",class:"tm-entity-image__pic",height:i.size,loading:i.lazy?"lazy":null,src:u.getDefaultUserAvatar(i.alias),width:i.size},null,8,o)):((0,s.wg)(),(0,s.j4)(d,{key:1,id:`placeholder-${i.type}`,class:(0,n.C_)(["tm-image-placeholder",`tm-image-placeholder_${u.color}`]),color:u.color,height:i.size,size:i.size,type:i.type,width:i.size},null,8,["id","class","color","height","size","type","width"]))],64)):((0,s.wg)(),(0,s.iD)("img",{key:1,alt:"",class:"tm-entity-image__pic",height:i.size,loading:i.lazy?"lazy":null,src:i.image,width:i.size},null,8,r))])}var c=i(39639),u=i(80680);const d=["blue","pink","lilac","green"],m=d.length,p={name:"TMEntityImage",components:{TMSvgImg:c.Z},props:{alias:{type:String,default:null},image:{type:String,default:null},type:{type:String,required:!0},lazy:{type:Boolean,default:!1},size:{type:[Number,String],default:null}},computed:{hasPlaceholderImage(){return!this.image||this.image.indexOf("stub-user-middle.gif")>-1||this.image.indexOf("stub-user-small.gif")>-1},color(){return d[this.hashNumber]},hashNumber(){return this.alias?(0,u.O)(this.alias,m):0}},methods:{getDefaultUserAvatar:u.z}};var _=i(83744);const h=(0,_.Z)(p,[["render",l]]),g=h},19538:(e,t,i)=>{"use strict";i.d(t,{Z:()=>O});var s=i(66252),n=i(56612);const a=["data-src","loading","src","srcset"],o={class:"tm-event-card__info"},r={class:"tm-event-card__date"},l={key:0,class:"tm-event-card__date-finished"},c={class:"tm-event-card__day"},u=["innerHTML"],d={class:"tm-event-card__places"},m={class:"tm-event-card__places-list"},p=["innerHTML"],_={key:0,class:"tm-event-card__places-separator"},h=["href"],g={class:"tm-event-card__categories"};function v(e,t,i,v,T,E){const S=(0,s.up)("router-link"),f=(0,s.up)("TMGallery"),A=(0,s.up)("EventCategory"),b=(0,s.up)("TMBlock");return(0,s.wg)(),(0,s.j4)(b,{id:i.event.id,"data-navigatable":!i.isWidget||null,spacing:i.isWidget?"none":"around",tabindex:i.isWidget?-1:0},{body:(0,s.w5)((()=>[(0,s._)("div",{ref:"eventCard",class:(0,n.C_)(E.bem("tm-event-card",{"is-widget":i.isWidget,responsive:i.responsive})),onClick:t[3]||(t[3]=(...e)=>v.handleClickOnBrokenGallery&&v.handleClickOnBrokenGallery(...e))},[(0,s.Wm)(S,{to:{name:"EVENT",params:{id:i.event.id}}},{default:(0,s.w5)((()=>[(0,s._)("img",{alt:"",class:"tm-event-card__image","data-src":i.event.imageUrl,loading:i.lazyImage?"lazy":"eager",src:E.smallImage,srcset:E.responsiveImagesSet},null,8,a)])),_:1},8,["to"]),T.galleryImages.length?((0,s.wg)(),(0,s.j4)(f,{key:0,ref:"galleryRef","images-list":T.galleryImages,onImagesInitialized:v.onImagesInitialized},null,8,["images-list","onImagesInitialized"])):(0,s.kq)("",!0),(0,s._)("div",o,[(0,s._)("div",r,[i.event.isArchive?((0,s.wg)(),(0,s.iD)("div",l,(0,n.zw)(e.msg("EVENT_ARCHIVED")),1)):(0,s.kq)("",!0),(0,s._)("div",c,[(0,s._)("span",null,(0,n.zw)(v.formattedDate),1)])]),(0,s.Wm)(S,{class:"tm-event-card__title-link",to:{name:"EVENT",params:{id:i.event.id}},onClick:t[0]||(t[0]=t=>e.$emit("click",i.event))},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:i.event.titleHtml},null,8,u)])),_:1},8,["to"]),(0,s._)("div",d,[(0,s._)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(E.places,((e,t)=>((0,s.wg)(),(0,s.iD)("span",{key:t,class:"tm-event-card__places-item"},[(0,s._)("span",{innerHTML:e},null,8,p),t<E.places.length-1?((0,s.wg)(),(0,s.iD)("span",_," • ")):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("div",{class:(0,n.C_)(E.bem("tm-event-card__footer",{widget:i.isWidget}))},[i.isWidget?((0,s.wg)(),(0,s.j4)(S,{key:0,class:"tm-event-card__link",to:{name:"EVENTS",hash:`#${i.event.id}`},onClick:t[1]||(t[1]=t=>e.$emit("click",i.event))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("EVENTS_TO_CALENDAR")),1)])),_:1},8,["to"])):((0,s.wg)(),(0,s.iD)("a",{key:1,class:"tm-event-card__link",href:i.event.eventUrl,target:"_blank",onClick:t[2]||(t[2]=(...e)=>E.logEventLinkEvent&&E.logEventLinkEvent(...e))},(0,n.zw)(e.msg("EVENTS_GO_TO")),9,h)),(0,s._)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.event.categories,(e=>((0,s.wg)(),(0,s.j4)(A,{key:e.id,category:e},null,8,["category"])))),128))])],2)],2)])),_:1},8,["id","data-navigatable","spacing","tabindex"])}var T=i(70352),E=i(7863),S=i(59545),f=i(67649),A=i(14652),b=i(25109),I=i(11307),y=i(29587),w=i(19913),P=i(581);const C=(0,S.Rd)((()=>i.e(5121).then(i.bind(i,66874)))),k={name:"TMEventCard",components:{EventCategory:E.Z,TMBlock:T.Z,TMGallery:C},props:{event:{type:Object,required:!0},isWidget:{type:Boolean,default:!1},responsive:{type:Boolean,default:!0},lazyImage:{type:Boolean,default:!1}},emits:["click"],setup(e){const{galleryRef:t,onImagesInitialized:i,handleClickOnBrokenGallery:s}=(0,A.y)(),{formattedDate:n}=(0,f.u)(e.event);return{galleryRef:t,onImagesInitialized:i,handleClickOnBrokenGallery:s,formattedDate:n}},data(){return{galleryImages:[],categoriesMapper:I.Q}},computed:{smallImage(){return(0,P.getResizedSrc)(this.event.imageUrl,390)},responsiveImagesSet(){return`${this.smallImage}, ${this.event.imageUrl} 2x`},places(){const e=[...this.event.geo];return this.event.isOnline&&e.push(this.msg("EVENTS_ONLINE")),e}},mounted(){this.isWidget||(this.galleryImages=(0,y.N)(this.$refs.eventCard))},methods:{bem:b.P,logEventLinkEvent(){(0,w.IZ)("calendar_link",{event_label:this.event.id})}}};var L=i(83744);const N=(0,L.Z)(k,[["render",v]]),O=N},7863:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252),n=i(56612),a=i(62931),o=i(25109),r=i(11307);const l=["innerHTML"],c={__name:"event-category",props:{category:{type:Object,default:()=>{}}},setup(e){return(t,i)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)((0,a.SU)(o.P)("event-category__label",{type:(0,a.SU)(r.Q)[e.category.titleHtml]}))},[(0,s._)("span",{innerHTML:e.category.titleHtml},null,8,l)],2))}},u=c,d=u},77541:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var s=i(62931),n=i(66252),a=i(67476),o=i(70352),r=i(19538),l=i(31596),c=i(38947),u=i(7550),d=i(59896),m=i(85353),p=i(11954),_=i(19913);const h={__name:"events-widget",setup(e){const t=(0,s.iH)(!0),i=(0,m.q)();(0,n.bv)((async()=>{try{await i.loadActualEvents()}catch(e){(0,d.T)(e)}finally{t.value=!1}}));const h=(0,s.iH)(0);function g(e){(0,_.IZ)("tm_block_calendar",{event_label:e.id})}const v=(0,p.P)(),{msg:T}=v,{actualEvents:E}=(0,a.Jk)(i);function S(e){h.value=e}return(e,i)=>t.value||(0,s.SU)(E)&&(0,s.SU)(E).length?((0,n.wg)(),(0,n.j4)(o.Z,{key:0,"body-variant":"equal",class:"tm-events-block","data-navigatable":"","header-variant":"borderless-large",spacing:"around",tabindex:"0",title:(0,s.SU)(T)("EVENTS_UPCOMING")},{default:(0,n.w5)((()=>[t.value&&!(0,s.SU)(E)?((0,n.wg)(),(0,n.j4)(l.Z,{key:0,responsive:"",type:"eventCard"})):!t.value&&(0,s.SU)(E)&&(0,s.SU)(E).length?((0,n.wg)(),(0,n.j4)(c.Z,{key:1,"active-slide":h.value,class:"tm-events-widget",navigation:"","slides-per-view":1,"space-between":22,onSlideChange:S},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,s.SU)(E),(e=>((0,n.wg)(),(0,n.j4)(u.Z,{key:e.id},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)(r.Z,{key:`${e.id}-card`,event:e,"is-widget":"","lazy-image":"",onClick:g},null,8,["event"]))])),_:2},1024)))),128))])),_:1},8,["active-slide"])):(0,n.kq)("",!0)])),_:1},8,["title"])):(0,n.kq)("",!0)}},g=h,v=g},57740:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252),n=i(56612),a=i(3739);const o={class:"fallback-component"},r={__name:"fallback-component",props:{errorMessage:{type:String,required:!1,default:""},messageKey:{type:String,default:""}},setup(e){return(t,i)=>((0,s.wg)(),(0,s.iD)("span",o,[e.messageKey?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,n.zw)(t.msg(e.messageKey)),1)],64)):((0,s.wg)(),(0,s.j4)(a["default"],{key:1,id:"warning",size:"24",title:e.errorMessage},null,8,["title"]))]))}};var l=i(83744);const c=(0,l.Z)(r,[["__scopeId","data-v-b2c27be3"]]),u=c},90605:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(56612);const a={key:0,class:"tm-fieldset__header"},o={class:"tm-fieldset__container"};function r(e,t,i,r,l,c){const u=(0,s.up)("TMText");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-fieldset",{"tm-fieldset_contrast":i.isContrast}])},[i.title?((0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(u,{class:"tm-fieldset__title",text:i.title},null,8,["text"])])):(0,s.kq)("",!0),(0,s._)("div",o,[(0,s.WI)(e.$slots,"default")]),c.descriptionOrErrorStr?((0,s.wg)(),(0,s.iD)("p",{key:1,class:(0,n.C_)(["tm-fieldset__description",{"tm-fieldset__description_invalid":i.errors.length}])},[(0,s.Wm)(u,{text:c.descriptionOrErrorStr},null,8,["text"])],2)):(0,s.kq)("",!0)],2)}function l(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("span",{class:(0,n.C_)(r.className)},(0,n.zw)(i.text),3)}const c={name:"TMText",props:{text:{type:String,required:!0}},computed:{className(){const e="▇▅▄▅▅▄ ▇▄▅"===this.text;return e?"tm-text_loading":""}}};var u=i(83744);const d=(0,u.Z)(c,[["render",l]]),m=d,p={components:{TMText:m},props:{description:String,errors:{required:!0,type:Array},isContrast:Boolean,title:String},computed:{descriptionOrErrorStr(){return this.errors.length?this.errors.join(", "):this.description}}},_=(0,u.Z)(p,[["render",r]]),h=_},51165:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252),n=i(62931),a=i(56612),o=i(53591),r=i(59545),l=i(31596);const c=Object.assign({inheritAttrs:!1},{__name:"form-builder",props:{modelValue:{type:Object,default:null},initialData:{type:Object,default:null}},emits:["update:modelValue","form-mounted"],setup(e,{expose:t}){const c=(0,r.Rd)((()=>i.e(6235).then(i.t.bind(i,96235,23))),r.b2),u=(0,s.l1)(),d=(0,n.iH)(null);function m(){var e;null===(e=d.value)||void 0===e||e.validateFields()}return t({validateForm:m}),(t,i)=>((0,s.wg)(),(0,s.j4)(o.Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(c),(0,s.dG)({ref_key:"formBuilder",ref:d},(0,n.SU)(u),{class:"form-builder-wrapper","initial-data":e.modelValue||e.initialData,"onUpdate:data":i[0]||(i[0]=e=>t.$emit("update:modelValue",e)),onVnodeMounted:i[1]||(i[1]=e=>t.$emit("form-mounted"))}),(0,s.Nv)({_:2},[(0,s.Ko)(t.$slots,((e,i)=>({name:i,fn:(0,s.w5)((e=>[(0,s.WI)(t.$slots,i,(0,a.vs)((0,s.F4)(e)))]))})))]),1040,["initial-data"])])),placeholder:(0,s.w5)((()=>[(0,s.Wm)(l.Z,{times:2,type:"form"})])),_:3}))}});var u=i(83744);const d=(0,u.Z)(c,[["__scopeId","data-v-11601d0c"]]),m=d},34059:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-fs-loading",{"tm-fs-loading_fixed":i.fixedLayout}])},[(0,s._)("div",{class:(0,n.C_)(["tm-fs-loading__loader",{"tm-fs-loading__loader_fixed":i.fixedLoaderPosition}])}," Loading... ",2)],2)}const o={name:"TMFullScreenLoading",props:{fixedLayout:Boolean,fixedLoaderPosition:Boolean}};var r=i(83744);const l=(0,r.Z)(o,[["render",a]]),c=l},10058:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(r,{to:o.route},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["to"])}var a=i(36134),o=i(99691);const r={article:{corporative:"ARTICLES_LIST_BY_COMPANY",collective:"HUB_PAGE"},post:{corporative:"POSTS_BY_COMPANY",collective:"POSTS_BY_HUB_ALL"}},l={name:"TMHubLink",props:{hub:{type:Object,required:!0},publicationType:{type:String,default:"article",validator:(0,o.HZ)(["article","post"])}},setup(){const{langOptions:e}=(0,a.Q)();return{langOptions:e}},computed:{route(){const{hub:{alias:e},langOptions:{hl:t}}=this,i=this.hub.type||"collective",s=r[this.publicationType][i],n={hl:t};return"corporative"===i?n.name=e:n.hubName=e,{name:s,params:n}}}};var c=i(83744);const u=(0,c.Z)(l,[["render",n]]),d=u},29109:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252);const n=["innerHTML"];function a(e,t,i,a,o,r){const l=(0,s.up)("TMHubLink"),c=(0,s.up)("TMSeparatedList");return(0,s.wg)(),(0,s.j4)(c,{list:i.hubs,title:i.title},{default:(0,s.w5)((({item:e})=>[(0,s.Wm)(l,{class:"tm-hubs-list__link",hub:e},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:e.title},null,8,n)])),_:2},1032,["hub"])])),_:1},8,["list","title"])}var o=i(10058),r=i(50288);const l={name:"TMHubsList",components:{TMSeparatedList:r.Z,TMHubLink:o.Z},props:{hubs:{type:Array,required:!0},title:{type:String,required:!0}}};var c=i(83744);const u=(0,c.Z)(l,[["render",a]]),d=u},30143:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612);const a={class:"tm-icon-counter"},o=["title","textContent"];function r(e,t,i,r,l,c){const u=(0,s.up)("TMSvgImg");return(0,s.wg)(),(0,s.iD)("span",a,[(0,s.Wm)(u,{id:i.iconId,class:"tm-icon-counter__icon",size:"24",title:i.title},null,8,["id","title"]),(0,s._)("span",{class:"tm-icon-counter__value",title:i.abbreviated?i.counter:"",textContent:(0,n.zw)(c.formattedCounter)},null,8,o)])}var l=i(39639),c=i(87934);const u={name:"TMIconCounter",components:{TMSvgImg:l.Z},props:{iconId:{type:String,required:!0},counter:{type:[String,Number],default:null},abbreviated:Boolean,title:{type:String,required:!0}},computed:{formattedCounter(){return this.abbreviated?(0,c.O)(this.counter):this.counter}}};var d=i(83744);const m=(0,d.Z)(u,[["render",r]]),p=m},42135:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252),n=i(56612);const a={class:"inline-list"};function o(e,t,i,o,r,l){const c=(0,s.up)("TMInlineSeparator");return(0,s.wg)(),(0,s.iD)("span",a,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,((t,a)=>((0,s.wg)(),(0,s.iD)("span",{key:i.getKey?i.getKey(t):t.key},[(0,s.WI)(e.$slots,"default",{index:a,item:t}),a!==l.lastElementIndex?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},["comma"===i.separator?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,n.zw)(", "))],64)):"space"===i.separator?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,n.zw)(" "))],64)):((0,s.wg)(),(0,s.j4)(c,{key:2,color:i.separatorColor},null,8,["color"]))],64)):(0,s.kq)("",!0)])))),128))])}var r=i(38628),l=i(99691);const c={name:"TMInlineList",components:{TMInlineSeparator:r.Z},props:{items:{type:Array,required:!0},separator:{type:String,default:null},separatorColor:{type:String,default:null,validator:(0,l.HZ)(["inherit"])},getKey:{type:Function,default:null}},computed:{lastElementIndex(){return this.items.length-1}}};var u=i(83744);const d=(0,u.Z)(c,[["render",o]]),m=d},38628:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("span",{class:(0,n.C_)(["inline-separator",r.bem("inline-separator",{color:i.color})])}," • ",2)}var o=i(25109),r=i(99691);const l={name:"TMInlineSeparator",props:{color:{type:String,default:null,validator:(0,r.HZ)(["inherit"])}},methods:{bem:o.P}};var c=i(83744);const u=(0,c.Z)(l,[["render",a]]),d=u},31655:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(66252),n=i(56612);const a={class:"tm-input-radio-labeled__label"},o=["data-test-id"];function r(e,t,i,r,l,c){const u=(0,s.up)("TMInputRadioBase");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-input-radio-labeled",e.$attrs.class])},[(0,s._)("label",a,[(0,s._)("div",{class:"tm-checkbox-labeled__input","data-test-id":`checkbox-labeled-input_${e.$attrs.name}`},[(0,s.Wm)(u,(0,s.dG)({modelValue:e.localValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.localValue=t)},e.attrsWithoutClass,{"checked-value":e.checkedValue,class:"tm-input-radio-labeled__real"}),null,16,["modelValue","checked-value"]),t[1]||(t[1]=(0,s._)("span",{class:"tm-input-radio-labeled__fake"},null,-1))],8,o),(0,s.WI)(e.$slots,"default")])],2)}const l=["checked"];function c(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("input",{checked:e.modelValue===e.checkedValue,type:"radio",onChange:t[0]||(t[0]=(...t)=>e.onChange&&e.onChange(...t))},null,40,l)}const u={name:"TMInputRadioBase",props:{checkedValue:{type:String,default:null},modelValue:{type:String,default:null}},emits:["update:modelValue"],methods:{onChange(){this.$emit("update:modelValue",this.checkedValue)}}};var d=i(83744);const m=(0,d.Z)(u,[["render",c]]),p=m,_={name:"TMInputRadioLabeled",components:{TMInputRadioBase:p},inheritAttrs:!1,props:{checkedValue:{type:String,default:null},modelValue:{type:String,default:null}},emits:["update:modelValue"],computed:{localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},attrsWithoutClass(){const e={...this.$attrs};return delete e.class,e}}},h=(0,d.Z)(_,[["render",r]]),g=h},7860:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252),n=i(58061);function a(e,t,i,a,o,r){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{ref:"input","onUpdate:modelValue":t[0]||(t[0]=e=>r.localValue=e),onBlur:t[1]||(t[1]=t=>e.$emit("blur")),onFocus:t[2]||(t[2]=t=>e.$emit("focus")),onKeyup:[t[3]||(t[3]=(0,n.D2)((t=>e.$emit("delete")),["delete"])),t[4]||(t[4]=(0,n.D2)((t=>e.$emit("down")),["down"])),t[5]||(t[5]=(0,n.D2)((t=>e.$emit("enter")),["enter"])),t[6]||(t[6]=(0,n.D2)((t=>e.$emit("esc")),["esc"]))]},null,544)),[[n.nr,r.localValue]])}const o={props:{modelValue:{type:String,required:!0}},emits:["update:modelValue","blur","focus","delete","down","enter","esc"],computed:{localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{blur(){this.$refs.input.blur()},focus(){this.$refs.input.focus()},setCustomValidity(e){this.$refs.input.setCustomValidity(e),e&&this.$refs.input.reportValidity()}}};var r=i(83744);const l=(0,r.Z)(o,[["render",a]]),c=l},8381:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252),n=i(56612);const a={key:0,class:"tm-input-text-decorated__label tm-input-text-decorated__label_before"},o={key:1,class:"tm-input-text-decorated__label tm-input-text-decorated__label_after"};function r(e,t,i,r,l,c){const u=(0,s.up)("TMInputTextBase");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-input-text-decorated",c.className])},[e.$slots.before?((0,s.wg)(),(0,s.iD)("div",a,[(0,s.WI)(e.$slots,"before")])):(0,s.kq)("",!0),(0,s.Wm)(u,(0,s.dG)({ref:"input"},e.$attrs,{modelValue:c.localValue,"onUpdate:modelValue":t[0]||(t[0]=e=>c.localValue=e),class:["tm-input-text-decorated__input",{"tm-input-text-decorated__input_invalid":i.isInvalid}],onBlur:t[1]||(t[1]=t=>e.$emit("blur")),onDelete:t[2]||(t[2]=t=>e.$emit("delete")),onEnter:t[3]||(t[3]=t=>e.$emit("enter")),onFocus:t[4]||(t[4]=t=>e.$emit("focus"))}),null,16,["modelValue","class"]),e.$slots.after?((0,s.wg)(),(0,s.iD)("div",o,[(0,s.WI)(e.$slots,"after")])):(0,s.kq)("",!0)],2)}var l=i(7860);const c={components:{TMInputTextBase:l.Z},props:{isInvalid:Boolean,modelValue:{type:String,required:!0}},emits:["update:modelValue","blur","delete","enter","focus"],computed:{className(){return{"tm-input-text-decorated_has-label-after":this.$slots.after,"tm-input-text-decorated_has-label-before":this.$slots.before}},localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{blur(){this.$refs.input.blur()},focus(){this.$refs.input.focus()},setCustomValidity(e){this.$refs.input.setCustomValidity(e)}}};var u=i(83744);const d=(0,u.Z)(c,[["render",r]]),m=d},18287:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});const s={name:"TMIntersect",props:{threshold:{type:Array,required:!1,default:()=>[0,.2]},root:{type:"undefined"!==typeof HTMLElement?HTMLElement:Object,required:!1,default:null},rootMargin:{type:String,required:!1,default:"0px 0px 0px 0px"}},emits:["leave","enter"],mounted(){this.observer=new IntersectionObserver((([{target:e,isIntersecting:t}])=>{const i=()=>this.observer.unobserve(e);t?this.$emit("enter",{unobserve:i}):this.$emit("leave",{unobserve:i})}),{threshold:this.threshold,root:this.root,rootMargin:this.rootMargin}),this.observer.observe(this.$el)},unmounted(){this.observer.disconnect()},render(){const e=this.$slots.default()||null;return Array.isArray(e)?e[0]:e}},n=s,a=n},67122:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var s=i(66252),n=i(56612);const a={__name:"karma-display",props:{value:{type:[Number,String],required:!0}},setup(e){return(t,i)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["karma-display",{positive:Number(e.value)>0,negative:Number(e.value)<0}])},(0,n.zw)(e.value),3))}};var o=i(83744);const r=(0,o.Z)(a,[["__scopeId","data-v-f6952a2a"]]),l=r},89734:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252);const n={class:"tm-labeled-checkbox"},a={class:"tm-labeled-checkbox__container"},o=["for"];function r(e,t,i,r,l,c){const u=(0,s.up)("TMSimpleCheckbox");return(0,s.wg)(),(0,s.iD)("span",n,[(0,s._)("span",a,[(0,s.Wm)(u,{class:"tm-labeled-checkbox__input",input:c.input,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["input"]),(0,s._)("label",{class:"tm-labeled-checkbox__label",for:l.forAttribute},[(0,s.WI)(e.$slots,"default")],8,o)])])}var l=i(49796);const c={name:"TMLabeledCheckbox",components:{TMSimpleCheckbox:l.Z},props:{name:{type:String,required:!0},id:{type:String,default:null},modelValue:Boolean,disabled:Boolean},emits:["update:modelValue"],data(){return{forAttribute:null}},computed:{input(){return{name:this.name,value:this.modelValue,disabled:this.disabled}}},mounted(){this.forAttribute=this.name}};var u=i(83744);const d=(0,u.Z)(c,[["render",r]]),m=d},57053:(e,t,i)=>{"use strict";i.d(t,{Z:()=>C});var s=i(66252),n=i(56612),a=i(62931),o=i(67476),r=i(35246),l=i(92710);const c=["href"],u=["src"],d={__name:"sidebar-small-banner",props:{img:{type:String,required:!0},url:{type:String,required:!0}},setup(e){const t=(0,s.Fl)((()=>(0,l.getFeatureFlag)("SIDEBAR_SMALL_BANNER")));return(i,n)=>t.value?((0,s.wg)(),(0,s.iD)("a",{key:0,class:"sidebar-small-banner",href:e.url,target:"_blank"},[(0,s._)("img",{height:"100",src:e.img,width:"300"},null,8,u)],8,c)):(0,s.kq)("",!0)}};var m=i(83744);const p=(0,m.Z)(d,[["__scopeId","data-v-1cd0bc87"]]),_=p,h=i.p+"img/reactions-banner.49870d2b.webp";var g=i(36134),v=i(71197);const T={ref:"sidebarWrapper",class:"tm-layout-sidebar"},E="stick-top",S="stick-bottom",f="margin",A="initial",b=56,I=10,y="https://u.habr.com/k2cloud_hardcode/?erid=2VSb5yCydeY",w={__name:"layout-sidebar",props:{showAdv:{type:Boolean},showBottomBanner:{type:Boolean,default:!0}},setup(e){const t=h,i=e,l=(0,a.iH)(0),c=(0,a.iH)(0),u=(0,a.iH)(A),d=(0,v.q)(),{userShowAdv:m}=(0,o.Jk)(d),p=(0,s.Fl)((()=>i.showAdv&&m.value)),{langOptions:w}=(0,g.Q)(),P=(0,s.Fl)((()=>"ru"===w.value.hl));(0,s.bv)((()=>{requestAnimationFrame((()=>{l.value=window.scrollY,k(),window.addEventListener("scroll",k,{passive:!0})}))})),(0,s.Jd)((()=>{window.removeEventListener("scroll",k)}));const C=(0,a.iH)(null);function k(){const e=C.value,t=document.querySelector(".tm-page__main > *");if(e&&t){const i=e.scrollHeight,s=window.innerHeight,n=t.scrollHeight,a=n-s,o=I/100,r=p.value?o*a:0,l=r+i-s+b,{scrollY:d}=window;if(i<=s||i>=n)return c.value=0,void(u.value=E);d<=r?(c.value=0,u.value=E):d<=l?(c.value=e.offsetTop,u.value=f):(c.value=0,u.value=S)}}return(i,o)=>((0,s.wg)(),(0,s.iD)("div",T,[(0,s._)("div",{class:(0,n.C_)(`tm-layout-sidebar__placeholder_${u.value}`)},null,2),(0,s._)("div",{ref_key:"sidebar",ref:C,class:(0,n.C_)(["tm-sexy-sidebar",`tm-sexy-sidebar_${u.value}`]),style:(0,n.j5)({"margin-top":`${c.value}px`})},[(0,s.WI)(i.$slots,"top"),p.value&&P.value?((0,s.wg)(),(0,s.j4)(_,{key:0,img:(0,a.SU)(t),url:y},null,8,["img"])):(0,s.kq)("",!0),e.showAdv?((0,s.wg)(),(0,s.iD)("div",{key:1,ref:"adBlock",class:(0,n.C_)(["tm-layout-sidebar__ads",`tm-layout-sidebar__ads_${u.value}`])},[(0,a.SU)(m)&&e.showAdv?((0,s.wg)(),(0,s.j4)(r.Z,{key:0,"adfox-params":{adfoxId:"164725680533065327",divId:"sidebarBanner",params:{pp:"g",ps:"fnps",p2:"hnxd"},class:"tm-layout-sidebar__banner tm-layout-sidebar__banner_top"},"roxot-params":{bannerName:"Right_rectangle_top-gam"},variant:"half-page"})):(0,s.kq)("",!0)],2)):((0,s.wg)(),(0,s.iD)("div",{key:2,class:(0,n.C_)(`tm-layout-sidebar__placeholder_${u.value}`)},null,2)),(0,s.WI)(i.$slots,"default"),(0,a.SU)(m)&&e.showAdv&&e.showBottomBanner?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[(0,a.SU)(m)&&e.showAdv&&e.showBottomBanner?((0,s.wg)(),(0,s.j4)(r.Z,{key:0,"adfox-params":{adfoxId:"164725691003361602",divId:"sidebarBannerBottom",params:{pp:"i",ps:"fnps",p2:"hnxg"}},class:"tm-layout-sidebar__banner tm-layout-sidebar__banner_bottom","roxot-params":{bannerName:"Right_rectangle_bottom-gam"},variant:"medium-rectangle"})):(0,s.kq)("",!0)],64)):(0,s.kq)("",!0)],6)],512))}},P=w,C=P},89523:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252);const n=["href"];function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("a",{href:r.loginUrl,rel:"nofollow",onClickCapture:t[0]||(t[0]=(...e)=>r.logEvent&&r.logEvent(...e))},[(0,s.WI)(e.$slots,"default")],40,n)}var o=i(19913);const r={name:"TMLoginLink",props:{gaEvent:{type:[String,Object],required:!1,default:null}},computed:{loginUrl(){const e=this.$route.path;return`https://habr.com/kek/v1/auth/habrahabr/?back=${e}&hl=${this.langOptions.hl}`}},methods:{logEvent(){this.gaEvent&&(0,o.IZ)(this.gaEvent)}}};var l=i(83744);const c=(0,l.Z)(r,[["render",a]]),u=c},92714:(e,t,i)=>{"use strict";i.d(t,{Z:()=>I});var s=i(66252),n=i(56612),a=i(62931),o=i(23002),r=i(91270),l=i(31655),c=i(61897),u=i(3739),d=i(39639),m=i(36134),p=i(71197);const _={class:"switcher-control-text"},h={class:"switcher-popup"},g={class:"popup-info"},v={class:"popup-radio-group"},T={class:"popup-radio"},E={class:"popup-radio"},S={class:"popup-footer"},f={__name:"markdown-switcher",props:{useMarkdownEditor:Boolean,useMarkdownSettingsKey:{required:!0,type:String},disabled:Boolean,inComments:Boolean},emits:["changeUseMarkdown"],setup(e,{emit:t}){const i=e,f=t,A=(0,a.iH)(!1),b=(0,a.iH)(!1),I=(0,a.iH)(i.useMarkdownEditor?"markdown":"wysiwyg"),y=(0,a.iH)(i.useMarkdownEditor?"markdown":"wysiwyg"),{msg:w}=(0,m.Q)(),P=(0,s.Fl)((()=>"markdown"===y.value?w("EDITOR_MARKDOWN"):w("EDITOR_WYSIWYG"))),C=(0,p.q)();function k(){y.value=i.useMarkdownEditor?"markdown":"wysiwyg"}function L(){i.disabled||(A.value=!0)}(0,s.YP)((()=>i.useMarkdownEditor),(()=>{I.value=i.useMarkdownEditor?"markdown":"wysiwyg",k()}));const N=(0,o.pm)();async function O(){const e="markdown"===I.value;b.value=!0;try{await C.updateUseMarkdown({[i.useMarkdownSettingsKey]:e}),k(),A.value=!1,f("changeUseMarkdown",e)}catch(t){N.error(t.message)}finally{b.value=!1}}function R(){I.value=i.useMarkdownEditor?"markdown":"wysiwyg",A.value=!1}const M=(0,s.Fl)((()=>i.inComments?w("EDITOR_SETTING_TITLE_COMMENTS"):w("EDITOR_SETTING_TITLE_PUBLICATION")));return(t,i)=>{const o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["markdown-switcher",{disabled:e.disabled}])},[(0,s._)("button",{class:(0,n.C_)(["switcher-control",{disabled:e.disabled}]),type:"button",onClick:L},[(0,s.Wm)(d.Z,{id:y.value,class:"control-icon",size:"24",title:P.value},null,8,["id","title"]),(0,s._)("span",_,(0,n.zw)(e.useMarkdownEditor?"Markdown":"WYSIWYG"),1)],2),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[A.value?((0,s.wg)(),(0,s.j4)(c.Z,{key:0,"no-close-button":"",title:(0,a.SU)(w)("EDITOR_SETTINGS"),onClose:R},{body:(0,s.w5)((()=>[(0,s._)("div",h,[(0,s._)("div",g,(0,n.zw)((0,a.SU)(w)("EDITOR_SETTINGS_TITLE",{type:M.value})),1),(0,s._)("div",v,[(0,s._)("div",T,[(0,s.Wm)(l.Z,{modelValue:I.value,"onUpdate:modelValue":i[0]||(i[0]=e=>I.value=e),"checked-value":"wysiwyg",name:"editor-mode",value:"wysiwyg"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,a.SU)(w)("EDITOR_WYSIWYG")),1)])),_:1},8,["modelValue"]),(0,s.Wm)(o,{class:"help-icon",target:"_blank",to:{path:"/docs/help/wysiwyg/"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u["default"],{id:"help",size:"24"})])),_:1})]),(0,s._)("div",E,[(0,s.Wm)(l.Z,{modelValue:I.value,"onUpdate:modelValue":i[1]||(i[1]=e=>I.value=e),"checked-value":"markdown",name:"editor-mode",value:"markdown"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,a.SU)(w)("EDITOR_MARKDOWN")),1)])),_:1},8,["modelValue"]),(0,s.Wm)(o,{class:"help-icon",target:"_blank",to:{path:"/docs/help/markdown/"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u["default"],{id:"help",size:"24"})])),_:1})])]),(0,s._)("div",S,[(0,s.Wm)(r.Z,{class:"popup-save","is-loading":b.value,"style-size":"small","style-type":"solid",type:"submit",onClick:O},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,a.SU)(w)("FORMS_SAVE_BUTTON_TEXT")),1)])),_:1},8,["is-loading"]),(0,s.Wm)(r.Z,{"style-size":"small","style-type":"transparent",onClick:R},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,a.SU)(w)("FORMS_CANCEL_BUTTON_TEXT")),1)])),_:1})])])])),_:1},8,["title"])):(0,s.kq)("",!0)]))],2)}}};var A=i(83744);const b=(0,A.Z)(f,[["__scopeId","data-v-14ab13ba"]]),I=b},21406:(e,t,i)=>{"use strict";i.d(t,{Z:()=>I});var s=i(66252),n=i(56612);const a={class:"tm-megapost-snippet"},o={class:"tm-megapost-snippet__tint"},r={class:"tm-megapost-snippet__header"},l=["innerHTML"],c=["innerHTML"],u={key:0,ref:"megapostHubs",class:"tm-megapost-snippet__hubs"},d=["innerHTML"],m={key:0,class:"tm-megapost-snippet__body"},p=["innerHTML"];function _(e,t,i,_,h,g){const v=(0,s.up)("router-link"),T=(0,s.up)("TMDatetime"),E=(0,s.up)("TMPublicationLink"),S=(0,s.up)("TMHubLink"),f=(0,s.up)("TMArticleFormattedBody");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",{class:"tm-megapost-snippet__wrapper",style:(0,n.j5)(g.getBackgroundStyles)},[(0,s._)("div",o,[(0,s._)("header",r,[g.companyHub?((0,s.wg)(),(0,s.j4)(v,{key:0,ref:"companyBlogName",class:"tm-megapost-snippet__link tm-megapost-snippet__company-blog",to:g.companyRoute},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:g.companyBlogName},null,8,l)])),_:1},8,["to"])):(0,s.kq)("",!0),(0,s.Wm)(E,{article:i.article,class:"tm-megapost-snippet__link tm-megapost-snippet__date"},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{ref:"megapostPublishedDate",class:"tm-megapost-snippet__datetime-published",date:new Date(i.article.timePublished)},null,8,["date"])])),_:1},8,["article"])]),(0,s.Wm)(E,{article:i.article,class:"tm-megapost-snippet__link tm-megapost-snippet__card"},{default:(0,s.w5)((()=>[(0,s._)("h2",{ref:"megapostTitle",class:"tm-megapost-snippet__title","data-test-id":"megapost-snippet-title",innerHTML:i.article.titleHtml},null,8,c)])),_:1},8,["article"]),0!==g.hubs.length?((0,s.wg)(),(0,s.iD)("ul",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.hubs,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,class:"tm-megapost-snippet__hub"},[(0,s.Wm)(S,{class:"tm-megapost-snippet__link",hub:e},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:e.titleHtml},null,8,d)])),_:2},1032,["hub"])])))),128))],512)):(0,s.kq)("",!0)])],4),g.showLead&&i.article.leadData?((0,s.wg)(),(0,s.iD)("div",m,[i.article.leadData.textHtml?((0,s.wg)(),(0,s.j4)(f,{key:0,ref:"megapostLeadText","article-text":i.article.leadData.textHtml,version:g.editorVersion},null,8,["article-text","version"])):(0,s.kq)("",!0),i.article.leadData.buttonTextHtml?((0,s.wg)(),(0,s.j4)(E,{key:1,ref:"megapostLeadReadMore",article:i.article,class:"tm-megapost-snippet__readmore"},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:i.article.leadData.buttonTextHtml},null,8,p)])),_:1},8,["article"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var h=i(77025),g=i(20666),v=i(10058),T=i(85556),E=i(58748),S=i(581);const f={name:"TMMegapostSnippet",components:{TMArticleFormattedBody:h.Z,TMHubLink:v.Z,TMDatetime:g.Z,TMPublicationLink:T.Z},props:{article:{type:Object,default:()=>{}},articleView:{type:String,default:null,validator(e){return["cards","list"].includes(e)}}},computed:{getArticleView(){return this.articleView||(0,E.g)().view},showLead(){return"cards"===this.getArticleView},getBackgroundStyles(){return!this.$isServer&&this.article.leadData&&this.article.leadData.imageUrl?{background:`url(${(0,S.getBestSizeImageSrc)(this.article.leadData.imageUrl)}) no-repeat center center / cover`}:null},editorVersion(){return parseInt(this.article.editorVersion,10)},companyHub(){return this.article.isCorporative?this.article.hubs.find((e=>"corporative"===e.type)):null},companyBlogName(){return this.companyHub.titleHtml},companyRoute(){const{alias:e}=this.companyHub;return e?{name:"COMPANY_PROFILE_ROOT",params:{name:e}}:null},hubs(){return this.article.hubs.filter((e=>e!==this.companyHub))}},mounted(){this.$forceUpdate()}};var A=i(83744);const b=(0,A.Z)(f,[["render",_]]),I=b},96973:(e,t,i)=>{"use strict";function s(e){const t=[];let i="",s="",n="",a=!1,o=!1;for(let r=0;r<e.length;r+=1){const l=e[r];"<"!==l?">"!==l?"/"===l&&a?(a=!1,o=!1,t.push([s.trim()]),s="",r+=1):a?s+=l:o?n+=l:i+=l:(a=!1,o=!0):(a=!0,o?(t.push([s,n]),r+=s.length+2,s="",n="",a=!1,o=!1):i&&(t.push(i),i=""))}return i&&t.push(i),t}function n(e,t){const{slots:i}=t,{message:n}=e,a=s(n);return a.map((e=>{if(Array.isArray(e)){const[t,s]=e;return t in i?i[t]({content:s}):s}return e}))}i.d(t,{Z:()=>r}),n.props={message:{type:String,required:!0}};const a=n,o=a,r=o},35313:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var s=i(66252),n=i(56612);const a={class:"tm-minus-reason"},o={key:0,class:"tm-minus-reason__description"};function r(e,t,i,r,l,c){const u=(0,s.up)("TMFormBuilder"),d=(0,s.up)("TMButtonBase");return(0,s.wg)(),(0,s.iD)("div",a,[i.isMultiple?((0,s.wg)(),(0,s.iD)("div",o,(0,n.zw)(e.msg("KARMA_REASON_DESCRIPTION")),1)):(0,s.kq)("",!0),(0,s.Wm)(u,{fields:c.formFields,"initial-data":l.initialData,lang:r.langOptions.hl,"onUpdate:data":c.onDataUpdate},null,8,["fields","initial-data","lang","onUpdate:data"]),(0,s.Wm)(d,{class:"tm-minus-reason__btn","data-test-id":"minus-reason-send-button",disabled:i.isVoteLoading||!l.reasonValue||0===l.reasonValue.length,"style-size":"small","style-type":"solid",type:"submit",onClick:t[0]||(t[0]=t=>e.$emit("downVote",l.reasonValue))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("ARTICLE_REASON_BUTTON_SEND")),1)])),_:1},8,["disabled"])])}var l=i(91270),c=i(51165),u=i(36134);const d={name:"TMMinusReason",components:{TMButtonBase:l.Z,TMFormBuilder:c.Z},props:{reasonsList:{type:Array,required:!0},isMultiple:{type:Boolean,default:!1},isVoteLoading:{type:Boolean,default:!1}},emits:["downVote"],setup(){const{langOptions:e}=(0,u.Q)();return{langOptions:e}},data(){return{reasonValue:null,initialData:null}},computed:{formFields(){return this.isMultiple?this.reasonsList.map((e=>({className:"tm-checkbox",name:e.id,label:e.title,type:"BaseCheckbox",validation:{required:!1}}))):[{className:"tm-radio",label:"",name:"reason",type:"BaseRadio",validation:{required:!0},options:this.reasonsList.map((e=>({name:e.title,value:e.id})))}]}},methods:{onDataUpdate(e){this.isMultiple?this.reasonValue=Object.keys(e).filter((t=>e[t])):this.reasonValue=e.reason}}};var m=i(83744);const p=(0,m.Z)(d,[["render",r]]),_=p},479:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("TMPromoPostLink"),l=(0,s.up)("TMArticleListBlock");return o.mostReadingList&&o.mostReadingList.length?((0,s.wg)(),(0,s.j4)(l,{key:0,"bookmark-module":"mostReadingList","data-list":o.mostReadingList,"ga-options":o.mostReadingGaOptions(i.gaType),layout:i.layout,spacing:i.spacing,title:e.msg("TITLE_MOST_READING")},(0,s.Nv)({_:2},[o.hasLoaded&&o.mostReadingPromoLink?{name:"lastItem",fn:(0,s.w5)((()=>[(0,s.Wm)(r,{"promo-post":o.mostReadingPromoLink,onClick:o.onPromoLinkClick},null,8,["promo-post","onClick"])])),key:"0"}:void 0]),1032,["data-list","ga-options","layout","spacing","title"])):(0,s.kq)("",!0)}var a=i(44555),o=i(91813),r=i(28653),l=i(84379),c=i(19913);const u={name:"TMMostReadingBlock",components:{TMPromoPostLink:o.Z,TMArticleListBlock:a.Z},props:{gaType:{type:String,default:"post"},layout:{type:String,default:null},spacing:{type:String,default:"around"}},computed:{mostReadingList(){return(0,r.G)().mostReadingList},hasLoaded(){return(0,l.W)().hasLoaded},mostReadingPromoLink(){return(0,l.W)().mostReadingPromoLink}},mounted(){(0,r.G)().loadMostReadingList()},methods:{mostReadingGaOptions(e){return{category:"tm_block",action:`read_now_${e}`,label:{post:"post",comment:"comment"}}},onPromoLinkClick(){(0,c.IZ)(`tm_block_read_now_${this.gaType}`)}}};var d=i(83744);const m=(0,d.Z)(u,[["render",n]]),p=m},58675:(e,t,i)=>{"use strict";i.d(t,{Z:()=>B});var s=i(66252);const n={key:1,ref:"container",class:"tm-multiwidget-block__list"};function a(e,t,i,a,o,r){const l=(0,s.up)("TMPlaceholder"),c=(0,s.up)("TMArticleSnippet"),u=(0,s.up)("TMDataIcons"),d=(0,s.up)("TMBorderedCard"),m=(0,s.up)("TMMultiWidgetEventCard"),p=(0,s.up)("TMVacancyCard"),_=(0,s.up)("TMBlock");return i.isLoading||i.blocks.length?((0,s.wg)(),(0,s.j4)(_,{key:0,"body-variant":"condensed-slim","header-variant":"borderless",title:r.blockTitle,"title-variant":"large"},{default:(0,s.w5)((()=>[i.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:0,times:5,type:"articleCards"})):((0,s.wg)(),(0,s.iD)("div",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.blocks,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},["post"===e.type?((0,s.wg)(),(0,s.j4)(d,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{article:e.content,"article-view":"cards",class:"tm-multiwidget-block__article",lang:e.content.lang,"use-link":"","with-author":!1,"with-hubs":!1,"with-labels":!1,"with-lead":!1,onLinkClick:t=>r.logBrandingClick(e.uuid)},null,8,["article","lang","onLinkClick"]),(0,s.Wm)(u,{article:e.content,"bookmark-module":r.bookmarkModule,"icons-list":["votes","comments","favorite","share"],onBookmarkChange:t=>r.bookmarkChangeHandler(t,e.content)},null,8,["article","bookmark-module","onBookmarkChange"])])),_:2},1024)):"event"===e.type?((0,s.wg)(),(0,s.j4)(m,{key:1,event:e.content,onLinkClick:t=>r.logBrandingClick(e.uuid)},null,8,["event","onLinkClick"])):"vacancy"===e.type?((0,s.wg)(),(0,s.j4)(p,{key:2,vacancy:e.content,onLinkClick:t=>r.logBrandingClick(e.uuid)},null,8,["vacancy","onLinkClick"])):(0,s.kq)("",!0)])))),128))],512))])),_:1},8,["title"])):(0,s.kq)("",!0)}var o=i(94574),r=i(70352),l=i(81760),c=i(35315);function u(e,t,i,n,a,o){const r=(0,s.up)("TMArticleTitle"),l=(0,s.up)("TMDatetime"),c=(0,s.up)("TMBorderedCard");return(0,s.wg)(),(0,s.j4)(c,{type:"event"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{article:i.event.eventPost,lang:i.event.eventPost.lang,tag:"h1","use-link":"",onLinkClick:t[0]||(t[0]=t=>e.$emit("link-click",t))},null,8,["article","lang"]),(0,s.Wm)(l,{"absolute-date":"",date:i.event.timeHappened,utc:""},null,8,["date"])])),_:1})}var d=i(76769),m=i(20666);const p={name:"TMMultiWidgetEventCard",components:{TMBorderedCard:l.Z,TMArticleTitle:d.Z,TMDatetime:m.Z},props:{event:{type:Object,required:!0}},emits:["link-click"]};var _=i(83744);const h=(0,_.Z)(p,[["render",u]]),g=h;var v=i(31596),T=i(56612);const E={class:"tm-vacancy-card__location"},S={class:"tm-vacancy-card__salary"},f={key:0,class:"tm-vacancy-card__tags"},A=["textContent"];function b(e,t,i,n,a,o){const r=(0,s.up)("TMTitle"),l=(0,s.up)("TMInlineList"),c=(0,s.up)("TMBorderedCard");return(0,s.wg)(),(0,s.j4)(c,{record:i.vacancy,type:"vacancy"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{"external-link":"","link-props":o.vacancyLinkProps,tag:"h1",title:i.vacancy.title,to:i.vacancy.url,"use-link":"",onLinkClick:t[0]||(t[0]=t=>e.$emit("link-click",t))},null,8,["link-props","title","to"]),(0,s._)("div",E,(0,T.zw)(o.location),1),(0,s._)("div",S,(0,T.zw)(o.salary),1),o.tags&&o.tags.length?((0,s.wg)(),(0,s.iD)("div",f,[(0,s.Wm)(l,{items:o.tags,"separator-color":"inherit"},{default:(0,s.w5)((({item:e})=>[(0,s._)("span",{textContent:(0,T.zw)(e)},null,8,A)])),_:1},8,["items"])])):(0,s.kq)("",!0)])),_:1},8,["record"])}var I=i(42135),y=i(69780),w=i(61739);const P={name:"TMVacancyCard",components:{TMBorderedCard:l.Z,TMTitle:y.Z,TMInlineList:I.Z},props:{vacancy:{type:Object,required:!0}},emits:["link-click"],computed:{location(){return w.z.location(this.vacancy,this.msg)},salary(){return w.z.salary(this.vacancy,this.msg)},tags(){return w.z.tags(this.vacancy,this.msg)},vacancyLinkProps(){return{rel:"noreferrer noopener",target:"_blank"}}}},C=(0,_.Z)(P,[["render",b]]),k=C;var L=i(10390),N=i(58748),O=i(71197),R=i(99691),M=i(70806);const U={name:"TMMultiwidgetBlock",components:{TMPlaceholder:v.Z,TMBlock:r.Z,TMVacancyCard:k,TMMultiWidgetEventCard:g,TMDataIcons:c.Z,TMArticleSnippet:o.Z,TMBorderedCard:l.Z},props:{blocks:{type:Array,required:!0},isLoading:{type:Boolean,default:!1},place:{type:String,default:"feed",validator:(0,R.HZ)(["feed","publication"])},articleId:{type:String,default:null},widgetUuid:{type:String,default:null},companyAlias:{type:String,default:null}},setup(e){const t=(0,s.Fl)((()=>({blockUuid:e.widgetUuid,company:e.companyAlias,linkUuids:e.blocks.map((e=>e.uuid))}))),i=(0,L.s)(t);return{container:i}},computed:{blockTitle(){return this.msg("MULTI_WIDGET_TITLE")},bookmarkModule(){return"feed"===this.place?"companies":"articlesList"}},methods:{logBrandingClick(e){this.widgetUuid&&(0,M.o)({uuid:(0,O.q)().uuid,blockUuid:this.widgetUuid,company:this.companyAlias,linkUuid:e})},bookmarkChangeHandler(e,t){(0,N.g)().setBookmarkedMultiwidget(t.id,this.articleId,e)}}},D=(0,_.Z)(U,[["render",a]]),B=D},11828:(e,t,i)=>{"use strict";i.d(t,{Z:()=>E});var s=i(66252),n=i(56612);const a={class:"tm-navigation-dropdown__wrapper"},o={class:"tm-navigation-dropdown__button-text"},r=["onClick"],l={key:0,class:"tm-navigation-dropdown__option-count"};function c(e,t,i,c,u,d){const m=(0,s.up)("TMSvgImg"),p=(0,s.Q2)("hotkey");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-navigation-dropdown",e.bem("tm-navigation-dropdown",{variant:e.variant})])},[(0,s._)("div",a,[e.transformedOptions.length?(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",{key:0,ref:"buttonRef",class:(0,n.C_)(["tm-navigation-dropdown__button",e.bem("tm-navigation-dropdown__button",{variant:e.variant})]),onClick:t[0]||(t[0]=(...t)=>e.toggleOptions&&e.toggleOptions(...t))},[(0,s._)("div",o,(0,n.zw)(e.labelOfCurrentValue),1),(0,s.Wm)(m,{id:"arrow-down",class:(0,n.C_)(["icon_dropdown-arrow",{"icon_dropdown-arrow-rotated":e.optionsVisible}])},null,8,["class"])],2)),[[p,{esc:e.closeOptions}]]):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"default")]),e.transformedOptions.length?((0,s.wg)(),(0,s.iD)("ul",{key:0,ref:"optionsRef",class:(0,n.C_)(["tm-navigation-dropdown__options",e.getClass]),style:(0,n.j5)(e.getStyles)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.transformedOptions,((t,i)=>((0,s.wg)(),(0,s.iD)("li",{key:`${t.optionValue}_${i}`,class:(0,n.C_)(["tm-navigation-dropdown__option",e.activeOptionIndex===i&&"tm-navigation-dropdown__option_active"])},[(0,s._)("button",{class:(0,n.C_)(e.bem("tm-navigation-dropdown__option-button",{variant:e.variant})),onClick:i=>e.handleOptionClick(t)},[(0,s.Uk)((0,n.zw)(t.label)+" ",1),t.count?((0,s.wg)(),(0,s.iD)("span",l,(0,n.zw)(e.getCount(t.count)),1)):(0,s.kq)("",!0)],10,r)],2)))),128))],6)):(0,s.kq)("",!0)],2)}var u=i(62931),d=i(67476),m=i(39639),p=i(84183),_=i(25109),h=i(87934);const g={name:"TMNavigationDropdown",components:{TMSvgImg:m.Z},props:{sections:{type:Array,default:null},options:{type:Array,default:()=>[]},currentValue:{type:String,default:null},customTitle:{type:String,default:null},variant:{type:String,default:null}},emits:["change"],setup(e){const t=(0,p.s)(),{isDesktop:i,isPwa:n}=(0,d.Jk)(t),a=(0,u.iH)(null),o=(0,u.iH)(null),r=(0,u.iH)(null),l=(0,u.iH)(!1);return(0,s.YP)((()=>[o.value,l.value,e.options,e.sections]),(([e,t])=>{r.value=e&&t?`max-height: ${e.scrollHeight}px`:null})),{optionsVisible:l,optionsRef:o,buttonRef:a,maxHeightStyles:r,isDesktop:i,isPwa:n}},computed:{transformedOptions(){return this.sections?this.sections.map((e=>({label:e.title,value:e.route.name,...e}))):this.options},activeOptionIndex(){let e=this.currentValue;const t="_PAGES",i=["ARTICLES_LIST_BOOKMARKED","POSTS_LIST_BOOKMARKED","NEWS_LIST_BOOKMARKED","COMMENTS_LIST_BOOKMARKED"];return this.currentValue&&this.currentValue.includes(t)&&(e=e.replace(t,"")),this.currentValue&&i.includes(this.currentValue)&&"filter-tabs-mobile"!==this.variant&&(e="USER_BOOKMARKED"),this.transformedOptions.findIndex((t=>t.value===e||t.optionValue===e))},getStyles(){return this.optionsVisible&&this.maxHeightStyles},labelOfCurrentValue(){if(this.sections){const e=this.sections.find((e=>{const t=e.route.name===this.$route.name;if(e.route.params&&this.$route.params){let i;const s=Object.keys(e.route.params);return 0===s.length?i=!0:(i=!1,s.forEach((t=>{i=this.$route.params[t]===e.route.params[t]}))),t&&i}return t}));if(e)return e.title}if(this.customTitle)return this.customTitle;const e=this.activeOptionIndex>0?this.activeOptionIndex:0;return this.transformedOptions[e].label},getClass(){return{"tm-navigation-dropdown__options_absolute":this.isDesktop}}},methods:{getCount(e){return e&&0!==Number(e)?(0,h.O)(e):""},handleOptionClick(e){e.route?this.isPwa?this.$router.replace(e.route):this.$router.push(e.route):e.value!==this.currentValue&&(this.$emit("change",e),this.optionsVisible=!1,this.buttonRef.focus())},toggleOptions(){this.optionsVisible=!this.optionsVisible,this.optionsVisible?document.addEventListener("click",this.listenClickOutside):document.removeEventListener("click",this.listenClickOutside)},closeOptions(){this.optionsVisible=!1,document.removeEventListener("click",this.listenClickOutside)},listenClickOutside(e){this.optionsVisible&&!this.$el.contains(e.target)&&this.toggleOptions()},bem:_.P}};var v=i(83744);const T=(0,v.Z)(g,[["render",c]]),E=T},53588:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var s=i(66252),n=i(58061),a=i(56612);const o={class:"tm-navigation-filters-spoiler"},r={class:"tm-navigation-filters-spoiler__wrapper"};function l(e,t,i,l,c,u){const d=(0,s.up)("TMSvgImg"),m=(0,s.Q2)("hotkey");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",r,[i.hasButton?(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",{key:0,ref:"button",class:"tm-navigation-filters-spoiler__button","data-test-id":"nav-filters-button",type:"button",onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>u.toggleOptions&&u.toggleOptions(...e)),["prevent"]))},[(0,s.WI)(e.$slots,"label"),(0,s.Wm)(d,{id:"arrow-down",class:(0,a.C_)(["icon_dropdown-arrow",{"icon_dropdown-arrow-rotated":u.visibleModel}])},null,8,["class"])])),[[m,{esc:u.closeOptions}]]):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"afterButton")]),(0,s._)("div",{ref:"content",class:(0,a.C_)(u.bem("tm-navigation-filters-spoiler__content",{transitions:c.enableTransitions})),style:(0,a.j5)(u.getStyles),onTransitionend:t[1]||(t[1]=(0,n.iM)(((...e)=>u.onTransitionEnd&&u.onTransitionEnd(...e)),["self"]))},[(0,s.WI)(e.$slots,"content",{contentVisible:u.visibleModel})],38)])}var c=i(39639),u=i(25109);const d={name:"TMNavigationFiltersSpoiler",components:{TMSvgImg:c.Z},props:{useVModel:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},hasButton:{type:Boolean,default:!0}},emits:["update:modelValue","toggle"],data(){return{contentVisible:!1,maxHeight:null,overflow:"hidden",enableTransitions:!1,contentMutationObserver:null}},computed:{visibleModel:{get(){return this.useVModel?this.modelValue:this.contentVisible},set(e){this.useVModel?this.$emit("update:modelValue",e):this.contentVisible=e}},getStyles(){return this.visibleModel?{maxHeight:this.maxHeight,overflow:this.overflow}:null}},mounted(){this.useVModel&&this.modelValue&&(this.overflow="visible"),this.calculateMaxHeight(),this.initMutationObserver(),this.$nextTick((()=>{this.enableTransitions=!0}))},beforeUnmount(){this.contentMutationObserver&&this.contentMutationObserver.disconnect()},methods:{bem:u.P,onTransitionEnd(){this.visibleModel&&(this.overflow="visible")},calculateMaxHeight(){this.maxHeight=`${this.$refs.content.scrollHeight}px`},toggleOptions(){this.overflow="hidden",this.calculateMaxHeight(),this.visibleModel=!this.visibleModel,this.$emit("toggle",this.visibleModel)},closeOptions(){this.visibleModel=!1},initMutationObserver(){this.contentMutationObserver=new MutationObserver((()=>{this.enableTransitions=!1,this.calculateMaxHeight(),setTimeout((()=>{this.enableTransitions=!0}),0)})),this.contentMutationObserver.observe(this.$refs.content,{childList:!0,subtree:!0})}}};var m=i(83744);const p=(0,m.Z)(d,[["render",l]]),_=p},36991:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252),n=i(56612);const a={class:"tm-navigation-filters-tabs__list"},o=["tabindex","onClick"];function r(e,t,i,r,l,c){return(0,s.wg)(),(0,s.iD)("ul",a,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:`${e.label}`,class:"tm-navigation-filters-tabs__option","data-test-id":"nav-filters-option"},[(0,s._)("button",{class:(0,n.C_)(["tm-navigation-filters-tabs__option-button",{"tm-navigation-filters-tabs__option-button_active":i.activeIndex===t}]),tabindex:c.getTabIndex,onClick:e=>c.setFilter(t)},(0,n.zw)(e.label),11,o)])))),128))])}const l={name:"TMNavigationFiltersTabs",props:{options:{type:Array,required:!0},tabType:{type:String,default:"root"},activeIndex:{type:Number,required:!0},applyImmidiate:{type:Boolean,default:!1},contentVisible:{type:Boolean,default:!1}},emits:["setIndex","applyNavigationFilter"],computed:{getTabIndex(){return this.contentVisible?0:-1}},methods:{setFilter(e){if(this.applyImmidiate)return void this.$emit("applyNavigationFilter",e);const t="main"===this.tabType,i={};t?i.mainActiveIndex=e:(i.rootActiveIndex=e,i.mainActiveIndex=0),this.$emit("setIndex",i,t)},isOptionActive(e,t=!1){const{value:i,params:s}=e;if(t&&s){const t=!!this.$route.matched.find((e=>e.name===i));let s;const n=Object.keys(e.params);return 0===n.length?s=!0:(s=!1,n.forEach((t=>{const i=this.$route.params&&"undefined"!==typeof this.$route.params[t]&&this.$route.params[t],n=e.params&&"undefined"!==typeof e.params[t]&&e.params[t];s=i===n}))),s&&t}return!!this.$route.matched.find((e=>e.name===i))}}};var c=i(83744);const u=(0,c.Z)(l,[["render",r]]),d=u},11044:(e,t,i)=>{"use strict";i.d(t,{Z:()=>A});var s=i(66252),n=i(56612);const a={class:"tm-navigation-filters__options"},o={key:0,class:"tm-navigation-filters__list-label"},r={class:"tm-navigation-filters__tabs"},l={key:1,class:"tm-navigation-filters__list-label"},c={key:2,class:"tm-navigation-filters__tabs"},u={class:"tm-navigation-filters__list-label"},d={class:"tm-navigation-filters__list"},m=["tabindex","onClick"];function p(e,t,i,p,_,h){const g=(0,s.up)("TMNavigationFiltersTabs"),v=(0,s.up)("TMButtonBase"),T=(0,s.up)("TMNavigationFiltersSpoiler");return(0,s.wg)(),(0,s.j4)(T,{ref:"navigationFiltersSpoiler","has-button":i.options.length>0},{label:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(h.title),1)])),afterButton:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),content:(0,s.w5)((({contentVisible:p})=>[(0,s._)("div",a,[i.options[_.rootActiveIndex]?((0,s.wg)(),(0,s.iD)("div",o,(0,n.zw)(i.options[_.rootActiveIndex].rootLabel),1)):(0,s.kq)("",!0),(0,s._)("div",r,[(0,s.Wm)(g,{"active-index":_.rootActiveIndex,"content-visible":p,options:i.options,"tab-type":"root",onApplyNavigationFilter:h.applyNavigationFilter,onSetIndex:h.setIndex},null,8,["active-index","content-visible","options","onApplyNavigationFilter","onSetIndex"])]),i.options[_.rootActiveIndex]&&i.options[_.rootActiveIndex].mainLabel?((0,s.wg)(),(0,s.iD)("div",l,(0,n.zw)(i.options[_.rootActiveIndex].mainLabel),1)):(0,s.kq)("",!0),i.options[_.rootActiveIndex]&&i.options[_.rootActiveIndex].mainLabel?((0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(g,{"active-index":_.mainActiveIndex,"content-visible":p,options:i.options[_.rootActiveIndex].children,"tab-type":"main",onApplyNavigationFilter:h.applyNavigationFilter,onSetIndex:h.setIndex},null,8,["active-index","content-visible","options","onApplyNavigationFilter","onSetIndex"])])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.extraOptions,(({value:e,label:t,children:i})=>((0,s.wg)(),(0,s.iD)("div",{key:e},[(0,s._)("div",u,(0,n.zw)(t),1),(0,s._)("ul",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i,(({label:t},i)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"tm-navigation-filters__option","data-test-id":"nav-filters-option"},[(0,s._)("button",{class:(0,n.C_)(["tm-navigation-filters__option-button",{"tm-navigation-filters__option-button_active":_.extraOptionsActiveMap[e]===i}]),tabindex:h.getTabIndex(p),onClick:t=>h.setExtraOptionActive(e,i)},(0,n.zw)(t),11,m)])))),128))])])))),128)),(0,s.Wm)(v,{class:"tm-navigation-filters__apply","data-test-id":"nav-filters-apply","style-size":"small","style-type":"solid",tabindex:h.getTabIndex(p),type:"button",onClick:t[0]||(t[0]=e=>h.applyNavigationFilter({rootActiveIndex:_.rootActiveIndex,mainActiveIndex:_.mainActiveIndex}))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("NAV_APPLY")),1)])),_:2},1032,["tabindex"])])])),_:3},8,["has-button"])}var _=i(91270),h=i(53588),g=i(36991),v=i(84183),T=i(18761);const E={name:"TMNavigationFilters",components:{TMNavigationFiltersTabs:g.Z,TMButtonBase:_.Z,TMNavigationFiltersSpoiler:h.Z},props:{options:{type:Array,required:!0},extraOptions:{type:Array,default:()=>[]}},emits:["applyFilter"],data(){const e=this.options.findIndex((e=>e.children?e.children.some((e=>this.isOptionActive(e,!0))):this.isOptionActive(e,!0))),t=e>-1&&this.options[e].children,i=t&&Array.isArray(t)?(0,T.qr)(t,(e=>this.isOptionActive(e,!0))):null,s=[];this.options.forEach(((t,n)=>{s[n]=e===n?i:0}));const n={};return this.extraOptions.forEach((e=>{const t=e.children.map((e=>this.isOptionActive(e,!0))).lastIndexOf(!0);n[e.value]=-1===t?0:t})),{optionsVisible:!1,rootActiveIndex:e,mainActiveIndex:i,extraOptionsActiveMap:n,tabsHistory:s}},computed:{getStyles(){return this.optionsVisible&&this.maxHeightStyles},title(){return this.$route.meta.navTitle?this.msg(this.$route.meta.navTitle,this.$route.params||{}):""}},methods:{setIndex(e,t){const{tabsHistory:i}=this;this.rootActiveIndex="number"===typeof e.rootActiveIndex?e.rootActiveIndex:this.rootActiveIndex,this.mainActiveIndex=t?e.mainActiveIndex:i[this.rootActiveIndex],i[this.rootActiveIndex]=this.mainActiveIndex},setExtraOptionActive(e,t){this.extraOptionsActiveMap={...this.extraOptionsActiveMap,[e]:t}},getTabIndex(e){return e?0:-1},isOptionActive(e,t=!1){const{value:i,params:s}=e;if(t&&s){const t=!!this.$route.matched.find((e=>e.name===i));let s;const n=Object.keys(e.params);return 0===n.length?s=!0:(s=!1,n.forEach((t=>{const i=this.$route.params&&"undefined"!==typeof this.$route.params[t]&&this.$route.params[t],n=e.params&&"undefined"!==typeof e.params[t]&&e.params[t];s=i===n}))),s&&t}return!!this.$route.matched.find((e=>e.name===i))},applyNavigationFilter(){const e=this.options[this.rootActiveIndex],t=e.children?e.children[this.mainActiveIndex]:e;let i={};Object.entries(this.extraOptionsActiveMap).forEach((([e,t])=>{const s=this.extraOptions.find((t=>t.value===e));i={...i,...s.children[t].params}}));const s={name:t.value,params:{...t.params,...i}};this.$emit("applyFilter",s),this.$refs.navigationFiltersSpoiler.toggleOptions(),(0,v.s)().isPwa?this.$router.replace(s):this.$router.push(s)}}};var S=i(83744);const f=(0,S.Z)(E,[["render",p]]),A=f},83308:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252);const n={class:"tm-navigation-search__input"};function a(e,t,i,a,o,r){const l=(0,s.up)("TMSvgIcon"),c=(0,s.up)("TMInputTextDecorated");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(c,{ref:"input",autocomplete:"off",maxlength:i.maxlength,"model-value":r.value,name:"searchQuery",placeholder:i.placeholder||e.msg("SEARCH_INPUT_PLACEHOLDER"),"onUpdate:modelValue":r.onInputChange},{after:(0,s.w5)((()=>[(0,s.Wm)(l,{id:"input-search",class:"tm-search__icon"})])),_:1},8,["maxlength","model-value","placeholder","onUpdate:modelValue"])])}var o=i(91296),r=i.n(o),l=i(8381),c=i(3739);const u={name:"TMNavigationSearch",components:{TMInputTextDecorated:l.Z,TMSvgIcon:c["default"]},props:{placeholder:{type:String,default:null},maxlength:{type:Number,default:50}},computed:{value:{get(){return this.$route.query.q}}},mounted(){void 0!==this.$route.query.q&&this.$refs.input.focus()},methods:{onInputChange:r()((function(e){const t=-1!==["COMPANIES","COMPANIES_PAGES"].indexOf(this.$route.name),i="HUBS"===this.$route.name;let s=3;if(t&&(s=2),i&&(s=1),e&&e.length<s)return;const n={query:{q:e},params:{pageNum:1}};this.$router.push(n)}),500)}};var d=i(83744);const m=(0,d.Z)(u,[["render",a]]),p=m},55398:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ee});var s=i(66252),n=i(62931),a=i(70352),o=i(56612),r=i(23002),l=i(34948),c=i(34750),u=i(20666),d=i(85556),m=i(39639),p=i(71197),_=i(87934);const h={class:"news-block-item","data-test-id":"news_block_item"},g={class:"title"},v=["innerHTML"],T={class:"meta"},E={class:"comments"},S={"data-test-id":"news_block_comments_count"},f={key:0,class:"comments-unread","data-test-id":"news_block_comments_count_unread"},A=(0,s.aZ)({__name:"news-block-item",props:{newsItem:{}},emits:["title-click","comments-click"],setup(e){const t=(0,p.q)(),i=(0,n.iH)(null);return(0,s.wF)((()=>{if(t.isLoggedIn){const{relatedData:t}=e.newsItem;null!==t&&void 0!==t&&t.unreadCommentsCount&&(i.value=(0,_.j)(t.unreadCommentsCount))}else if("undefined"!==typeof indexedDB){const{id:t,statistics:s}=e.newsItem;(0,l.U2)(t).then(((e=0)=>{const t=Math.max(s.commentsCount-e,0);t&&(i.value=(0,_.j)(t))}))}})),(e,t)=>((0,s.wg)(),(0,s.iD)("li",h,[(0,s._)("h3",g,[(0,s.Wm)(d.Z,{article:e.newsItem,class:"title-link title",onClickCapture:t[0]||(t[0]=t=>e.$emit("title-click"))},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:e.newsItem.titleHtml},null,8,v)])),_:1},8,["article"])]),(0,s._)("div",T,[e.newsItem.timePublished?((0,s.wg)(),(0,s.j4)(u.Z,{key:0,class:"date",date:new Date(e.newsItem.timePublished),"hide-today":!0,"show-full-date-time":!0},null,8,["date"])):(0,s.kq)("",!0),(0,s.Wm)(c.Z,{article:e.newsItem,class:"comments-link",onClickCapture:t[1]||(t[1]=t=>e.$emit("comments-click"))},{default:(0,s.w5)((()=>[(0,s._)("span",E,[(0,s.Wm)(m.Z,{id:"counter-comments",class:"comments-icon",size:"24"}),(0,s._)("span",S,(0,o.zw)(e.newsItem.statistics.commentsCount),1),i.value?((0,s.wg)(),(0,s.iD)("span",f,(0,o.zw)(i.value),1)):(0,s.kq)("",!0)])])),_:1},8,["article"])])]))}});var b=i(83744);const I=(0,b.Z)(A,[["__scopeId","data-v-e4a849bf"]]),y=I;var w=i(2372),P=i(15891);const C={class:"news-block-item-placeholder"},k=(0,s.aZ)({__name:"news-block-item-placeholder",setup(e){const t=(0,P.r)(140,300),i=(0,P.r)(240,280);return(e,a)=>((0,s.wg)(),(0,s.iD)("div",C,[(0,s._)("div",{class:"header","data-allow-mismatch":"",style:(0,o.j5)({width:`${(0,n.SU)(t)}px`})},null,4),(0,s._)("div",{class:"meta","data-allow-mismatch":"",style:(0,o.j5)({width:`${(0,n.SU)(i)}px`})},null,4)]))}}),L=(0,b.Z)(k,[["__scopeId","data-v-998e7e10"]]),N=L,O={class:"tm-news-block-layout"},R={class:"items"},M={class:"footer"},U=(0,s.aZ)({__name:"news-block-layout",props:{isLoading:{type:Boolean,default:!1},showPlaceholder:{type:Boolean,default:!1},placeholdersCount:{default:5}},setup(e){return(e,t)=>((0,s.wg)(),(0,s.iD)("div",O,[(0,s._)("ul",R,[e.isLoading&&e.showPlaceholder?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(e.placeholdersCount,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:"item","data-test-id":"news_block_item_loading"},[(0,s.Wm)(N)])))),128)):(0,s.WI)(e.$slots,"items",{key:1})]),(0,s._)("div",M,[e.isLoading&&!e.showPlaceholder?((0,s.wg)(),(0,s.j4)(w.Z,{key:0})):(0,s.WI)(e.$slots,"footer",{key:1})])]))}}),D=(0,b.Z)(U,[["__scopeId","data-v-975853af"]]),B=D;var H=i(36134),F=i(19913),V=i(79356);const $=5,W=(0,s.aZ)({__name:"news-block-list",props:{selection:{default:"date"},companyTitle:{default:()=>{}},companyAlias:{default:()=>{}},flowName:{default:()=>{}},hubName:{default:()=>{}},excludedIds:{default:()=>[]}},emits:["has-news-change"],setup(e,{emit:t}){const i=t,{langOptions:a,msg:l}=(0,H.Q)(),c=(0,n.iH)(!0),u=(0,n.iH)([]),d=(0,n.iH)(null),m=(0,s.Fl)((()=>Boolean(e.companyAlias))),p=(0,s.Fl)((()=>Boolean(e.flowName))),_=(0,s.Fl)((()=>Boolean(e.hubName))),h=(0,s.Fl)((()=>_.value?{context_hub_alias:e.hubName}:p.value?{context_flow_alias:e.flowName}:m.value?{context_company_alias:e.companyAlias}:{})),g=(0,s.Fl)((()=>{if(m.value)return l("NEWS_ALL_NEWS_COMPANY",{companyTitle:e.companyTitle});if(p.value){var t;const i=null===(t=e.flowName)||void 0===t?void 0:t.toUpperCase(),s=l(`NAV_FLOW_${i}`);return l("NEWS_ALL_NEWS_FLOW",{flowTitle:s})}return l("NEWS_ALL_NEWS")})),v=(0,s.Fl)((()=>m.value?"NEWS_LIST_BY_COMPANY":p.value?"NEWS_LIST_BY_FLOW_ALL":"NEWS_LIST_ALL")),T=(0,s.Fl)((()=>{const e=(d.value??0)>2?"#more-news":null;return{name:v.value,params:{hl:a.value.hl},...e?{hash:e}:{}}})),E=(0,s.Fl)((()=>(d.value??0)>1&&u.value.length===$));(0,s.bv)((()=>{f({pageNum:1})}));const S=(0,r.pm)();async function f({pageNum:t}){const s={...a.value,...h.value,selection:e.selection,excludedIds:e.excludedIds,extend_context:!1,per_page:$,page_num:t};c.value=!0;try{const{pagesCount:e,newsIds:t,newsRefs:i}=await(0,V.Pq)(s);if(i&&t){const s=t.flatMap((e=>i[e]??[]));u.value.push(...s),d.value=e}}catch(n){u.value.length&&S.error(n.message)}finally{c.value=!1,i("has-news-change",!!u.value.length)}}function A(){b("more"),f({pageNum:2})}function b(e){(0,F.IZ)(`tm_block_news_${e}`)}return(e,t)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(B,{"is-loading":c.value,"show-placeholder":!d.value&&!u.value.length},{items:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.value,(e=>((0,s.wg)(),(0,s.j4)(y,{key:e.id,class:"tm-news-block__item","news-item":e,onCommentsClick:t[0]||(t[0]=e=>b("comments")),onTitleClick:t[1]||(t[1]=e=>b("title"))},null,8,["news-item"])))),128))])),footer:(0,s.w5)((()=>[E.value?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"tm-news-block__all","data-test-id":"news_block_more",type:"button",onClick:A},(0,o.zw)((0,n.SU)(l)("SHOW_MORE")),1)):((0,s.wg)(),(0,s.j4)(i,{key:1,class:"tm-news-block__all","data-test-id":"news_block_all",to:T.value,onClick:t[2]||(t[2]=e=>b("all_news"))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(g.value),1)])),_:1},8,["to"]))])),_:1},8,["is-loading","show-placeholder"])}}}),G=(0,b.Z)(W,[["__scopeId","data-v-764be224"]]),x=G,q={class:"tm-options-switch"},Y=["data-active","disabled","onClick"];function Z(e,t,i,n,a,r){return(0,s.wg)(),(0,s.iD)("div",q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.tabs,(e=>((0,s.wg)(),(0,s.iD)("button",{key:e.value,class:(0,o.C_)(["tm-options-switch__item",r.bem("tm-options-switch__item",{active:r.isActive(e)})]),"data-active":r.isActive(e)||null,disabled:r.isActive(e),onClick:t=>r.select(e)},(0,o.zw)(e.label),11,Y)))),128))])}var j=i(25109);const K={name:"TMSmallTabs",props:{activeTab:{type:[String,Number],default:null},tabs:{type:Array,required:!0}},emits:["change"],methods:{bem:j.P,select(e){this.$emit("change",e.value)},isActive(e){return e.value===this.activeTab}}},z=(0,b.Z)(K,[["render",Z]]),Q=z,X=(0,s.aZ)({__name:"news-block",props:{companyTitle:{default:()=>{}},companyAlias:{default:()=>{}},flowName:{default:()=>{}},hubName:{default:()=>{}},showTypeNav:{type:Boolean,default:!0},defaultSelection:{default:"date"},excludedIds:{default:()=>[]}},setup(e){const{msg:t}=(0,H.Q)(),i=(0,n.iH)(!0),o=(0,n.iH)(e.defaultSelection),r=(0,s.Fl)((()=>[{value:"date",label:t("NAV_TITLE_LATEST").toLowerCase()},{value:"rating",label:t("NAV_BEST").toLowerCase()}]));function l(e){o.value=e;const t="date"===e?"filter_all":"filter_best";(0,F.IZ)(`tm_block_news_${t}`)}function c(e){i.value=e}return(e,u)=>i.value?((0,s.wg)(),(0,s.j4)(a.Z,{key:0,"header-variant":"borderless",title:(0,n.SU)(t)("NAV_NEWS"),"title-tag":"h2"},(0,s.Nv)({default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,[((0,s.wg)(),(0,s.j4)(x,{key:o.value,"company-alias":e.companyAlias,"company-title":e.companyTitle,"excluded-ids":e.excludedIds,"flow-name":e.flowName,"hub-name":e.hubName,selection:o.value,onHasNewsChange:c},null,8,["company-alias","company-title","excluded-ids","flow-name","hub-name","selection"]))],1024))])),_:2},[e.showTypeNav?{name:"block-settings",fn:(0,s.w5)((()=>[(0,s.Wm)(Q,{"active-tab":o.value,tabs:r.value,onChange:l},null,8,["active-tab","tabs"])])),key:"0"}:void 0]),1032,["title"])):(0,s.kq)("",!0)}}),J=X,ee=J},88098:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(56612);const a={key:0,class:"tm-notice__icon"},o={class:"tm-notice__inner"},r={key:0,class:"tm-notice__title"},l={class:"tm-notice__content","data-test-id":"notice-content"};function c(e,t,i,c,u,d){return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-notice",`tm-notice_${i.type}`])},[e.$slots.icon?((0,s.wg)(),(0,s.iD)("div",a,[(0,s.WI)(e.$slots,"icon")])):(0,s.kq)("",!0),(0,s._)("div",o,[e.$slots.title?((0,s.wg)(),(0,s.iD)("div",r,[(0,s.WI)(e.$slots,"title")])):(0,s.kq)("",!0),(0,s._)("div",l,[(0,s.WI)(e.$slots,"default")])])],2)}function u(e){const t=["info","negative","positive","neutral","warning"];return t.includes(e)}const d={required:!0,type:String,validator:u},m={name:"TMNotice",props:{type:d}};var p=i(83744);const _=(0,p.Z)(m,[["render",c]]),h=_},18490:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252),n=i(58061);const a={class:"tm-overlay"};function o(e,t,i,o,r,l){const c=(0,s.Q2)("hotkey");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",a,[t[2]||(t[2]=(0,s._)("div",{class:"tm-overlay__background"},null,-1)),(0,s._)("div",{ref:"inner",class:"tm-overlay__inner","data-scroll-target":"","data-test-id":"overlay-inner",onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>l.onClick&&l.onClick(...e)),["self"])),onMousedown:t[1]||(t[1]=(...e)=>l.onMousedown&&l.onMousedown(...e))},[(0,s.WI)(e.$slots,"default")],544)])),[[c,{esc:()=>e.$emit("close")}]])}const r={name:"TMOverlay",emits:["close"],data(){return{mouseTarget:null}},mounted(){this.mouseTarget=this.$refs.inner},methods:{onClick(){this.mouseTarget===this.$refs.inner&&this.$emit("close")},onMousedown(e){this.mouseTarget=e.target}}};var l=i(83744);const c=(0,l.Z)(r,[["render",o]]),u=c},26282:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>$});var s=i(66252),n=i(56612);const a={class:"tm-page-settings-form__title"},o={class:"tm-page-settings-form__input-wrapper"},r={class:"tm-page-settings-form__input-wrapper"},l={class:"tm-page-settings-form__input-wrapper"},c={class:"tm-page-settings-form__input-wrapper"},u={class:"tm-page-settings-form__input-wrapper"},d={class:"tm-page-settings-form__input-wrapper"},m={class:"tm-page-settings-form__input-wrapper"},p={class:"tm-page-settings-form__input-wrapper"},_={class:"tm-page-settings-form__input-wrapper"},h={class:"tm-page-settings-form__controls"};function g(e,t,i,g,v,T){const E=(0,s.up)("TMInputRadioLabeled"),S=(0,s.up)("TMFieldset"),f=(0,s.up)("TMLabeledCheckbox"),A=(0,s.up)("TMButtonBase");return(0,s.wg)(),(0,s.iD)("form",{class:"tm-page-settings-form",onSubmit:t[11]||(t[11]=(...e)=>T.onSubmit&&T.onSubmit(...e))},[(0,s._)("div",a,(0,n.zw)(T.getTranslation("SETTINGS_TITLE")),1),(0,s.Wm)(S,{class:"tm-page-settings-form__fieldset",errors:[],title:T.getTranslation("SETTINGS_UI_TITLE")},{default:(0,s.w5)((()=>[(0,s._)("p",o,[(0,s.Wm)(E,{id:"uiRussian",modelValue:T.uiLang,"onUpdate:modelValue":[t[0]||(t[0]=e=>T.uiLang=e),t[1]||(t[1]=e=>T.checkboxCheck())],"checked-value":"ru","data-test-id":"lang-russian",name:"ui"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_LANG_RUSSIAN")),1)])),_:1},8,["modelValue"])]),(0,s._)("p",r,[(0,s.Wm)(E,{id:"uiEnglish",modelValue:T.uiLang,"onUpdate:modelValue":[t[2]||(t[2]=e=>T.uiLang=e),t[3]||(t[3]=e=>T.checkboxCheck())],"checked-value":"en","data-test-id":"lang-english",name:"ui"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_LANG_ENGLISH")),1)])),_:1},8,["modelValue"])])])),_:1},8,["title"]),(0,s.Wm)(S,{class:"tm-page-settings-form__fieldset",errors:T.articlesLangErrors,title:T.getTranslation("SETTINGS_ARTICLES_TITLE")},{default:(0,s.w5)((()=>[(0,s._)("p",l,[(0,s.Wm)(f,{id:"articlesRussian",modelValue:T.articlesLangRussian,"onUpdate:modelValue":t[4]||(t[4]=e=>T.articlesLangRussian=e),name:"articlesRussian"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_FL_LANG_RUSSIAN")),1)])),_:1},8,["modelValue"])]),(0,s._)("p",c,[(0,s.Wm)(f,{id:"articlesEnglish",modelValue:T.articlesLangEnglish,"onUpdate:modelValue":t[5]||(t[5]=e=>T.articlesLangEnglish=e),name:"articlesEnglish"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_FL_LANG_ENGLISH")),1)])),_:1},8,["modelValue"])])])),_:1},8,["errors","title"]),(0,s.Wm)(S,{class:"tm-page-settings-form__fieldset",errors:[],title:T.getTranslation("SETTINGS_FEED")},{default:(0,s.w5)((()=>[(0,s._)("p",u,[(0,s.Wm)(E,{modelValue:v.feed,"onUpdate:modelValue":t[6]||(t[6]=e=>v.feed=e),"checked-value":"cards",name:"feed"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_FEED_CLASSIC")),1)])),_:1},8,["modelValue"])]),(0,s._)("p",d,[(0,s.Wm)(E,{modelValue:v.feed,"onUpdate:modelValue":t[7]||(t[7]=e=>v.feed=e),"checked-value":"list",name:"feed"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_FEED_COMPACT")),1)])),_:1},8,["modelValue"])])])),_:1},8,["title"]),(0,s.Wm)(S,{class:"tm-page-settings-form__fieldset",errors:[],title:T.getTranslation("SETTINGS_COLOR_THEME")},{default:(0,s.w5)((()=>[(0,s._)("p",m,[(0,s.Wm)(E,{modelValue:g.theme,"onUpdate:modelValue":t[8]||(t[8]=e=>g.theme=e),"checked-value":"dark",name:"colorTheme"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_DARK")),1)])),_:1},8,["modelValue"])]),(0,s._)("p",p,[(0,s.Wm)(E,{modelValue:g.theme,"onUpdate:modelValue":t[9]||(t[9]=e=>g.theme=e),"checked-value":"light",name:"colorTheme"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_LIGHT")),1)])),_:1},8,["modelValue"])]),(0,s._)("p",_,[(0,s.Wm)(E,{modelValue:g.theme,"onUpdate:modelValue":t[10]||(t[10]=e=>g.theme=e),"checked-value":"system",name:"colorTheme"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_SYSTEM")),1)])),_:1},8,["modelValue"])])])),_:1},8,["title"]),(0,s._)("p",h,[(0,s.Wm)(A,{class:"tm-page-settings-form__submit",disabled:Boolean(T.articlesLangErrors.length),"style-size":"large","style-type":"solid",type:"submit"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(T.getTranslation("SETTINGS_ACTION_SAVE")),1)])),_:1},8,["disabled"])])],32)}var v=i(62931),T=i(15377),E=i.t(T,2),S=i(67476),f=i(91270),A=i(90605),b=i(31655),I=i(89734),y=i(89554),w=i(36134);function P(e,t=""){return e.reduce(((e,i)=>(e[i]={value:t,errors:[],ref:null},e)),{})}function C(e){return{get(){return this.inputs[e].value},set(t){this.setInputValue(e,t)}}}var k=i(58748),L=i(84183),N=i(11954),O=i(71197);const R=(0,S.Q_)("settingsOther",{state:()=>({inputs:{...P(["uiLang"],""),...P(["articlesLangEnglish","articlesLangRussian"],!1),...P(["agreement"],!1),...P(["email"],!0),...P(["digest"],!0)}}),getters:{formData:e=>{var t,i,s,n,a,o,r;return{fl:[null!==(t=e.inputs.articlesLangEnglish)&&void 0!==t&&t.value?"en":"",null!==(i=e.inputs.articlesLangRussian)&&void 0!==i&&i.value?"ru":""].filter(Boolean).join(","),hl:null===(s=e.inputs.uiLang)||void 0===s?void 0:s.value,agreement:null===(n=e.inputs.agreement)||void 0===n?void 0:n.value,email:null===(a=e.inputs.email)||void 0===a?void 0:a.value,digest:null===e||void 0===e||null===(o=e.inputs)||void 0===o||null===(r=o.digest)||void 0===r?void 0:r.value}}},actions:{setInputValue(e,t){this.inputs[e]&&(this.inputs[e].value=t)}}});var M=i(62524),U=i(56606),D=i(21331),B=i(66478);const H={name:"TMPageSettingsForm",components:{TMButtonBase:f.Z,TMFieldset:A.Z,TMInputRadioLabeled:b.Z,TMLabeledCheckbox:I.Z},emits:["closePopup"],setup(){const e=(0,y.f)(),t=(0,v.iH)(l()),i=(0,N.P)(),{isEnglishContentEnabled:n,isRussianContentEnabled:a}=(0,S.Jk)(i),{msg:o,langOptions:r}=(0,w.Q)();function l(){const t=e.get(U.mX);return t||U.we}function c(t){e.set(U.mX,t,{expires:(0,D.ot)(365)})}const u=(0,s.Fl)((()=>e.get("fl")));function d(t){return e.set("fl",t,{expires:(0,D.ot)(365)})}function m(t){return e.set("hl",t,{expires:(0,D.ot)(365)})}const p=(0,k.g)(),{view:_}=(0,S.Jk)(p),h=R(),{inputs:g,formData:T}=(0,S.Jk)(h),{setInputValue:E}=h;return{getColorTheme:l,setColorTheme:c,theme:t,cookieFl:u,setFlCookie:d,setHlCookie:m,view:_,isEnglishContentEnabled:n,isRussianContentEnabled:a,msg:o,langOptions:r,inputs:g,setInputValue:E,formData:T}},data(){return{feed:this.view,isDirtyLang:!1}},computed:{articlesLangEnglish:C("articlesLangEnglish"),articlesLangRussian:C("articlesLangRussian"),uiLang:C("uiLang"),isPwa(){return(0,L.s)().isPwa},articlesLangErrors(){return this.articlesLangEnglish||this.articlesLangRussian?[]:[this.getTranslation("SETTINGS_ARTICLES_ERROR")]}},beforeMount(){(0,M.E)().markDataLoaded()},mounted(){const e=[{name:"articlesLangEnglish",value:this.isEnglishContentEnabled},{name:"articlesLangRussian",value:this.isRussianContentEnabled},{name:"uiLang",value:this.langOptions.hl}];e.forEach((({name:e,value:t})=>{this.setInputValue(e,t)}))},methods:{getTranslation(e){return this.uiLang?E[this.uiLang][e]:this.msg(e)},checkboxCheck(){if(!this.cookieFl){const e={ru:"articlesLangRussian",en:"articlesLangEnglish"};Object.keys(e).forEach((t=>{this.setInputValue(e[t],t===this.uiLang)}))}},reloadThePage(e){if(this.isPwa)window.location="/pwa";else{let t=this.$route.path;e&&(t=t.replace(/\/page\d+\//,"/")),window.location.href=t}},flushWorkboxCache(){return"serviceWorker"in navigator&&this.isPwa?navigator.serviceWorker.ready.then((e=>{e.active.postMessage({flushCache:!0})})):Promise.resolve()},onSubmit(e){if(e.preventDefault(),this.articlesLangErrors.length)return;if(this.theme!==this.getColorTheme()&&(this.setColorTheme(this.theme),(0,U.Lr)(this.theme)),this.feed!==this.view&&(0,k.g)().setArticleView(this.feed),this.formData.fl===this.langOptions.fl&&this.formData.hl===this.langOptions.hl)return void this.$emit("closePopup");this.setFlCookie(this.formData.fl),this.setHlCookie(this.formData.hl);const t=!this.formData.fl.includes(this.langOptions.fl);if((0,O.q)().isLoggedIn){const e={hl:this.formData.hl,fl:[...this.articlesLangEnglish?["en"]:[],...this.articlesLangRussian?["ru"]:[]]};(0,B.KE)(e).then((()=>this.flushWorkboxCache())).then((()=>this.reloadThePage(t))).catch((e=>this.$toast.error(e)))}else this.reloadThePage(t)}}};var F=i(83744);const V=(0,F.Z)(H,[["render",g]]),$=V},97281:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-page-width",{"tm-page-width_no-padding":i.noPadding,"tm-page-width_full-width":i.fullWidth}])},[(0,s.WI)(e.$slots,"default")],2)}const o={name:"TMPageWidth",props:{noPadding:{type:Boolean,default:!1},fullWidth:Boolean}};var r=i(83744);const l=(0,r.Z)(o,[["render",a]]),c=l},46823:(e,t,i)=>{"use strict";i.d(t,{Z:()=>he});var s=i(66252),n=i(56612),a=i(58061);const o={key:0,class:"tm-page__header"},r={class:"tm-page__wrapper"},l={key:0,class:"tm-page__sidebar"},c={key:0,class:"fixed-banner-wrapper"};function u(e,t,i,u,d,m){const p=(0,s.up)("TMPullToRefresh"),_=(0,s.up)("TMFixedBanner"),h=(0,s.up)("CorporateNotificationsPopup"),g=(0,s.up)("ClientOnly");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-page",{"tm-page_wide":i.wide,"tm-page_no-top-margin":i.noTopMargin}])},[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.wide?"div":"TMPageWidth"),{"no-padding":u.isTablet},{default:(0,s.w5)((()=>[e.$slots.header?((0,s.wg)(),(0,s.iD)("div",o,[(0,s.WI)(e.$slots,"header")])):(0,s.kq)("",!0),(0,s._)("div",r,[(0,s._)("div",{ref:"pageMainRef",class:(0,n.C_)(["tm-page__main",{"tm-page__main_has-sidebar":m.hasSidebar}])},[i.hasPullToRefresh?((0,s.wg)(),(0,s.j4)(p,{key:0,config:{pullDownHeight:60},"on-refresh":m.refreshData},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["on-refresh"])):(0,s.WI)(e.$slots,"default",{key:1})],2),e.$slots.sidebar?((0,s.wg)(),(0,s.iD)("div",l,[(0,s.WI)(e.$slots,"sidebar")])):(0,s.kq)("",!0)]),(0,s.Wm)(a.uT,{mode:"out-in"},{default:(0,s.w5)((()=>[m.isBannerShown?((0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(_,{data:m.currentBanner,onClose:u.closeFixedBanner,onMounted:u.setBannerStyle,onSetBottomPosition:m.setFixedBannerBottomPosition},null,8,["data","onClose","onMounted","onSetBottomPosition"])])):(0,s.kq)("",!0)])),_:1})])),_:3},8,["no-padding"])),(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[u.isShowCorporateNotificationPopup?((0,s.wg)(),(0,s.j4)(h,{key:0})):(0,s.kq)("",!0)]))])),_:1})],2)}var d=i(62931),m=i(91296),p=i.n(m),_=i(67476),h=i(53591),g=i(23002),v=i(64487),T=i(48665),E=i(61897),S=i(39806),f=i(10846),A=i(36134),b=i(12833),I=i(71197),y=i(86409),w=i(10707);function P(){return(0,y.Q)((0,w.k)("settings/corporate_notifications","v2"))}function C(){return(0,y.Q)((0,w.k)("settings/corporate_notifications/close_popup","v2"))}const k={class:"top"},L={class:"header"},N={class:"popup-content"},O=["innerHTML"],R=["innerHTML"],M={class:"buttons"},U=(0,s.aZ)({__name:"corporate-notifiactions-popup",setup(e){const{isDark:t}=(0,b.F)(),i=(0,g.pm)(),{msg:a}=(0,A.Q)(),o=(0,s.Fl)((()=>null!==t&&void 0!==t&&t.value?"/img/notifications-popup-splash-dark.webp":"/img/notifications-popup-splash.webp")),r=(0,I.q)(),l=(0,d.iH)(!1);async function c(){try{l.value=!0,await P(),r.setCorporateNotificationVisible(!1)}catch(e){(0,v.Tb)(e),i.error(e.message||a("ERROR_PAGE_MESSAGE_INTERNAL"))}finally{l.value=!1}}function u(){try{C()}catch(e){(0,v.Tb)(e)}finally{r.setCorporateNotificationVisible(!1)}}return(e,t)=>((0,s.wg)(),(0,s.j4)(S.Z,{name:"transition-fade"},{default:(0,s.w5)((()=>[(0,s.Wm)(E.Z,{class:"corporate-notifications-popup","no-close-button":"","no-header":"",onClose:u},{beforeBody:(0,s.w5)((()=>[(0,s._)("div",k,[(0,s._)("div",L,[(0,s.Wm)(f.Z,{class:"background",src:o.value,width:"320px"},null,8,["src"])])])])),default:(0,s.w5)((()=>[(0,s._)("div",N,[(0,s._)("div",{class:"title",innerHTML:(0,d.SU)(a)("CORPORATE_NOTIFICATIONS_POPUP_TITLE")},null,8,O),(0,s._)("div",{class:"text",innerHTML:(0,d.SU)(a)("CORPORATE_NOTIFICATIONS_POPUP_TEXT")},null,8,R),(0,s._)("div",M,[(0,s.Wm)(T.Z,{class:"accept",color:"horizon",disabled:l.value,"is-loading":l.value,onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,d.SU)(a)("CORPORATE_NOTIFICATIONS_POPUP_SUBSCRIBE")),1)])),_:1},8,["disabled","is-loading"]),(0,s.Wm)(T.Z,{class:"accept",color:"horizon",disabled:l.value,"is-loading":l.value,"style-type":"transparent",onClick:u},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,d.SU)(a)("CLOSE")),1)])),_:1},8,["disabled","is-loading"])])])])),_:1})])),_:1}))}});var D=i(83744);const B=(0,D.Z)(U,[["__scopeId","data-v-617c8cac"]]),H=B;var F=i(3739),V=i(89554),$=i(41008),W=i(56606),G=i(19913);const x={class:"banner"},q={class:"inner"},Y=["href"],Z={class:"image-wrapper"},j=["alt","src"],K={class:"content"},z={class:"title"},Q={class:"text"},X={__name:"fixed-banner",props:{data:{type:Object,default:null}},emits:["close","set-translate-x","set-bottom-position","mounted"],setup(e,{emit:t}){(0,a.sj)((e=>({a71f36b6:T.value})));const i=e,o={advertisingInfo:"advertising-info",bannerInfo:"banner-info"},r=t,l=(0,d.iH)(0),c=(0,d.iH)(null),u=(0,d.iH)("banner-info"),m=(0,V.f)(),p=(0,W.Yw)(m.get(W.mX)),h=p!==W.we?p:(0,W.mR)(),{isArticleStickyPanelVisible:g,isArticleStickyPanelAtTheBottom:v}=(0,_.Jk)((0,$.Q)()),T=(0,s.Fl)((()=>i.data.color[h])),E=(0,s.Fl)((()=>g.value&&!v.value?`${l.value+16}px`:"16px")),S=(0,s.Fl)((()=>"advertising-info"===u.value));function f(e){u.value=e}function A(){const e=u.value===o.bannerInfo?o.advertisingInfo:o.bannerInfo;f(e)}(0,s.bv)((()=>{(0,G.IZ)("m_banner_render");const e=document.querySelector(".tm-article-sticky-panel");c.value=setTimeout((()=>{(0,G.IZ)("m_banner_impression")}),2e3),e&&(l.value=e.offsetHeight),r("mounted")})),(0,s.Ah)((()=>{clearTimeout(c.value)}));const b={[o.advertisingInfo]:()=>f(o.bannerInfo),[o.bannerInfo]:()=>{var e;(0,G.IZ)("m_banner_close"),r("close",null===(e=i.data)||void 0===e?void 0:e.id)}};function I(e){e.stopPropagation(),b[u.value]()}return(0,s.YP)(E,(e=>{r("set-bottom-position",e)})),(t,i)=>((0,s.wg)(),(0,s.iD)("div",x,[e.data.is_ad?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"advertising-button",onClick:A}," Реклама ")):(0,s.kq)("",!0),(0,s._)("div",q,[(0,s._)("div",{class:(0,n.C_)(["advertising-info",{visible:S.value&&e.data.is_ad}])},[(0,s._)("p",null,(0,n.zw)(e.data.company),1),(0,s._)("p",null,"ИНН "+(0,n.zw)(e.data.inn),1),(0,s._)("p",null,"erid: "+(0,n.zw)(e.data.token),1)],2),(0,s._)("a",{class:(0,n.C_)(["banner-info",{visible:!S.value}]),href:e.data.link.url,target:"_blank",onClick:i[0]||(i[0]=e=>(0,d.SU)(G.IZ)("m_banner_click"))},[(0,s._)("div",Z,[(0,s._)("img",{alt:e.data.title,src:e.data.image.url},null,8,j)]),(0,s._)("div",K,[(0,s._)("div",z,(0,n.zw)(e.data.title),1),(0,s._)("div",Q,(0,n.zw)(e.data.subtitle),1)])],10,Y)]),(0,s._)("button",{class:(0,n.C_)(["close-button",{"advertising-mode":S.value}]),onClick:I},[(0,s.Wm)(F["default"],{id:"close-rounded",class:"close-icon",size:"24"}),(0,s.Wm)(F["default"],{id:"close-rounded",class:"close-icon",size:"24"})],2)]))}},J=(0,D.Z)(X,[["__scopeId","data-v-aa157bd5"]]),ee=J;var te=i(97281),ie=i(75591),se=i(10107),ne=i(84183),ae=i(11954),oe=i(84379),re=i(94769),le=i(62524);const ce=["PUBLICATION_EDIT","PUBLICATION_ARTICLE_EDIT","PUBLICATION_SANDBOX_EDIT","PUBLICATION_NEWS_EDIT","PUBLICATION_POST_EDIT","PUBLICATION_MEGAPOST_EDIT","PUBLICATION_POST","PUBLICATION_NEWS","PUBLICATION_ARTICLE","PUBLICATION_SANDBOX","PUBLICATION_MEGAPOST","CONVERSATION_MESSAGES","PPA_ROOT","PPA_BALANCE","PPA_WITHDRAW","PPA_ABOUT","PPA_ARTICLE","STATISTICS_PUBLICATION","STATISTICS_PUBLICATION_FUNNELS","STATISTICS_PUBLICATION_OTHERS","STATISTICS_PUBLICATION_VIEWS","USER_SETTINGS_ROOT","USER_SETTINGS_PROFILE","USER_SETTINGS_UPGRADE","USER_SETTINGS_PRIVACY","USER_SETTINGS_NOTIFICATIONS","USER_SETTINGS_SPECS","USER_SETTINGS_MISC","USER_SETTINGS_APPS","USER_SETTINGS_APPS_MY","USER_SETTINGS_APPS_REGISTER","USER_SETTINGS_APPS_EDIT"],ue={name:"TMPage",components:{CorporateNotificationsPopup:H,ClientOnly:h.Z,TMPullToRefresh:ie.Z,TMPageWidth:te.Z,TMFixedBanner:ee},props:{wide:{type:Boolean,default:!1},noTopMargin:{type:Boolean,default:!1},hasPullToRefresh:{type:Boolean,default:!0}},setup(){const e=(0,I.q)(),t=(0,ae.P)(),{currentLocale:i}=(0,_.Jk)(t),{userShowAdv:n,isShowCorporateNotificationPopup:a}=(0,_.Jk)(e),o=(0,$.Q)(),r=(0,d.iH)("16px"),l=(0,d.iH)("100%"),c=(0,d.iH)("0"),{bannerContainer:u}=(0,_.Jk)(o),m=(0,d.iH)(null);function h(){const e=u.value||m.value;if(!e)return;const{left:t,width:i}=e.getBoundingClientRect();l.value=`${i}px`,c.value=`${t}px`}const g=p()(h,500),v=(0,ne.s)(),{isTablet:T}=(0,_.Jk)(v);return(0,s.bv)((()=>{window.addEventListener("resize",g)})),(0,s.Ah)((()=>{window.removeEventListener("resize",g)})),(0,s.YP)(u,(()=>{h()})),{closeFixedBanner:o.closeFixedBanner,isTablet:T,userShowAdv:n,currentLocale:i,setBannerStyleDebounced:g,setBannerStyle:h,bannerBottomPosition:r,bannerLeft:c,bannerMaxWidth:l,pageMainRef:m,isShowCorporateNotificationPopup:a}},computed:{isRussianLocal(){return"ru_RU"===this.currentLocale},shouldFixedBannerBeShown(){const{name:e,params:t}=this.$route,i=(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.companyName)||"";if(!e.includes("COMPANY"))return!0;const s=(0,se.l)().getCompanyInfo(i.toLowerCase());if(null===s||void 0===s||!s.settings)return!1;const{settings:n}=s;return n.shouldShowHabrAds},isPageWithoutBanner(){const{name:e}=this.$route;return ce.includes(e)},isBannerShown(){return!!this.$getFeatureFlag("FIXED_BANNER_ENABLED")&&(!(0,$.Q)().isHeaderBannerInView&&(0,$.Q)().isFixedBannerVisible&&this.userShowAdv&&this.currentBanner&&this.isRussianLocal&&this.shouldFixedBannerBeShown&&!this.isPageWithoutBanner)},currentBanner(){return(0,oe.W)().stickyBanner},hasSidebar(){return Boolean(this.$slots.sidebar)&&!(0,le.E)().error}},watch:{currentBanner:{handler(e){e&&e.id&&(0,$.Q)().setInitialBannerVisibility(e.id)},once:!0}},methods:{refreshData(){const e=(0,le.E)();return e.error&&e.reset(),(0,re.R)().toggleRefresh(!0),new Promise((e=>{setTimeout((()=>{e()}),1e3)}))},setFixedBannerBottomPosition(e){this.bannerBottomPosition=e}}},de=()=>{(0,a.sj)((e=>({"0bc2d5a2":e.bannerBottomPosition,e71ed086:e.bannerMaxWidth,"3f6b9682":e.bannerLeft})))},me=ue.setup;ue.setup=me?(e,t)=>(de(),me(e,t)):de;const pe=ue,_e=(0,D.Z)(pe,[["render",u]]),he=_e},8346:(e,t,i)=>{"use strict";i.d(t,{Z:()=>O});var s=i(66252),n=i(56612),a=i(58061);const o={key:0,class:"tm-pagination","data-test-id":"pagination"},r={class:"tm-pagination__navigation-link-title"},l={class:"tm-pagination__pages"},c=["href","rel","onClick"],u={key:"skip-prev",class:"tm-pagination__page tm-pagination__page_skip"},d={class:"tm-pagination__page tm-pagination__page_current","data-test-id":"pagination-current-page"},m=["href","rel","onClick"],p={key:"skip-next",class:"tm-pagination__page tm-pagination__page_skip"},_={class:"tm-pagination__navigation-link-title"};function h(e,t,i,h,g,v){var T,E,S,f,A;const b=(0,s.up)("TMSvgImg"),I=(0,s.up)("TMPaginationButton"),y=(0,s.up)("router-link");return v.showPagination?((0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(I,{id:"pagination-prev-page",direction:"prev",rel:null!==(T=v.navigation.prev)&&void 0!==T&&null!==(E=T.meta)&&void 0!==E&&E.nofollow&&1!==(null===(S=v.navigation.prev)||void 0===S?void 0:S.params.pageNum)?"nofollow":null,route:v.navigation.prev,onClick:t[0]||(t[0]=e=>v.handlePaginationClick(v.navigation.prev))},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{id:"arrow-back",class:"tm-pagination__arrow tm-pagination__arrow_prev",size:"16"}),(0,s._)("span",r,(0,n.zw)(e.msg("NAV_PREV_PAGE")),1)])),_:1},8,["rel","route"]),(0,s._)("div",l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.previousPages,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t+"prev",class:"tm-pagination__page-group"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(e=>((0,s.wg)(),(0,s.j4)(y,{key:e.title,custom:"",to:e.route},{default:(0,s.w5)((({href:t})=>{var i;return[(0,s._)("a",{class:"tm-pagination__page",href:t,rel:null!==(i=e.route.meta)&&void 0!==i&&i.nofollow&&1!==e.route.params.pageNum?"nofollow":null,onClick:(0,a.iM)((t=>v.handlePaginationClick(e.route)),["prevent"])},(0,n.zw)(e.title),9,c)]})),_:2},1032,["to"])))),128)),0===t&&v.previousPages.length>1?((0,s.wg)(),(0,s.iD)("span",u," ... ")):(0,s.kq)("",!0)])))),128)),(0,s._)("span",d,(0,n.zw)(v.currentRoutePage),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.nextPages,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t+"next",class:"tm-pagination__page-group"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,(e=>((0,s.wg)(),(0,s.j4)(y,{key:e.title,custom:"",to:e.route},{default:(0,s.w5)((({href:t})=>[(0,s._)("a",{class:"tm-pagination__page",href:t,rel:e.route.meta.nofollow?"nofollow":null,onClick:(0,a.iM)((t=>v.handlePaginationClick(e.route)),["prevent"])},(0,n.zw)(e.title),9,m)])),_:2},1032,["to"])))),128)),0===t&&v.nextPages.length>1?((0,s.wg)(),(0,s.iD)("span",p," ... ")):(0,s.kq)("",!0)])))),128))]),(0,s.Wm)(I,{id:"pagination-next-page",direction:"next",rel:null!==(f=v.navigation.next)&&void 0!==f&&null!==(A=f.meta)&&void 0!==A&&A.nofollow?"nofollow":null,route:v.navigation.next,onClick:t[1]||(t[1]=e=>v.handlePaginationClick(v.navigation.next))},{default:(0,s.w5)((()=>[(0,s._)("span",_,(0,n.zw)(e.msg("NAV_NEXT_PAGE")),1),(0,s.Wm)(b,{id:"arrow-back",class:"tm-pagination__arrow tm-pagination__arrow_next",size:"16"})])),_:1},8,["rel","route"])])):(0,s.kq)("",!0)}const g=["id","href","rel"],v=["id"];function T(e,t,i,n,o,r){const l=(0,s.up)("router-link");return i.route?((0,s.wg)(),(0,s.j4)(l,{key:0,custom:"",to:i.route},{default:(0,s.w5)((({href:n})=>[(0,s._)("a",(0,s.dG)({id:i.id,class:"tm-pagination__navigation-link tm-pagination__navigation-link_active"},r.datasetBinding,{href:n,rel:i.rel||i.direction,onClick:t[0]||(t[0]=(0,a.iM)((t=>e.$emit("click")),["prevent"]))}),[(0,s.WI)(e.$slots,"default")],16,g)])),_:3},8,["to"])):((0,s.wg)(),(0,s.iD)("div",(0,s.dG)({key:1,id:i.id,class:"tm-pagination__navigation-link"},r.datasetBinding),[(0,s.WI)(e.$slots,"default")],16,v))}const E={name:"TMPaginationButton",props:{route:{type:Object,default:()=>null},direction:{type:String,required:!0},rel:{type:String,default:null},id:{type:String,required:!0}},emits:["click"],computed:{datasetBinding(){return{"data-test-id":`pagination-${this.direction}-page`,[`data-pagination-${this.direction}`]:!0}}}};var S=i(83744);const f=(0,S.Z)(E,[["render",T]]),A=f;var b=i(39639),I=i(84183),y=i(44383);function w(e,t){return{...e,params:{...e.params,pageNum:t}}}function P(e){return t=>({route:w(e,t),title:t})}function C(e,t,i){return{...e,params:{...e.params},query:{...e.query,[t]:i}}}function k(e,t){return i=>({route:C(e,t,i),title:i})}const L={name:"TMPagination",components:{TMPaginationButton:A,TMSvgImg:b.Z},props:{currentPage:{type:Number,default:null},routeName:{type:String,default:null},totalPages:{type:Number,required:!0},local:Boolean,localParamName:{type:String,default:"page"},pagePadding:{type:Number,default:2},pagePaddingMobile:{type:Number,default:1},skipNavigation:Boolean},emits:["update:currentPage"],computed:{route(){return{name:this.routeName||this.$route.name,query:this.$route.query,params:this.$route.params,meta:this.$route.meta}},navigation(){return this.local?this.localNavigation:{prev:this.currentRoutePage>1?w(this.route,this.currentRoutePage-1):null,next:this.isLastPage?null:w(this.route,this.currentRoutePage+1)}},localNavigation(){return{prev:this.currentRoutePage>1?this.localRoute(this.currentRoutePage-1):null,next:this.isLastPage?null:this.localRoute(this.currentRoutePage+1)}},currentRoutePage(){return this.currentPage||Number(this.$route.params.pageNum)||1},isLastPage(){return this.currentRoutePage===this.totalPages},showPagination(){return this.totalPages>1},previousPages(){const{route:e,currentRoutePage:t,responsivePadding:i}=this;if(1===t)return[];const s=this.local?k(e,this.localParamName):P(e);if(t-1-2*i<=1){const e=[];for(let i=1;i<t;i+=1)e.push(s(i));return[e]}const n=[];for(let o=1;o<=i;o+=1)n.push(s(o));const a=[];for(let o=t-i;o<t;o+=1)a.push(s(o));return[n,a]},nextPages(){const{route:e,currentRoutePage:t,responsivePadding:i,totalPages:s}=this;if(t===s)return[];const n=this.local?k(e,this.localParamName):P(e);if(t+2*i>=s-1){const e=[];for(let i=t+1;i<=s;i+=1)e.push(n(i));return[e]}const a=[];for(let r=t+1;r<=t+i;r+=1)a.push(n(r));const o=[];for(let r=s-i+1;r<=s;r+=1)o.push(n(r));return[a,o]},responsivePadding(){const{pagePadding:e,pagePaddingMobile:t}=this;return(0,I.s)().isMobile?t:e}},methods:{handlePaginationClick(e){if(this.skipNavigation){const t=e.query[this.localParamName];this.$emit("update:currentPage",t)}else this.local?this.navigateLocal(e):this.navigateGlobal(e)},navigateLocal(e){const t=e.query[this.localParamName];(0,y.OI)(this.localParamName,t),this.$emit("update:currentPage",t)},navigateGlobal(e){(0,I.s)().isPwa?this.$router.replace(e):this.$router.push(e)},localRoute(e){return{name:this.route.name,params:{...this.route.params},meta:this.route.meta,query:{...this.route.query,[this.localParamName]:e}}}}},N=(0,S.Z)(L,[["render",h]]),O=N},77912:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252);const n={class:"tm-placeholder-line loads"};function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("div",n)}const o={name:"TMPlaceholderLine"};var r=i(83744);const l=(0,r.Z)(o,[["render",a]]),c=l},31596:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Qe});var s=i(66252),n=i(56612);const a={class:"placeholder-wrapper"},o={key:0,class:"tm-placeholder__counters"},r={key:1,class:"tm-placeholder__counters"},l={key:1,class:"tm-placeholder tm-placeholder_article-body"},c={key:2,class:"tm-placeholder tm-placeholder_hubs"},u={key:3,class:"tm-placeholder tm-placeholder_categories"},d={class:"tm-placeholder__category-info"},m={class:"tm-placeholder__preset-header"},p={class:"tm-placeholder__preset-icons"},_={key:5,class:"tm-placeholder__conversations"},h={class:"tm-placeholder__conversation-body"},g={class:"tm-placeholder__conversation-meta"},v={key:6,class:"tm-placeholder__messages"},T={class:"tm-placeholder__message-meta"},E={key:7,class:"tm-placeholder tm-placeholder_static"},S={class:"tm-placeholder__static-page-tabs"},f={class:"tm-placeholder__static-page-content"},A={class:"tm-placeholder__static-page-content-wrap-text"},b={class:"tm-placeholder__static-page-content-wrap-text"},I={key:8,class:"tm-placeholder__static-page-section-name"},y={key:9,class:"tm-placeholder__static-page-tabs"},w={key:10,class:"tm-placeholder__static-page-tabs"},P={key:11,class:"tm-placeholder__static-page-content"},C={class:"tm-placeholder__static-page-content-wrap-text"},k={class:"tm-placeholder__static-page-content-wrap-text"},L={key:0,class:"tm-placeholder__comment-article"},N={class:"tm-placeholder tm-placeholder_user-profile"},O={class:"tm-placeholder__category-info"},R={class:"tm-placeholder__static-page-tabs"},M={key:16,class:"tm-placeholder tm-placeholder_user-profile"},U={class:"tm-placeholder__category-info"},D={key:17,class:"tm-placeholder-inset tm-placeholder-salary"},B={key:18,class:"tm-placeholder-inset tm-placeholder-questions"},H={class:"tm-placeholder-inset__body"},F={class:"tm-placeholder-list"},V={class:"tm-project-block-items__properties"},$={key:19,class:"tm-placeholder-inset tm-placeholder-courses"},W={class:"tm-placeholder-inset__body"},G={class:"tm-placeholder-list"},x={class:"tm-project-block-items__properties"},q={key:20,class:"tm-placeholder-inset tm-placeholder-vacancies"},Y={class:"tm-placeholder-inset__body"},Z={class:"tm-placeholder-list"},j={class:"tm-project-block-items__properties"},K={key:21,class:"tm-placeholder-inset tm-placeholder-company_courses"},z={class:"tm-placeholder-inset__body"},Q={class:"tm-placeholder-list"},X={class:"tm-project-block-items__properties"},J={key:22,class:"tm-placeholder-promo"},ee={key:23,class:"tm-placeholder-article-cards"},te={class:"tm-placeholder-article-card__icons tm-placeholder__counters"},ie={key:24,class:"tm-placeholder tm-placeholder_gallery"},se={class:"tm-placeholder__gallery-thumbs"},ne={key:25,class:"tm-placeholder tm-placeholder_banner loads"},ae={key:26,class:"tm-placeholder-table"},oe={key:28,class:"tm-placeholder__lines"},re={key:29,class:"tm-placeholder__funnels"},le={key:30,class:"tm-placeholder__statistics"};function ce(e,t,i,ce,ue,de){const me=(0,s.up)("TMEventsPlaceholder"),pe=(0,s.up)("TMUserMenuPlaceholder"),_e=(0,s.up)("TMAdfoxBannerPlaceholder"),he=(0,s.up)("TMVacancies"),ge=(0,s.up)("EventCardPlaceholder"),ve=(0,s.up)("StoriesPlaceholder");return(0,s.wg)(),(0,s.iD)("div",a,["article"===e.type?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(e.times,(i=>((0,s.wg)(),(0,s.iD)("div",{key:`placeholder-article-${i}`,class:(0,n.C_)(`tm-placeholder tm-placeholder_article tm-placeholder_article_${e.modificator}`)},[t[0]||(t[0]=(0,s._)("div",{class:"tm-placeholder__user"},[(0,s._)("div",{class:"tm-placeholder__user-pic loads"}),(0,s._)("div",{class:"tm-placeholder__user-date loads"})],-1)),((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(2,(t=>(0,s._)("div",{key:`placeholder-article-title-${i}-${t}`,class:(0,n.C_)(`\n            tm-placeholder__article-title\n            tm-placeholder__article-title_${e.modificator}\n            loads\n          `)},null,2))),64)),"preview"===e.modificator?((0,s.wg)(),(0,s.iD)("div",o,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(e=>(0,s._)("div",{key:`placeholder-icon-${e}`,class:"tm-placeholder__icon loads"}))),64))])):(0,s.kq)("",!0),"article-comments"===e.modificator?((0,s.wg)(),(0,s.iD)("div",r,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("div",{key:`placeholder-icon-${e}`,class:"tm-placeholder__icon loads"}))),64))])):(0,s.kq)("",!0)],2)))),128)):(0,s.kq)("",!0),"articleBody"===e.type?((0,s.wg)(),(0,s.iD)("div",l,[t[1]||(t[1]=(0,s._)("div",{class:"tm-placeholder__article-img loads"},null,-1)),((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(20,(t=>(0,s._)("div",{key:`placeholder-article-body-${t}`,class:"tm-placeholder__line loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))])):(0,s.kq)("",!0),"hubs"===e.type?((0,s.wg)(),(0,s.iD)("div",c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.times,(e=>((0,s.wg)(),(0,s.iD)("div",{key:`placeholder-hub-${e}`,class:"tm-placeholder__hub loads"})))),128))])):(0,s.kq)("",!0),"categories"===e.type?((0,s.wg)(),(0,s.iD)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.times,(i=>((0,s.wg)(),(0,s.iD)("div",{key:`placeholder-category-${i}`,class:"tm-placeholder__category"},[t[2]||(t[2]=(0,s._)("div",{class:"tm-placeholder__category-avatar"},null,-1)),(0,s._)("div",d,[(0,s._)("span",{class:"tm-placeholder__category-name",style:(0,n.j5)(`width: ${e.generateRandomWidth(38,200)}px`)},null,4),(0,s._)("div",{class:"tm-placeholder__category-desctiption",style:(0,n.j5)(`width: ${e.generateRandomWidth(50,110)}px`)},null,4)])])))),128))])):(0,s.kq)("",!0),"preset"===e.type?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:4},(0,s.Ko)(e.times,(i=>((0,s.wg)(),(0,s.iD)("div",{key:`placeholder-preset-${i}`,class:"tm-placeholder tm-placeholder_preset"},[(0,s._)("div",m,[t[3]||(t[3]=(0,s._)("div",{class:"tm-placeholder__preset-title loads"},null,-1)),(0,s._)("div",p,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(2,(e=>(0,s._)("div",{key:`placeholder-preset-icon-${e}`,class:"tm-placeholder__preset-icon tm-placeholder__icon loads"}))),64))])]),((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(t=>(0,s._)("div",{key:`placeholder-preset-line-${t}`,class:"tm-placeholder__line loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64)),t[4]||(t[4]=(0,s._)("div",{class:"tm-placeholder__preset-button loads"},null,-1))])))),128)):(0,s.kq)("",!0),"conversations"===e.type?((0,s.wg)(),(0,s.iD)("div",_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.times,(i=>((0,s.wg)(),(0,s.iD)("div",{key:`placeholder-conversations-${i}`,class:(0,n.C_)(`\n          tm-placeholder\n          tm-placeholder__conversation\n          tm-placeholder__conversation_${e.modificator}\n        `)},[t[5]||(t[5]=(0,s._)("div",{class:"tm-placeholder__conversation-userpic loads"},null,-1)),(0,s._)("div",h,[(0,s._)("div",g,[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_username loads",style:(0,n.j5)(`width:${e.generateRandomWidth(5,20)}%;`)},null,4),(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_date loads",style:(0,n.j5)(`width:${e.generateRandomWidth(5,20)}%;`)},null,4)]),(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_conversations loads",style:(0,n.j5)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4)])],2)))),128))])):(0,s.kq)("",!0),"messages"===e.type?((0,s.wg)(),(0,s.iD)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.times,(i=>((0,s.wg)(),(0,s.iD)("div",{key:`placeholder-messages-${i}`,class:(0,n.C_)(`tm-placeholder tm-placeholder__message tm-placeholder__message_${e.modificator}`)},[(0,s._)("div",T,[t[6]||(t[6]=(0,s._)("div",{class:"tm-placeholder__message-userpic loads"},null,-1)),(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_message-date loads",style:(0,n.j5)(`width:${e.generateRandomWidth(5,20)}%;`)},null,4)]),((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(t=>(0,s._)("div",{key:`placeholder-message-line-${t}`,class:"tm-placeholder__line tm-placeholder__line_messages loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))],2)))),128))])):(0,s.kq)("",!0),"static"===e.type?((0,s.wg)(),(0,s.iD)("div",E,[t[8]||(t[8]=(0,s._)("div",{class:"tm-placeholder__static-page-section-name"},[(0,s._)("div",{class:"tm-placeholder__static-page-headling loads"})],-1)),(0,s._)("div",S,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(t=>(0,s._)("div",{key:`placeholder-preset-static-${t}`,class:"tm-placeholder__static-page-tab loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}px;`)},null,4))),64))]),(0,s._)("div",f,[t[7]||(t[7]=(0,s._)("div",{class:"tm-placeholder__static-page-content-headling loads"},null,-1)),(0,s._)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4),(0,s._)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.j5)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4),(0,s._)("div",A,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(12,(t=>(0,s._)("div",{key:`placeholder-preset-static-2-${t}`,class:"tm-placeholder__static-page-content-text loads",style:(0,n.j5)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4))),64))]),(0,s._)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4),(0,s._)("div",b,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(6,(t=>(0,s._)("div",{key:`placeholder-preset-static-3-${t}`,class:"tm-placeholder__static-page-content-text loads",style:(0,n.j5)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4))),64))])])])):(0,s.kq)("",!0),"static_section_name"===e.type?((0,s.wg)(),(0,s.iD)("div",I,t[9]||(t[9]=[(0,s._)("div",{class:"tm-placeholder__static-page-headling loads"},null,-1)]))):(0,s.kq)("",!0),"static_dropdown"===e.type?((0,s.wg)(),(0,s.iD)("div",y,t[10]||(t[10]=[(0,s._)("div",{class:"tm-placeholder__static-page-headling loads"},null,-1)]))):(0,s.kq)("",!0),"static_tabs"===e.type?((0,s.wg)(),(0,s.iD)("div",w,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(t=>(0,s._)("div",{key:`placeholder-preset-static-${t}`,class:"tm-placeholder__static-page-tab loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}px;`)},null,4))),64))])):(0,s.kq)("",!0),"static_article"===e.type?((0,s.wg)(),(0,s.iD)("div",P,[t[11]||(t[11]=(0,s._)("div",{class:"tm-placeholder__static-page-content-headling loads"},null,-1)),(0,s._)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4),(0,s._)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.j5)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4),(0,s._)("div",C,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(12,(t=>(0,s._)("div",{key:`ps-text-${t}`,class:"tm-placeholder__static-page-content-text loads",style:(0,n.j5)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4))),64))]),(0,s._)("div",{class:"tm-placeholder__static-page-content-headling loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4),(0,s._)("div",k,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(6,(t=>(0,s._)("div",{key:`ps-text-2-${t}`,class:"tm-placeholder__static-page-content-text loads",style:(0,n.j5)(`width:${e.generateRandomWidth(60,80)}%;`)},null,4))),64))])])):(0,s.kq)("",!0),"comment"===e.type?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:12},(0,s.Ko)(e.times,(i=>((0,s.wg)(),(0,s.iD)("div",{key:`placeholder-article-${i}`,class:(0,n.C_)(`tm-placeholder tm-placeholder__comment tm-placeholder__comment_${e.modificator}`)},["user-comment"===e.modificator?((0,s.wg)(),(0,s.iD)("div",L,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(2,(e=>(0,s._)("div",{key:`placeholder-article-title-${i}-${e}`,class:(0,n.C_)("tm-placeholder__article-title loads")}))),64))])):(0,s.kq)("",!0),t[12]||(t[12]=(0,s._)("div",{class:"tm-placeholder__user"},[(0,s._)("div",{class:"tm-placeholder__user-pic loads"}),(0,s._)("div",{class:"tm-placeholder__user-date loads"}),(0,s._)("div",{class:"tm-placeholder__user-score loads"})],-1)),((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(2,(t=>(0,s._)("div",{key:`placeholder-article-title-${i}-${t}`,class:"tm-placeholder__article-title loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))],2)))),128)):(0,s.kq)("",!0),"form"===e.type?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:13},(0,s.Ko)(e.times,(t=>((0,s.wg)(),(0,s.iD)("div",{key:`placeholder-form-${t}`,class:(0,n.C_)(["tm-placeholder loads",e.bem("tm-placeholder__form",{modificator:e.modificator})])},null,2)))),128)):(0,s.kq)("",!0),"profileInfo"===e.type?((0,s.wg)(),(0,s.iD)(s.HY,{key:14},(0,s.Ko)(12,(t=>(0,s._)("div",{key:`placeholder-form-${t}`,class:"tm-placeholder tm-placeholder__line loads",style:(0,n.j5)(`width:${e.generateRandomWidth(20,80)}%;`)},null,4))),64)):(0,s.kq)("",!0),"userProfileCard"===e.type?((0,s.wg)(),(0,s.iD)(s.HY,{key:15},[(0,s._)("div",N,[t[13]||(t[13]=(0,s._)("div",{class:"tm-placeholder__user-profile-data"},[(0,s._)("div",{class:"tm-placeholder__category-avatar tm-placeholder__userinfo-avatar"})],-1)),(0,s._)("div",O,[(0,s._)("span",{class:"tm-placeholder__category-name",style:(0,n.j5)(`width: ${e.generateRandomWidth(38,300)}px`)},null,4),(0,s._)("div",{class:"tm-placeholder__category-desctiption tm-placeholder__desctiption_profile",style:(0,n.j5)(`width: ${e.generateRandomWidth(50,210)}px`)},null,4)])]),(0,s._)("div",R,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:`placeholder-preset-static-${t}`,class:"tm-placeholder__static-page-tab loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}px;`)},null,4))),64))])],64)):(0,s.kq)("",!0),"hubProfileCard"===e.type?((0,s.wg)(),(0,s.iD)("div",M,[t[14]||(t[14]=(0,s._)("div",{class:"tm-placeholder__user-profile-data"},[(0,s._)("div",{class:"tm-placeholder__category-avatar"})],-1)),(0,s._)("div",U,[(0,s._)("span",{class:"tm-placeholder__category-name",style:(0,n.j5)(`width: ${e.generateRandomWidth(38,300)}px`)},null,4),(0,s._)("div",{class:"tm-placeholder__category-desctiption tm-placeholder__desctiption_profile",style:(0,n.j5)(`width: ${e.generateRandomWidth(50,210)}px`)},null,4)])])):(0,s.kq)("",!0),"inset_salary"===e.type?((0,s.wg)(),(0,s.iD)("div",D,t[15]||(t[15]=[(0,s.uE)('<div class="tm-placeholder-inset__header"><div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div></div><div class="tm-placeholder-salary__body"><div class="tm-placeholder-salary__text"><div class="tm-placeholder__line tm-placeholder__line_salary_average"></div><div class="tm-placeholder-salary__description"><div class="tm-placeholder__line loads"></div><div class="tm-placeholder__line loads"></div><div class="tm-placeholder__line loads"></div><div class="tm-placeholder__line loads"></div></div></div><div class="tm-placeholder-salary__image loads"></div></div><div class="tm-placeholder-inset__footer tm-placeholder-inset__footer_salary"><div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div></div>',3)]))):(0,s.kq)("",!0),"inset_questions"===e.type?((0,s.wg)(),(0,s.iD)("div",B,[t[18]||(t[18]=(0,s._)("div",{class:"tm-placeholder-inset__header"},[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-header loads"})],-1)),(0,s._)("div",H,[(0,s._)("ul",F,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(e=>(0,s._)("li",{key:e,class:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t[17]||(t[17]=(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_item-title loads"},null,-1)),(0,s._)("div",V,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("span",{key:e,class:"tm-project-block-items__property-item"},t[16]||(t[16]=[(0,s._)("span",{class:"tm-placeholder__line loads",style:{width:"100px"}},null,-1)])))),64))])]))),64))])]),t[19]||(t[19]=(0,s._)("div",{class:"tm-placeholder-inset__footer"},[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})],-1))])):(0,s.kq)("",!0),"inset_courses"===e.type?((0,s.wg)(),(0,s.iD)("div",$,[t[22]||(t[22]=(0,s._)("div",{class:"tm-placeholder-inset__header"},[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-header loads"})],-1)),(0,s._)("div",W,[(0,s._)("ul",G,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(e=>(0,s._)("li",{key:e,class:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t[21]||(t[21]=(0,s._)("div",{class:"tm-placeholder-list__title-container"},[(0,s._)("div",{class:"tm-placeholder__company-avatar"}),(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_item-title loads"})],-1)),(0,s._)("div",x,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("span",{key:e,class:"tm-project-block-items__property-item"},t[20]||(t[20]=[(0,s._)("span",{class:"tm-placeholder__line loads",style:{width:"100px"}},null,-1)])))),64))])]))),64))])]),t[23]||(t[23]=(0,s._)("div",{class:"tm-placeholder-inset__footer"},[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})],-1))])):(0,s.kq)("",!0),"inset_vacancies"===e.type?((0,s.wg)(),(0,s.iD)("div",q,[t[26]||(t[26]=(0,s._)("div",{class:"tm-placeholder-inset__header"},[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-header loads"})],-1)),(0,s._)("div",Y,[(0,s._)("ul",Z,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(e=>(0,s._)("li",{key:e,class:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t[25]||(t[25]=(0,s._)("div",{class:"tm-placeholder-list__title-container"},[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_item-title loads"})],-1)),(0,s._)("div",j,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("span",{key:e,class:"tm-project-block-items__property-item"},t[24]||(t[24]=[(0,s._)("span",{class:"tm-placeholder__line loads",style:{width:"100px"}},null,-1)])))),64))])]))),64))])]),t[27]||(t[27]=(0,s._)("div",{class:"tm-placeholder-inset__footer"},[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})],-1))])):(0,s.kq)("",!0),"inset_company_courses"===e.type?((0,s.wg)(),(0,s.iD)("div",K,[t[30]||(t[30]=(0,s._)("div",{class:"tm-placeholder-inset__header"},[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-header loads"})],-1)),(0,s._)("div",z,[(0,s._)("ul",Q,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(e=>(0,s._)("li",{key:e,class:"tm-placeholder-list__item tm-placeholder-list__item_inset"},[t[29]||(t[29]=(0,s._)("div",{class:"tm-placeholder-list__title-container"},[(0,s._)("div",{class:"tm-placeholder__company-avatar"}),(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_item-title loads"})],-1)),(0,s._)("div",X,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("span",{key:e,class:"tm-project-block-items__property-item"},t[28]||(t[28]=[(0,s._)("span",{class:"tm-placeholder__line loads",style:{width:"100px"}},null,-1)])))),64))])]))),64))])]),t[31]||(t[31]=(0,s._)("div",{class:"tm-placeholder-inset__footer"},[(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_inset-footer loads"})],-1))])):(0,s.kq)("",!0),"promo_block"===e.type?((0,s.wg)(),(0,s.iD)("div",J,t[32]||(t[32]=[(0,s.uE)('<div class="tm-placeholder-promo__header"><div class="tm-placeholder__line tm-placeholder__line_promo-title"></div></div><div class="tm-placeholder-promo__body"><div class="tm-placeholder-promo__posts"><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div></div><div class="tm-placeholder-promo__dots"><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div></div></div>',2)]))):(0,s.kq)("",!0),"articleCards"===e.type?((0,s.wg)(),(0,s.iD)("div",ee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.times,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"tm-placeholder-article-card"},[t[34]||(t[34]=(0,s.uE)('<div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div>',2)),(0,s._)("div",te,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(e=>(0,s._)("div",{key:`placeholder-icon-${e}`,class:"tm-placeholder-data-icon"},t[33]||(t[33]=[(0,s._)("div",{class:"tm-placeholder__icon tm-placeholder__icon_large loads"},null,-1),(0,s._)("div",{class:"tm-placeholder__line tm-placeholder__line_icon-text"},null,-1)])))),64))])])))),128))])):(0,s.kq)("",!0),"gallery"===e.type?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",se,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(e=>(0,s._)("div",{key:`placeholder-gallery-thumb-${e}`,class:"tm-placeholder__gallery-thumb loads"}))),64))]),t[35]||(t[35]=(0,s._)("div",{class:"tm-placeholder__gallery-body loads"},null,-1))])):(0,s.kq)("",!0),"banner"===e.type?((0,s.wg)(),(0,s.iD)("div",ne)):(0,s.kq)("",!0),"table"===e.type?((0,s.wg)(),(0,s.iD)("div",ae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.times,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tm-placeholder-table__row"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.extra,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tm-placeholder__line loads",style:(0,n.j5)(e?{flexBasis:`${e}px`}:{flexShrink:"1"})},null,4)))),128))])))),128))])):(0,s.kq)("",!0),"line"===e.type?((0,s.wg)(),(0,s.iD)("div",{key:27,class:"tm-placeholder__line loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4)):(0,s.kq)("",!0),"lines"===e.type?((0,s.wg)(),(0,s.iD)("div",oe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.times,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tm-placeholder__line loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,120)}px;`)},null,4)))),128))])):(0,s.kq)("",!0),"funnels"===e.type?((0,s.wg)(),(0,s.iD)("div",re,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(t=>(0,s._)("div",{key:t,class:"tm-placeholder__line loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))])):(0,s.kq)("",!0),"statistics"===e.type?((0,s.wg)(),(0,s.iD)("div",le,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(2,(t=>(0,s._)("div",{key:t,class:"tm-placeholder__statistics-item"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(t=>(0,s._)("div",{key:t,class:"tm-placeholder__line loads",style:(0,n.j5)(`width:${e.generateRandomWidth(80,100)}%;`)},null,4))),64))]))),64))])):(0,s.kq)("",!0),"events"===e.type?((0,s.wg)(),(0,s.j4)(me,{key:31,times:e.times},null,8,["times"])):(0,s.kq)("",!0),"userMenu"===e.type?((0,s.wg)(),(0,s.j4)(pe,{key:32})):(0,s.kq)("",!0),"adfoxBanner"===e.type?((0,s.wg)(),(0,s.j4)(_e,{key:33,variant:e.modificator},null,8,["variant"])):(0,s.kq)("",!0),"vacancies"===e.type?((0,s.wg)(),(0,s.j4)(he,{key:34})):(0,s.kq)("",!0),"eventCard"===e.type?((0,s.wg)(),(0,s.j4)(ge,{key:35,responsive:e.responsive},null,8,["responsive"])):(0,s.kq)("",!0),"stories"===e.type?((0,s.wg)(),(0,s.j4)(ve,{key:36})):(0,s.kq)("",!0)])}var ue=i(25109),de=i(15891);const me={__name:"AdfoxBanner",props:{variant:{type:String,default:""}},setup(e){return(t,i)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["adfox-banner-placeholder",e.variant])},i[0]||(i[0]=[(0,s.uE)('<div class="image loads" data-v-703a4ddd></div><div class="lines" data-v-703a4ddd><div class="line loads" data-v-703a4ddd></div><div class="line loads" data-v-703a4ddd></div><div class="line loads" data-v-703a4ddd></div></div>',2)]),2))}};var pe=i(83744);const _e=(0,pe.Z)(me,[["__scopeId","data-v-703a4ddd"]]),he=_e;var ge=i(70352);const ve={class:"footer widget"},Te={class:"categories"},Ee={__name:"EventCard",props:{responsive:{type:Boolean,default:!0}},setup(e){return(t,i)=>((0,s.wg)(),(0,s.j4)(ge.Z,{"data-navigatable":null,spacing:"none",tabindex:-1},{body:(0,s.w5)((()=>[(0,s._)("div",{class:(0,n.C_)(["event-card-placeholder is-widget",{responsive:e.responsive}])},[i[1]||(i[1]=(0,s._)("div",{class:"image loads"},null,-1)),i[2]||(i[2]=(0,s._)("div",{class:"info"},[(0,s._)("div",{class:"date line"}),(0,s._)("div",{class:"title line"}),(0,s._)("div",{class:"places line"}),(0,s._)("div",{class:"places line"})],-1)),(0,s._)("div",ve,[i[0]||(i[0]=(0,s._)("div",{class:"link line"},null,-1)),(0,s._)("div",Te,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("div",{key:e,class:"category line"}))),64))])])],2)])),_:1}))}},Se=(0,pe.Z)(Ee,[["__scopeId","data-v-54ba5559"]]),fe=Se,Ae={class:"events-placeholder"},be={__name:"Events",props:{times:{type:Number,default:1}},setup(e){return(t,i)=>((0,s.wg)(),(0,s.iD)("div",Ae,[i[1]||(i[1]=(0,s._)("div",{class:"month"},[(0,s._)("div",{class:"line loads"})],-1)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.times,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"event-placeholder"},i[0]||(i[0]=[(0,s.uE)('<div class="body" data-v-cc6af959><div class="left" data-v-cc6af959><div class="date" data-v-cc6af959><div class="line loads" data-v-cc6af959></div></div><div class="title" data-v-cc6af959><div class="line loads" data-v-cc6af959></div><div class="line loads" data-v-cc6af959></div></div><div class="type" data-v-cc6af959><div class="line loads" data-v-cc6af959></div></div><div class="tag mobile loads" data-v-cc6af959></div><div class="button loads" data-v-cc6af959></div></div><div class="right" data-v-cc6af959><div class="image loads" data-v-cc6af959></div><div class="tag loads" data-v-cc6af959></div></div></div>',1)]))))),128))]))}},Ie=(0,pe.Z)(be,[["__scopeId","data-v-cc6af959"]]),ye=Ie,we={class:"tm-stories-empty"};function Pe(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("div",we,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.cards,((e,i)=>((0,s.wg)(),(0,s.iD)("div",{key:i,class:"tm-stories-card-empty"},t[0]||(t[0]=[(0,s.uE)('<div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div>',2)]))))),128))])}const Ce={name:"TMStoriesEmpty",data(){return{cards:[1,2,3,4,5,6]}}},ke=(0,pe.Z)(Ce,[["render",Pe]]),Le=ke,Ne={class:"user-menu-placeholder"};function Oe(e,t){return(0,s.wg)(),(0,s.iD)("div",Ne,t[0]||(t[0]=[(0,s.uE)('<div class="header" data-v-557bd3a8><div class="avatar loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div></div><div class="voices" data-v-557bd3a8><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div></div><div class="block" data-v-557bd3a8><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div></div><div class="divider" data-v-557bd3a8></div><div class="block" data-v-557bd3a8><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div></div><div class="divider" data-v-557bd3a8></div><div class="block" data-v-557bd3a8><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div><div class="line loads" data-v-557bd3a8></div></div>',7)]))}const Re={},Me=(0,pe.Z)(Re,[["render",Oe],["__scopeId","data-v-557bd3a8"]]),Ue=Me;var De=i(62931),Be=i(48665),He=i(59545),Fe=i(36134);const Ve={class:"vacancies-placeholder"},$e={class:"image-wrapper"},We={class:"title"},Ge=["innerHTML"],xe={class:"button-wrapper"},qe={__name:"Vacancies",setup(e){const t=(0,He.Rd)((()=>i.e(7042).then(i.bind(i,67042))),He.MN),{msg:a}=(0,Fe.Q)();return(e,i)=>((0,s.wg)(),(0,s.iD)("div",Ve,[(0,s._)("div",$e,[(0,s.Wm)((0,De.SU)(t))]),(0,s._)("h2",We,(0,n.zw)((0,De.SU)(a)("VACANCIES_PLACEHOLDER_TITLE")),1),(0,s._)("p",{class:"description",innerHTML:(0,De.SU)(a)("VACANCIES_PLACEHOLDER_DESCRIPTION")},null,8,Ge),(0,s._)("div",xe,[(0,s.Wm)(Be.Z,{onClick:i[0]||(i[0]=t=>e.$router.push({name:"USER_SETTINGS_SPECS"}))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,De.SU)(a)("VACANCIES_PLACEHOLDER_BUTTON")),1)])),_:1})])]))}},Ye=(0,pe.Z)(qe,[["__scopeId","data-v-14743c42"]]),Ze=Ye,je={article:!0,articleBody:!0,articleCards:!0,hubs:!0,categories:!0,preset:!0,conversations:!0,messages:!0,static:!0,static_section_name:!0,static_dropdown:!0,static_tabs:!0,static_article:!0,comment:!0,form:!0,profileInfo:!0,userProfileCard:!0,hubProfileCard:!0,inset_salary:!0,inset_questions:!0,inset_courses:!0,inset_vacancies:!0,inset_company_courses:!0,promo_block:!0,gallery:!0,banner:!0,table:!0,line:!0,lines:!0,funnels:!0,statistics:!0,events:!0,eventCard:!0,stories:!0,userMenu:!0,adfoxBanner:!0,vacancies:!0},Ke={name:"TMPlaceholder",components:{TMEventsPlaceholder:ye,EventCardPlaceholder:fe,StoriesPlaceholder:Le,TMUserMenuPlaceholder:Ue,TMAdfoxBannerPlaceholder:he,TMVacancies:Ze},props:{type:{type:String,validator(e){return e in je},default:null},times:{type:Number,default:1},responsive:{type:Boolean,default:!0},modificator:{type:String,default:""},extra:{type:null,default:null}},methods:{generateRandomWidth:de.r,bem:ue.P}},ze=(0,pe.Z)(Ke,[["render",ce]]),Qe=ze},81864:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){const l=(0,s.Q2)("hotkey");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{ref:"wrapper",class:(0,n.C_)(["tm-popover",r.bem("tm-popover",{variant:i.variant})])},[(0,s.WI)(e.$slots,"default")],2)),[[l,{esc:()=>e.$emit("close")}]])}var o=i(95551),r=i(25109);const l={name:"TMPopover",props:{placement:{type:String,default:"bottom-start"},offset:{type:[Array,Function],default:()=>[0,8]},root:{type:"undefined"===typeof window?null:[HTMLElement,SVGElement],required:!0},variant:{type:String,default:null},destroyOnRouteChange:Boolean,observeShift:Boolean,customModifiers:{type:Array,default:()=>[]}},emits:["close"],data(){return{popper:null,performanceObserver:null}},mounted(){if(document.addEventListener("click",this.handleOuterClick),this.popper=(0,o.fi)(this.root,this.$refs.wrapper,{placement:this.placement,modifiers:[{name:"offset",options:{offset:this.offset}},...this.customModifiers]}),this.observeShift){const e=()=>this.popper.update();this.performanceObserver=new PerformanceObserver(e),this.performanceObserver.observe({entryTypes:["layout-shift"]})}},beforeUnmount(){if(document.removeEventListener("click",this.handleOuterClick),this.performanceObserver&&this.performanceObserver.disconnect(),!this.popper)return;const e=this.$refs.wrapper;getComputedStyle(e).transition?(e.addEventListener("transitionend",(()=>{this.popper.destroy()})),e.addEventListener("transitioncancel",(()=>{this.popper.destroy()}))):this.popper&&this.popper.destroy()},methods:{bem:r.P,handleOuterClick(e){this.root.contains(e.target)||this.$refs.wrapper.contains(e.target)||this.$emit("close")}}};var c=i(83744);const u=(0,c.Z)(l,[["render",a]]),d=u},93827:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var s=i(66252),n=i(56612);const a={class:"tm-popup-base__body"};function o(e,t,i,o,r,l){const c=(0,s.up)("TMSvgImg"),u=(0,s.up)("TMOverlay"),d=(0,s.Q2)("hotkey");return(0,s.wg)(),(0,s.j4)(u,{onClose:l.close},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,n.C_)(["tm-popup-base__wrapper",l.bem("tm-popup-base__wrapper",{centered:i.centered})])},[(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",{class:"tm-popup-base__close","data-test-id":"popup-settings-close",onClick:t[0]||(t[0]=(...e)=>l.close&&l.close(...e))},[(0,s.Wm)(c,{id:"close",class:"tm-popup-base__close-icon"})])),[[d,{esc:l.close}]]),(0,s._)("div",a,[(0,s.WI)(e.$slots,"default")])],2)])),_:3},8,["onClose"])}var r=i(18490),l=i(39639),c=i(25109);const u={name:"TMPopupBase",components:{TMOverlay:r.Z,TMSvgImg:l.Z},props:{centered:{type:Boolean,default:!1}},emits:["close"],methods:{bem:c.P,close(){this.$emit("close")}}};var d=i(83744);const m=(0,d.Z)(u,[["render",o]]),p=m},61897:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("TMBottomSheet"),l=(0,s.up)("TMScrollLockTransition"),c=(0,s.up)("TMModalWindow");return!o.isTablet&&o.isMobile?((0,s.wg)(),(0,s.j4)(l,{key:0,appear:"",name:"slide-fade"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{"no-close-button":i.noCloseButton,"no-header":i.noHeader,title:i.title,onClose:n.close},{beforeHeader:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"beforeBody")])),body:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"body")])),default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["no-close-button","no-header","title","onClose"])])),_:3})):((0,s.wg)(),(0,s.j4)(l,{key:1,appear:"",name:"transition-fade"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"no-close-button":i.noCloseButton,"no-header":i.noHeader,title:i.title,onClose:n.close},(0,s.Nv)({beforeHeader:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"beforeBody")])),default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:2},[e.$slots.body?{name:"body",fn:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"body")])),key:"0"}:void 0]),1032,["no-close-button","no-header","title","onClose"])])),_:3}))}var a=i(4803),o=i(56612);const r={class:"tm-modal-window"},l={key:0,class:"tm-modal-window__header"},c=["textContent"],u={class:"tm-modal-window__content"};function d(e,t,i,n,a,d){const m=(0,s.up)("TMSvgImg"),p=(0,s.up)("TMOverlay");return(0,s.wg)(),(0,s.j4)(p,{onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s.WI)(e.$slots,"beforeHeader"),i.noHeader?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",l,[i.noCloseButton?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"tm-modal-window__close",type:"button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,s.Wm)(m,{id:"close",size:"12"})])),i.title?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"tm-modal-window__title",textContent:(0,o.zw)(i.title)},null,8,c)):(0,s.kq)("",!0)])),(0,s._)("div",u,[(0,s.WI)(e.$slots,"default")]),(0,s.WI)(e.$slots,"body")])])),_:3})}var m=i(18490),p=i(39639);const _={name:"TMModalWindow",components:{TMSvgImg:p.Z,TMOverlay:m.Z},props:{title:{type:String,default:null},noCloseButton:Boolean,noHeader:Boolean},emits:["close"]};var h=i(83744);const g=(0,h.Z)(_,[["render",d]]),v=g;var T=i(39806),E=i(81422),S=i(84183);const f={name:"TMPopup",components:{TMModalWindow:v,TMBottomSheet:a.Z,TMScrollLockTransition:T.Z},props:{title:{type:String,default:null},trackInHistory:Boolean,hash:{type:String,default:null},noCloseButton:Boolean,noHeader:Boolean},emits:["close"],setup(e,{emit:t}){const{setHash:i,removeHash:s}=(0,E.n)(e.hash,e.trackInHistory);return{close(){t("close"),s()},open:i}},computed:{isMobile(){return(0,S.s)().isMobile},isTablet(){return(0,S.s)().isTablet}}},A=(0,h.Z)(f,[["render",n]]),b=A},6202:(e,t,i)=>{"use strict";i.d(t,{Z:()=>q});var s=i(66252),n=i(62931),a=i(56612),o=i(22201),r=i(23002),l=i(67476),c=i(49240),u=i(77025),d=i(95560),m=i(35315),p=i(59545),_=i(34059),h=i(18287);const g={class:"tm-post-author-info__meta-row"};function v(e,t,i,n,a,o){const r=(0,s.up)("TMArticleDatetimePublished"),l=(0,s.up)("TMIconCounter"),c=(0,s.up)("TMUserInfo");return(0,s.wg)(),(0,s.j4)(c,{author:i.post.author,avatar:i.post.author.avatarUrl,"avatar-size":36,class:"tm-post-author-info","login-appearance":"post","resize-image":!1,onClick:t[0]||(t[0]=t=>e.$emit("logAuthorClick"))},{default:(0,s.w5)((()=>[(0,s._)("div",g,[(0,s.Wm)(r,{article:i.post,"is-megapost-v1":!1,link:i.dateAsLink},null,8,["article","link"]),(0,s.Wm)(l,{abbreviated:"",counter:i.post.statistics.readingCount,"icon-id":"counter-views",title:e.msg("DATA_ICONS_VIEWS")},null,8,["counter","title"])])])),_:1},8,["author","avatar"])}var T=i(6222),E=i(30143),S=i(65904);const f={name:"TMPostAuthorInfo",components:{TMUserInfo:S.Z,TMIconCounter:E.Z,TMArticleDatetimePublished:T.Z},props:{post:{type:Object,required:!0},dateAsLink:{type:Boolean,default:!1}},emits:["logAuthorClick"]};var A=i(83744);const b=(0,A.Z)(f,[["render",v]]),I=b;var y=i(61426),w=i(85556),P=i(84077),C=i(39639),k=i(95687),L=i(14652),N=i(36134),O=i(8492),R=i(58748),M=i(71197),U=i(25109),D=i(29587),B=i(67267),H=i(72923),F=i(57733);const V={class:"tm-post-snippet__meta"},$={key:0,class:"tm-post-snippet__controls"},W=["title"],G=Object.assign({name:"PostSnippet"},{__name:"post-snippet",props:{post:{type:Object,required:!0},showIcons:{type:Boolean,required:!0},compactView:{type:Boolean,required:!0},dateAsLink:{type:Boolean,default:!1}},emits:["delete"],setup(e,{expose:t,emit:g}){const v=e,T=g,{isStatsAvailable:E,isEditable:S}=(0,O.X)(v.post),f=(0,r.pm)(),A=(0,o.yj)(),{msg:b,langOptions:G}=(0,N.Q)(),x=(0,n.iH)(null),q=(0,n.iH)(null),Y=(0,n.iH)(null),Z=(0,p.Rd)((()=>i.e(5121).then(i.bind(i,66874)))),{galleryRef:j,onImagesInitialized:K,handleClickOnBrokenGallery:z}=(0,L.y)(),Q=(0,n.iH)([]);(0,s.bv)((()=>{Q.value=(0,D.N)(x.value),te(),ie(),Q.value.length&&x.value.addEventListener("click",z)}));const X=(0,n.iH)(0),J=(0,n.iH)(0),ee=(0,n.iH)(null);function te(){X.value=q.value.getBoundingClientRect().height,J.value=Y.value.getBoundingClientRect().height}function ie(){if(!q.value)return;if(!v.compactView)return;const e=new ResizeObserver((()=>{te()}));e.observe(q.value),ee.value=e}(0,s.Jd)((()=>{x.value.removeEventListener("click",z),ee.value&&ee.value.disconnect()}));const se=(0,M.q)(),{isSuperAdmin:ne,userAlias:ae}=(0,l.Jk)(se),oe=(0,s.Fl)((()=>!v.compactView)),re=(0,s.Fl)((()=>{var e;return!v.compactView&&(null===(e=v.post.tags)||void 0===e?void 0:e.length)})),le=(0,s.Fl)((()=>X.value<=J.value)),ce=(0,n.iH)(!1),ue=(0,s.Fl)((()=>ce.value)),de=(0,o.tv)();function me(){v.showControls&&de.push({name:"PUBLICATION_POST_EDIT",params:{publicationId:v.post.id}})}t({editPost:me,isLoading:ce});const pe=(0,s.Fl)((()=>"draft"===v.post.status&&!v.post.timePublished&&!v.post.plannedPublishTime));function _e(){A.name.includes("_LIST_")?T("delete"):window.confirm(b("ARTICLE_DRAFT_DELETE_CONFIRM"))&&(0,H.mZ)(v.post.id,"threads").then((()=>{de.push({name:"POSTS_LIST_BY_USER",params:{login:ae.value,hl:G.value.hl}}),f.info(b("POST_DELETED"))})).catch((e=>{f.error(e.message)}))}const he=(0,R.g)();function ge(){he.isViewedPost(v.post.id)||(0,F.d1)(v.post.id).then((()=>{he.setPostView(v.post.id)})).catch((e=>{B.Z.notifyException(e)}))}return(t,i)=>{const o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",{ref_key:"rootEl",ref:x,class:"tm-post-snippet"},[(0,s.WI)(t.$slots,"top"),(0,s._)("div",V,[(0,s.Wm)(I,{"date-as-link":e.dateAsLink,post:e.post},null,8,["date-as-link","post"]),(0,n.SU)(ne)||(0,n.SU)(S)||(0,n.SU)(E)?((0,s.wg)(),(0,s.iD)("div",$,[(0,n.SU)(ne)&&e.post.checked?((0,s.wg)(),(0,s.j4)(C.Z,{key:0,id:"moderator-check",class:"tm-post-snippet__moderation","data-test-id":"postModeratorCheck"})):(0,s.kq)("",!0),(0,n.SU)(S)?((0,s.wg)(),(0,s.j4)(o,{key:1,class:"tm-post-snippet__edit","data-test-id":"postEditButton",to:{name:"PUBLICATION_POST_EDIT",params:{publicationId:e.post.id}}},{default:(0,s.w5)((()=>[(0,s.Wm)(C.Z,{id:"edit",class:"icon_edit-post","data-test-id":"postEditIcon",size:"20"})])),_:1},8,["to"])):(0,s.kq)("",!0),(0,n.SU)(E)?((0,s.wg)(),(0,s.j4)(P.Z,{key:2,class:"tm-post-snippet__stats-link",publication:e.post},null,8,["publication"])):(0,s.kq)("",!0),pe.value?((0,s.wg)(),(0,s.iD)("button",{key:3,class:"tm-post-snippet__delete","data-test-id":"postDeleteDraftButton",title:(0,n.SU)(b)("ARTICLE_DRAFT_DELETE"),onClick:_e},[(0,s.Wm)(C.Z,{id:"trash",class:"icon_edit-post","data-test-id":"articleDeleteDraftIcon",size:"20",title:(0,n.SU)(b)("ARTICLE_DRAFT_DELETE")},null,8,["title"])],8,W)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),oe.value?((0,s.wg)(),(0,s.j4)(y.Z,{key:0,class:"tm-post-snippet__hubs",hubs:e.post.hubs,"publication-type":"post"},null,8,["hubs"])):(0,s.kq)("",!0),(0,s.Wm)(d.Z,{article:e.post},null,8,["article"]),(0,s._)("div",{ref_key:"contentWrapper",ref:Y,class:(0,a.C_)((0,n.SU)(U.P)("tm-post-snippet__content-wrapper",{compact:e.compactView,hide_gradient:le.value}))},[e.compactView?((0,s.wg)(),(0,s.j4)(w.Z,{key:0,article:e.post,class:"tm-post-snippet__link"},null,8,["article"])):(0,s.kq)("",!0),(0,s._)("div",{ref_key:"content",ref:q,class:"tm-post-snippet__content"},[(0,s.Wm)(u.Z,{"article-text":e.post.textHtml,version:2},null,8,["article-text"]),e.showIcons&&!e.compactView?((0,s.wg)(),(0,s.j4)(h.Z,{key:0,threshold:[.5],onEnter:ge},{default:(0,s.w5)((()=>i[0]||(i[0]=[(0,s._)("div",null,null,-1)]))),_:1,__:[0]})):(0,s.kq)("",!0)],512)],2),re.value?((0,s.wg)(),(0,s.j4)(k.Z,{key:1,class:"tm-post-snippet__meta-list","has-show-all":"",tags:e.post.tags,title:(0,n.SU)(b)("ARTICLE_TAGS_TITLE")},null,8,["tags","title"])):(0,s.kq)("",!0),(0,s.Wm)(m.Z,{article:e.post,class:"tm-post-snippet__icons","icons-list":["rating","favorite","share","comments"]},{articleMenu:(0,s.w5)((()=>[(0,s.Wm)(c.Z,{"current-author":e.post.author,"is-post":"","publication-id":e.post.id},null,8,["current-author","publication-id"])])),_:1},8,["article"]),ue.value?((0,s.wg)(),(0,s.j4)(_.Z,{key:2})):(0,s.kq)("",!0),Q.value.length?((0,s.wg)(),(0,s.j4)((0,n.SU)(Z),{key:3,ref_key:"galleryRef",ref:j,"images-list":Q.value,onImagesInitialized:(0,n.SU)(K)},null,8,["images-list","onImagesInitialized"])):(0,s.kq)("",!0)],512)}}}),x=G,q=x},2392:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(66252),n=i(58061),a=i(56612),o=i(58748);const r={class:"tm-project-block-items"},l=["data-test-id"],c=["href"],u=["src"],d={class:"properties"},m=["data-test-id"],p=(0,s.aZ)({__name:"project-block-items",props:{items:{},imageVisible:{type:Boolean,default:!1},searchParams:{default:null}},emits:["click"],setup(e,{emit:t}){const i=t,p=(0,o.g)(),_=(0,s.Fl)((()=>p.compactView?e.items.slice(0,3):e.items));function h(t){const i=new URL(t.itemUrl);return e.searchParams&&Object.entries(e.searchParams).forEach((([e,t])=>t?i.searchParams.append(e,t):null)),i.href}return(e,t)=>((0,s.wg)(),(0,s.iD)("ul",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(_.value,((o,r)=>((0,s.wg)(),(0,s.iD)("li",{key:r,class:"item","data-test-id":`project-block-item-${r}`},[(0,s._)("a",{class:"title",href:h(o),rel:"noopener",target:"_blank",onClick:t[0]||(t[0]=(0,n.iM)((e=>i("click",e)),["left"])),onMouseup:t[1]||(t[1]=(0,n.iM)((e=>i("click",e)),["middle"]))},[e.imageVisible&&o.imageUrl?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"image",src:o.imageUrl},null,8,u)):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,a.zw)(o.title),1)],40,c),(0,s._)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.properties,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e,class:"property-item","data-test-id":`project-block-item-${r}-property`},(0,a.zw)(e),9,m)))),128))])],8,l)))),128))]))}});var _=i(83744);const h=(0,_.Z)(p,[["__scopeId","data-v-200fa5d4"]]),g=h},37872:(e,t,i)=>{"use strict";i.d(t,{Z:()=>E});var s=i(66252),n=i(62931),a=i(31596),o=i(32547),r=i(2392),l=i(10390),c=i(36134),u=i(2016),d=i(71197),m=i(45506),p=i(19913),_=i(11529),h=i(80777),g=i(70806);const v=(0,s.aZ)({__name:"company-courses",props:{location:{},companyTitle:{default:null},companyAlias:{default:null},schoolAlias:{default:null},hubs:{default:()=>[]},tags:{default:()=>[]}},emits:["loadFailed","loadedEmpty"],setup(e,{emit:t}){const i=t,{msg:v,langOptions:T}=(0,c.Q)(),E=(0,n.iH)(),S=(0,s.Fl)((()=>({blockUuid:E.value,company:e.companyAlias}))),f=(0,l.s)(S),A=(0,n.iH)(!0),b=(0,n.iH)([]);(0,s.bv)((async()=>{if(e.companyAlias){A.value=!0;try{const{items:t,uuid:s}=await(0,h.Sr)({companyAlias:e.companyAlias,tags:e.tags,hubs:e.hubs,hl:T.value.hl});b.value=t.map((e=>({...e,properties:e.properties.slice(0,-2)}))),E.value=s,t.length||i("loadedEmpty")}catch{i("loadFailed")}finally{A.value=!1}}}));const I=(0,s.Fl)((()=>e.schoolAlias&&e.companyAlias)),y=(0,s.Fl)((()=>{let e="courses_postlist";return I.value&&(e="courses_postlist_company"),{medium:"habr_block",source:"habr_mob",campaign:e}})),w=(0,s.Fl)((()=>{let t=`career_${e.location}`;return I.value&&(t+="_company"),t}));function P(t){var i;const s=u.Z.toUtm({...y.value,content:t});return(null===(i=(0,_.e)((0,m.B)(e.schoolAlias),s))||void 0===i?void 0:i.href)??""}function C(e){(0,p.IZ)(`tm_block_${w.value}_${e}`)}function k(){C("post"),(0,g.o)({uuid:(0,d.q)().uuid,blockUuid:E.value,company:e.companyAlias})}return(e,t)=>!A.value&&b.value.length?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,ref_key:"container",ref:f,"footer-link":P("courses_all"),"footer-title":(0,n.SU)(v)("COURSES_ALL"),title:(0,n.SU)(v)("COMPANY_COURSES_TITLE",{company:e.companyTitle?e.companyTitle:"none"}),"title-link":P("courses"),variant:"company-courses",onClick:t[0]||(t[0]=e=>C("courses"))},{default:(0,s.w5)((()=>[(0,s.Wm)(r.Z,{"image-visible":"",items:b.value,"search-params":(0,n.SU)(u.Z).toUtm({...y.value,content:"course"}),onClick:k},null,8,["items","search-params"])])),_:1},8,["footer-link","footer-title","title","title-link"])):A.value?((0,s.wg)(),(0,s.j4)(a.Z,{key:1,type:"inset_company_courses"})):(0,s.kq)("",!0)}}),T=v,E=T},32547:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612);const a={class:"title"},o=["href","textContent"],r={"data-test-id":"project-block-content"},l={key:0,class:"footer","data-test-id":"project-block-footer"},c=["href","textContent"],u=(0,s.aZ)({__name:"project-block",props:{title:{},titleLink:{},footerTitle:{},footerLink:{},variant:{},showFooter:{type:Boolean,default:!0},customHeaderStyle:{type:[Boolean,null,String,Object,Array],default:()=>({})}},emits:["click"],setup(e){return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-project-block",{[`tm-project-block--${e.variant}`]:!!e.variant}]),"data-test-id":"project-block"},[(0,s._)("div",{class:"header","data-test-id":"project-block-header",style:(0,n.j5)(e.customHeaderStyle)},[(0,s._)("div",a,[(0,s._)("a",{class:"title-link","data-test-id":"project-block-title-link",href:e.titleLink,rel:"noopener",target:"_blank",onClick:t[0]||(t[0]=t=>e.$emit("click",t)),textContent:(0,n.zw)(e.title)},null,8,o)])],4),(0,s._)("div",r,[(0,s.WI)(e.$slots,"default")]),e.showFooter?((0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("a",{class:"footer-link","data-test-id":"project-block-footer-link",href:e.footerLink,rel:"noopener",target:"_blank",onClick:t[1]||(t[1]=t=>e.$emit("click",t)),textContent:(0,n.zw)(e.footerTitle)},null,8,c)])):(0,s.kq)("",!0)],2))}});var d=i(83744);const m=(0,d.Z)(u,[["__scopeId","data-v-5bbfb592"]]),p=m},75554:(e,t,i)=>{"use strict";i.d(t,{Z:()=>se});var s=i(66252),n=i(62931),a=i(31596),o=i(32547),r=i(2392),l=i(36134),c=i(2016),u=i(19913),d=i(11529),m=i(80777);const p=(0,s.aZ)({__name:"courses",props:{location:{},hubs:{default:()=>[]}},emits:["loadedEmpty","loadFailed"],setup(e,{emit:t}){const i={source:"habr"},p=t,{msg:_,langOptions:h}=(0,l.Q)(),g=(0,n.iH)(!0),v=(0,n.iH)([]);(0,s.bv)((async()=>{var t;if(g.value=!0,null===(t=h.value.fl)||void 0===t||!t.includes("ru"))return g.value=!1,void p("loadedEmpty");try{const{items:t}=await(0,m.$i)({hubs:e.hubs});v.value=t,0===t.length&&p("loadedEmpty")}catch{p("loadFailed")}finally{g.value=!1}}));const T=(0,s.Fl)((()=>S("courses"))),E=(0,s.Fl)((()=>S("courses_all")));function S(e){var t;const s=c.Z.toUtm({...i,content:e});return(null===(t=(0,d.e)("https://career.habr.com/courses",s))||void 0===t?void 0:t.href)??""}function f(t){const i=`career_courses_${e.location}`;(0,u.IZ)(`tm_block_${i}_${t}`)}return(e,t)=>{var l;return!g.value&&null!==(l=v.value)&&void 0!==l&&l.length?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,"footer-link":E.value,"footer-title":(0,n.SU)(_)("COURSES_ALL"),title:(0,n.SU)(_)("COURSES_TITLE"),"title-link":T.value,variant:"courses",onClick:t[1]||(t[1]=e=>f("courses"))},{default:(0,s.w5)((()=>[(0,s.Wm)(r.Z,{"image-visible":"",items:v.value,"search-params":(0,n.SU)(c.Z).sourceToUtm(i),onClick:t[0]||(t[0]=e=>f("post"))},null,8,["items","search-params"])])),_:1},8,["footer-link","footer-title","title","title-link"])):g.value?((0,s.wg)(),(0,s.j4)(a.Z,{key:1,type:"inset_courses"})):(0,s.kq)("",!0)}}}),_=p,h=_,g=(0,s.aZ)({__name:"questions",props:{location:{},tags:{}},emits:["loadedEmpty","loadFailed"],setup(e,{emit:t}){const i={medium:"habr_block",source:"habr_mob",campaign:"questions_postlist"},p=t,{msg:_,langOptions:h}=(0,l.Q)(),g=(0,n.iH)(!0),v=(0,n.iH)([]);(0,s.bv)((async()=>{g.value=!0;try{const{items:t}=await(0,m.NN)({tags:e.tags,hl:h.value.hl});v.value=t,0===t.length&&p("loadedEmpty")}catch{p("loadFailed")}finally{g.value=!1}}));const T=(0,s.Fl)((()=>S("questions"))),E=(0,s.Fl)((()=>S("questions_all")));function S(e){var t;const s=c.Z.toUtm({...i,content:e});return(null===(t=(0,d.e)("https://qna.habr.com/questions",s))||void 0===t?void 0:t.href)??""}function f(t){const i=`qna_${e.location}`;(0,u.IZ)(`tm_block_${i}_${t}`)}return(e,t)=>{var l;return!g.value&&null!==(l=v.value)&&void 0!==l&&l.length?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,"footer-link":E.value,"footer-title":(0,n.SU)(_)("QUESTIONS_ALL"),title:(0,n.SU)(_)("QUESTIONS_TITLE"),"title-link":T.value,variant:"questions",onClick:t[1]||(t[1]=e=>f("questions"))},{default:(0,s.w5)((()=>[(0,s.Wm)(r.Z,{items:v.value,"search-params":(0,n.SU)(c.Z).toUtm({...i,content:"question"}),onClick:t[0]||(t[0]=e=>f("post"))},null,8,["items","search-params"])])),_:1},8,["footer-link","footer-title","title","title-link"])):g.value?((0,s.wg)(),(0,s.j4)(a.Z,{key:1,type:"inset_questions"})):(0,s.kq)("",!0)}}}),v=g,T=v;var E=i(56612);const S={class:"tm-salary-distribution"},f={class:"tm-salary-distribution__description"},A=["innerHTML"],b=["innerHTML"],I={ref:"salaryChart",class:"tm-salary-distribution__salary-chart"},y=["height","width"],w={class:"salary-chart__bars"},P=["height","width","x","y","onMouseover"],C={id:"xGrid",class:"salary-chart__grid"},k=["x2","y1","y2"],L=["y1","y2"],N=["x1","x2","y1","y2"],O={class:"salary-chart__x-labels"},R=["x","y"];function M(e,t,i,n,a,o){const r=(0,s.up)("TMTooltip");return(0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("div",f,[(0,s._)("div",{class:"tm-salary-distribution__amount",innerHTML:e.msg("SALARY_DISTRIBUTION_CURRENCY",{amount:o.salaryAverageFormatted})},null,8,A),(0,s._)("p",{class:"tm-salary-distribution__description-text",innerHTML:e.msg("SALARY_DISTRIBUTION_DESCRIPTION",{profilesAmount:i.salaryData.profilesAmount,halfYear:i.salaryData.halfYear,year:i.salaryData.year})},null,8,b)]),(0,s._)("div",I,[a.isTooltipShown?((0,s.wg)(),(0,s.j4)(r,{key:0,content:a.tooltipContent,"flip-options":o.tooltipFlipOptions,placement:"top-start",root:a.tooltipRoot},null,8,["content","flip-options","root"])):(0,s.kq)("",!0),((0,s.wg)(),(0,s.iD)("svg",{class:"salary-chart",height:a.chartHeight,width:a.chartWidth,xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("g",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.stats,((e,i)=>((0,s.wg)(),(0,s.iD)("rect",{key:`bar-${i}-${e.percent}`,ref_for:!0,ref:"statBar",class:"salary-chart__bar",height:o.getBarHeight(e.percent),width:o.barWidth-a.barsGap,x:o.barWidth*i+a.xPadding+a.barsGap,y:a.chartHeight-o.getBarHeight(e.percent),onMouseout:t[0]||(t[0]=(...e)=>o.hideTooltip&&o.hideTooltip(...e)),onMouseover:t=>o.showTooltip(t,e)},null,40,P)))),128))]),(0,s._)("g",C,[(0,s._)("line",{x1:"15",x2:a.chartWidth-a.xPadding,y1:a.chartHeight,y2:a.chartHeight},null,8,k),(0,s._)("line",{x1:"15",x2:"15",y1:a.chartHeight,y2:a.chartHeight+7},null,8,L),(0,s._)("line",{x1:a.chartWidth-a.xPadding,x2:a.chartWidth-a.xPadding,y1:a.chartHeight,y2:a.chartHeight+7},null,8,N)]),(0,s._)("g",O,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.xLabels,((e,t)=>((0,s.wg)(),(0,s.iD)("text",{key:`step${e}`,x:o.xLabelsStep*t+a.xPadding,y:a.chartHeight+20},(0,E.zw)(e)+"k ",9,R)))),128))])],8,y))],512)])}var U=i(93096),D=i.n(U);const B=["innerHTML"];function H(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("div",{ref:"tooltip",class:"tm-tooltip",innerHTML:i.content},null,8,B)}var F=i(95551);const V={name:"TMTooltip",props:{placement:{type:String,default:"bottom-start"},offset:{type:Array,default:()=>[0,8]},root:{type:null,required:!0},content:{type:String,default:""},flipOptions:{type:Object,default:null}},data(){return{tooltip:null}},mounted(){this.tooltip=(0,F.fi)(this.root,this.$refs.tooltip,{placement:this.placement,modifiers:[{name:"offset",options:{offset:this.offset}},{name:"flip",options:this.flipOptions}]}),this.tooltip.update()},beforeUnmount(){this.tooltip&&this.tooltip.destroy()}};var $=i(83744);const W=(0,$.Z)(V,[["render",H]]),G=W;var x=i(84183);const q={name:"TMSalaryDistribution",components:{TMTooltip:G},props:{salaryData:{type:Object,required:!0}},data(){return{tooltipRoot:null,tooltipContent:"",isTooltipShown:!1,chartHeight:160,chartWidth:420,xPadding:15,barsGap:4}},computed:{isMobile(){return(0,x.s)().isMobile},stats(){const e=this.salaryData.labels.map((e=>e.split("-").map((e=>`${parseInt(e/1e3,10)}k`)).join(" - ")));return this.salaryData.data.map(((t,i)=>({percent:t,count:e[i]})))},chartPaddings(){return 2*(this.xPadding+this.barsGap)},barWidth(){return(this.chartWidth-this.chartPaddings)/this.stats.length},xLabelsStepsCount(){return this.isMobile?this.stats.length/2:this.stats.length},xLabels(){const e=[],t=this.getRoundedValue(this.salaryData.min),i=this.getRoundedValue(this.salaryData.max)+5,s=Math.ceil((i-t)/this.xLabelsStepsCount);for(let n=t;n<=i;n+=s)e.push(n);return e},xLabelsStep(){return(this.chartWidth-this.chartPaddings)/this.xLabelsStepsCount},salaryAverageFormatted(){return this.salaryData.average.toLocaleString("ru-RU")},tooltipFlipOptions(){return{boundary:this.$refs.salaryChart,fallbackPlacements:["top-start","top-end"]}}},mounted(){window.addEventListener("resize",this.onResizeThrottled,!1),this.onResizeThrottled()},beforeUnmount(){window.removeEventListener("resize",this.onResizeThrottled)},methods:{getRoundedValue(e){return parseInt(parseInt(e,10)/1e3,10)},getBarHeight(e){const t=Math.abs(this.stats[0].percent),i=Math.abs(this.stats[this.stats.length-1].percent);return this.chartHeight*Math.abs(e)/(t+i)},showTooltip(e,t){this.tooltipRoot=e.target,this.tooltipContent=this.msg("SALARY_DISTRIBUTION_PERCENT",{count:t.count,percent:t.percent}),this.isTooltipShown=!0},hideTooltip(){this.isTooltipShown=!1},updateChartWidth(){const e=this.$refs.salaryChart,t=e.getBoundingClientRect().width;this.chartWidth=t},onResizeThrottled:D()((function(){this.updateChartWidth()}),100)}},Y=(0,$.Z)(q,[["render",M]]),Z=Y,j=(0,s.aZ)({inheritAttrs:!1,__name:"salary",props:{location:{}},emits:["loadedEmpty","loadFailed"],setup(e,{emit:t}){const i={medium:"habr_block",source:"habr_mob",campaign:"salary_postlist"},r=t,{msg:p}=(0,l.Q)(),_=(0,n.iH)(!0),h=(0,n.iH)(null),g=(0,s.Fl)((()=>T("salary"))),v=(0,s.Fl)((()=>T("salary_all")));function T(e){var t,s;const n=c.Z.toUtm({...i,content:e});return(null===(t=(0,d.e)((null===(s=h.value)||void 0===s?void 0:s.sourceUrl)??"",n))||void 0===t?void 0:t.href)??""}function E(){(0,u.IZ)(`tm_block_career_${e.location}_salary`)}return(0,s.bv)((async()=>{_.value=!0;try{const e=await(0,m.l9)();_.value=!1,h.value=e,e||r("loadedEmpty")}catch{r("loadFailed")}finally{_.value=!1}})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",null,[!_.value&&h.value?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,"footer-link":v.value,"footer-title":(0,n.SU)(p)("SALARY_ALL"),title:(0,n.SU)(p)("SALARY_TITLE"),"title-link":g.value,variant:"salary",onClick:E},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{"salary-data":h.value},null,8,["salary-data"])])),_:1},8,["footer-link","footer-title","title","title-link"])):_.value?((0,s.wg)(),(0,s.j4)(a.Z,{key:1,type:"inset_salary"})):(0,s.kq)("",!0)]))}}),K=j,z=K;var Q=i(62640),X=i(67476);function J(e){var t;if(0===e.length||null===(t=e[0])||void 0===t||!t.length)return null;const i=e.slice().sort((([,e],[,t])=>e-t)),s=100*Math.random();let n=0,a=e[0][0];return i.forEach((([e,t])=>{n<=s&&(a=e),n+=t})),a}const ee=(0,X.Q_)("projectsBlocks",{state:()=>({activeBlocks:{}}),getters:{getRandomBlockName:e=>t=>{const i=t.filter((t=>!e.activeBlocks[t])).map(((e,t,i)=>[e,Math.floor(100/i.length)]));return J(i)},getRegisteredBlockById(e){return t=>Object.keys(e.activeBlocks).find((i=>e.activeBlocks[i]===t))}},actions:{registerBlock(e,t){this.activeBlocks={...this.activeBlocks,[e]:t}},unregisterBlock(e){this.activeBlocks={...this.activeBlocks,[e]:""}}}}),te=(0,s.aZ)({__name:"random-project-block",props:{blocks:{default:()=>({Courses:h,Questions:T,Salary:z,Vacancies:Q.Z})},location:{},hubs:{default:()=>[]},tags:{default:()=>[]},blockId:{},companyTitle:{default:null},companyAlias:{default:null},careerAlias:{default:null},schoolAlias:{default:null}},setup(e){const t=ee(),i=(0,n.iH)(t.getRegisteredBlockById(e.blockId));i.value||r();const a=(0,s.Fl)((()=>i.value?e.blocks[i.value]:null)),o=(0,n.iH)([]);function r(){i.value&&o.value.push(i.value),i.value=t.getRandomBlockName(Object.keys(e.blocks)),i.value&&t.registerBlock(i.value,e.blockId)}return(0,s.Jd)((()=>{i.value&&t.unregisterBlock(i.value),o.value.forEach((e=>t.unregisterBlock(e)))})),(e,t)=>i.value?((0,s.wg)(),(0,s.j4)((0,s.LL)(a.value),{key:0,"career-alias":e.careerAlias,"company-alias":e.companyAlias,"company-title":e.companyTitle,hubs:e.hubs,location:e.location,"school-alias":e.schoolAlias,tags:e.tags,onLoadFailed:r,onLoadedEmpty:r},null,40,["career-alias","company-alias","company-title","hubs","location","school-alias","tags"])):(0,s.kq)("",!0)}}),ie=te,se=ie},62640:(e,t,i)=>{"use strict";i.d(t,{Z:()=>S});var s=i(66252),n=i(62931),a=i(31596),o=i(32547),r=i(2392),l=i(10390),c=i(36134),u=i(2016),d=i(71197),m=i(68970),p=i(45506),_=i(19913),h=i(11529),g=i(80777),v=i(70806);const T=(0,s.aZ)({__name:"vacancies",props:{location:{},companyTitle:{default:()=>{}},companyAlias:{default:()=>{}},careerAlias:{default:null},hubs:{default:()=>[]},tags:{default:()=>[]},isInCompanyLanding:{type:Boolean,default:!1}},emits:["loadedEmpty","loadFailed"],setup(e,{emit:t}){const i=t,T=(0,d.q)(),E=(0,m.UJ)(),{msg:S,langOptions:f}=(0,c.Q)(),A=(0,n.iH)(),b=(0,s.Fl)((()=>({blockUuid:A.value,company:e.companyAlias}))),I=(0,l.s)(b),y=(0,n.iH)(!0),w=(0,n.iH)([]),P=(0,s.Fl)((()=>{var t;return!(e.isInCompanyLanding||!T.userAlias)&&!(null!==(t=E.getUserSpecialization(T.userAlias))&&void 0!==t&&t.specializations.length)}));(0,s.bv)((async()=>{if(T.userAlias&&await E.loadUserSpecialization(T.userAlias),P.value)y.value=!1;else{y.value=!0;try{const{items:t,uuid:s}=await(0,g.uC)({companyAlias:e.companyAlias,tags:e.tags,hubs:e.hubs,hl:f.value.hl});w.value=t,s&&(A.value=s),t.length||i("loadedEmpty")}catch{i("loadFailed")}finally{y.value=!1}}}));const C=(0,s.Fl)((()=>e.careerAlias&&e.companyAlias)),k=(0,s.Fl)((()=>({medium:"habr_block",source:"habr_mob",campaign:C.value?"vacancies_postlist_company":"vacancies_postlist"}))),L=(0,s.Fl)((()=>O("vacancies"))),N=(0,s.Fl)((()=>O("vacancies_all")));function O(t){var i;const s=u.Z.toUtm({...k.value,content:t});return(null===(i=(0,h.e)((0,p.M)(e.careerAlias),s))||void 0===i?void 0:i.href)??""}function R(t){let i=`career_${e.location}`;C.value&&(i+="_company"),(0,_.IZ)(`tm_block_${i}_${t}`)}function M(){R("post"),(0,v.o)({uuid:T.uuid,company:e.companyAlias,blockUuid:A.value})}return(e,t)=>{var i;return!y.value&&null!==(i=w.value)&&void 0!==i&&i.length?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,ref_key:"container",ref:I,"custom-header-style":P.value?{marginBottom:"16px"}:void 0,"footer-link":N.value,"footer-title":(0,n.SU)(S)("VACANCIES_ALL"),"show-footer":!P.value,title:(0,n.SU)(S)("VACANCIES_TITLE",{company:e.companyTitle?e.companyTitle:"none"}),"title-link":L.value,variant:"vacancies",onClick:t[0]||(t[0]=e=>R("vacancies"))},{default:(0,s.w5)((()=>[P.value?((0,s.wg)(),(0,s.j4)(a.Z,{key:0,type:"vacancies"})):((0,s.wg)(),(0,s.j4)(r.Z,{key:1,items:w.value,"search-params":(0,n.SU)(u.Z).toUtm({...k.value,content:"vacancy"}),onClick:M},null,8,["items","search-params"]))])),_:1},8,["custom-header-style","footer-link","footer-title","show-footer","title","title-link"])):y.value?((0,s.wg)(),(0,s.j4)(a.Z,{key:1,type:"inset_vacancies"})):(0,s.kq)("",!0)}}}),E=T,S=E},41369:(e,t,i)=>{"use strict";i.d(t,{Z:()=>P});var s=i(66252),n=i(62931),a=i(56612),o=i(67476),r=i(70352),l=i(59545),c=i(18287),u=i(31596),d=i(38947),m=i(7550),p=i(84183),_=i(84379),h=i(19913),g=i(25874),v=i(581);const T=["href","rel","onClick"],E={class:"tm-promo-block__head"},S={class:"tm-promo-block__image-wrapper"},f=["src"],A={key:0,class:"tm-promo-block__label"},b={class:"tm-promo-block__info"},I=["innerHTML"],y=Object.assign({name:"TMPromoBlock"},{__name:"promo-block",props:{layout:{type:String,default:"articles-list"},gaType:{type:[String,null],default:null}},setup(e){const t=(0,l.Rd)((()=>i.e(8266).then(i.bind(i,58266))),l.MN),y=e,w=(0,_.W)(),{promoBlockPosts:P,isLoading:C,hasLoaded:k}=(0,o.Jk)(w),L=(0,p.s)(),N=(0,n.iH)(!1),O=(0,n.iH)(null),R=(0,n.iH)([]),M=(0,s.Fl)((()=>"article"===y.layout));function U(e){N.value=e.matches}function D(){y.gaType?(0,h.IZ)(`tm_block_promo_${y.gaType}`):M.value?(0,h.IZ)("tm_block_promo_post"):(0,h.IZ)("tm_block_promo_feed_middle")}function B(e){return(0,v.getResizedSrc)(e,L.isDesktop?390:120)}function H({events:e}){const t=e&&e.view;t&&!R.value.includes(t)&&(R.value.push(t),(0,g.s)([t]))}return(0,s.bv)((()=>{O.value=window.matchMedia("(max-width: 413px)"),O.value.addListener(U),N.value=O.value.matches})),(0,s.Jd)((()=>{O.value&&O.value.removeListener(U)})),(e,i)=>((0,s.wg)(),(0,s.iD)("div",null,[!(0,n.SU)(C)&&(0,n.SU)(P)?((0,s.wg)(),(0,s.j4)(r.Z,{key:0,spacing:M.value?"around":"bottom",title:e.msg("PROMO_BLOCK_TITLE")},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(N.value?d.Z:"div"),{class:"tm-promo-block__content-wrapper","data-test-id":N.value?"swiper-slider":null,pagination:"","slides-per-view":1},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(P),(e=>((0,s.wg)(),(0,s.j4)((0,s.LL)(N.value?m.Z:"div"),{key:e.link.url,class:"tm-promo-block__item-wrapper"},{default:(0,s.w5)((()=>[(0,s.Wm)(c.Z,{threshold:[.5],onEnter:t=>H(e)},{default:(0,s.w5)((()=>[(0,s._)("a",{class:"tm-promo-block__item tm-article-title__link",href:e.link.url,rel:"nofollow "+(e.external?"sponsored":""),onClick:t=>D(e.link.url)},[(0,s._)("header",E,[(0,s._)("div",S,[(0,s._)("img",{alt:"",class:"tm-promo-block__image",src:B(e.image.url)},null,8,f)]),e.label?((0,s.wg)(),(0,s.iD)("div",A,[(0,s.Uk)((0,a.zw)(e.label)+" ",1),e.external?((0,s.wg)(),(0,s.j4)((0,n.SU)(t),{key:0,class:"tm-block-promo__external","data-test-id":"external-link-icon"})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",b,[(0,s._)("h3",{class:"tm-promo-block__title",innerHTML:e.title},null,8,I)])],8,T)])),_:2},1032,["onEnter"])])),_:2},1024)))),128))])),_:1},8,["data-test-id"]))])),_:1},8,["spacing","title"])):(0,n.SU)(C)||!(0,n.SU)(k)||(0,n.SU)(P)?((0,s.wg)(),(0,s.j4)(u.Z,{key:1,type:"promo_block"})):(0,s.kq)("",!0)]))}}),w=y,P=w},91813:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(66252),n=i(56612);const a=["href","textContent"],o={class:"tm-promo-post-link__label"};function r(e,t,i,r,l,c){const u=(0,s.up)("TMExternalIcon"),d=(0,s.up)("TMIntersect");return(0,s.wg)(),(0,s.j4)(d,{threshold:[.5],onEnter:c.trackView},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,n.C_)(["tm-promo-post-link",c.bem("tm-promo-post-link",{appearance:i.appearance})])},[(0,s._)("a",{class:(0,n.C_)(["tm-promo-post-link__link",c.bem("tm-promo-post-link__link",{appearance:i.appearance})]),href:i.promoPost.link.url,onClick:t[0]||(t[0]=t=>e.$emit("click")),textContent:(0,n.zw)(i.promoPost.title)},null,10,a),(0,s._)("div",o,[(0,s.Uk)((0,n.zw)(i.promoPost.label)+" ",1),i.promoPost.external?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"tm-promo-post-link__external","data-test-id":"external-link-icon",height:"12",width:"12"})):(0,s.kq)("",!0)])],2)])),_:1},8,["onEnter"])}var l=i(59545),c=i(18287),u=i(25109),d=i(25874);const m=(0,l.Rd)((()=>i.e(8266).then(i.bind(i,58266))),l.MN),p={name:"TMPromoPostLink",components:{TMIntersect:c.Z,TMExternalIcon:m},props:{appearance:{type:String,default:"most-reading"},promoPost:{type:Object,required:!0}},emits:["click"],data(){return{tracked:!1}},methods:{bem:u.P,trackView(){const e=this.promoPost.events&&this.promoPost.events.view;e&&!this.tracked&&(this.tracked=!0,(0,d.s)([e]))}}};var _=i(83744);const h=(0,_.Z)(p,[["render",r]]),g=h},61426:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var s=i(66252),n=i(56612);const a={class:"tm-publication-hubs__container"},o={class:"tm-publication-hubs"},r=["innerHTML"],l=["title"];function c(e,t,i,c,u,d){const m=(0,s.up)("TMHubLink");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",o,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.hubs,((t,a)=>((0,s.wg)(),(0,s.iD)("span",{key:a,class:(0,n.C_)(d.bem("tm-publication-hub__link-container",{"old-megapost":i.isOldMegapost}))},[(0,s.Wm)(m,{class:(0,n.C_)(d.bem("tm-publication-hub__link",{subscribed:t.relatedData&&t.relatedData.isSubscribed,"old-megapost":i.isOldMegapost})),hub:t,"publication-type":i.publicationType},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:t.title},null,8,r),t.isProfiled?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tm-article-snippet__profiled-hub",title:e.msg("PROFILED_HUB")}," * ",8,l)):(0,s.kq)("",!0)])),_:2},1032,["class","hub","publication-type"])],2)))),128))])])}var u=i(10058),d=i(25109),m=i(99691);const p={name:"TMPublicationHubs",components:{TMHubLink:u.Z},props:{hubs:{type:Array,required:!0},isOldMegapost:Boolean,publicationType:{type:String,default:"article",validator:(0,m.HZ)(["article","post"])}},methods:{bem:d.P}};var _=i(83744);const h=(0,_.Z)(p,[["render",c]]),g=h},90887:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612);const a=["href"],o={key:3};function r(e,t,i,r,l,c){const u=(0,s.up)("router-link");return c.shouldShowLabel?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,n.C_)(c.bem("tm-publication-label",{variant:c.variants}))},["technotext"===i.label.typeOf?((0,s.wg)(),(0,s.j4)(u,{key:0,to:{name:"ARTICLES_LIST_TECHNOTEXT_ALL",params:{year:c.getTechnotextYear(i.label.type)}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(i.label.title),1)])),_:1},8,["to"])):"sandbox"===i.label.type?((0,s.wg)(),(0,s.j4)(u,{key:1,to:{name:"AWAIT_INVITE_AUTHORS_ARTICLES_LIST"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(i.label.title),1)])),_:1})):i.label.data&&i.label.data.url?((0,s.wg)(),(0,s.iD)("a",{key:2,href:i.label.data.url,target:"_blank"},(0,n.zw)(i.label.title),9,a)):((0,s.wg)(),(0,s.iD)("span",o,(0,n.zw)(i.label.title),1))],2)):(0,s.kq)("",!0)}var l=i(71197),c=i(25109);const u={name:"TMPublicationLabel",props:{label:{type:Object,required:!0}},computed:{shouldShowLabel(){switch(this.label.type){case"textruCheck":return(0,l.q)().isSuperAdmin;default:return!0}},variants(){const e=[this.label.type];return"season"===this.label.typeOf&&e.push(this.label.typeOf),e}},methods:{getTechnotextYear(e){return parseInt(e.substring(10),10)},bem:c.P}};var d=i(83744);const m=(0,d.Z)(u,[["render",r]]),p=m},85556:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252),n=i(58061);function a(e,t,i,a,o,r){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(l,{to:r.route,onClick:t[0]||(t[0]=(0,n.iM)((t=>e.$emit("click",t)),["left"])),onMouseup:t[1]||(t[1]=(0,n.iM)((t=>e.$emit("click",t)),["middle"]))},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["to"])}var o=i(36134),r=i(10976),l=i(44383);const c={name:"TMPublicationLink",props:{article:{type:Object,required:!0,validator(e){const t=(0,r.T)(e);return"id"in e&&(!!t&&(!e.isCorporative||!!e.hubs&&e.hubs.some((e=>"corporative"===e.type))))}}},emits:["click"],setup(){const{langOptions:e}=(0,o.Q)();return{langOptions:e}},computed:{route(){return(0,l.uT)(this.article,this.langOptions.hl)}}};var u=i(83744);const d=(0,u.Z)(c,[["render",a]]),m=d},75591:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612);const a={class:"pull-down"};function o(e,t,i,o,r,l){const c=(0,s.up)("TMSvgImg");return(0,s.wg)(),(0,s.iD)("div",a,["up"===i.direction?(0,s.WI)(e.$slots,"default",{key:0}):(0,s.kq)("",!0),(0,s._)("div",{class:"pull-down__header",style:(0,n.j5)({height:r.pullDown.height+"px"})},[(0,s._)("div",{class:"pull-down__content",style:(0,n.j5)(l.pullDownContentStyle)},[l.isLoading?((0,s.wg)(),(0,s.j4)(c,{key:0,id:"refresh",class:"icon_refresh pull-down_circle-animate",size:"24"})):((0,s.wg)(),(0,s.j4)(c,{key:1,id:"pull-arrow",class:(0,n.C_)(["pull-down__icon",l.labelClass]),size:"24"},null,8,["class"]))],4)],4),"down"===i.direction?(0,s.WI)(e.$slots,"default",{key:1}):(0,s.kq)("",!0)])}var r=i(39639);const l={ERROR:-1,START:0,READY:1,REFRESH:2},c="height .2s ease",u={name:"TMPullToRefresh",components:{TMSvgImg:r.Z},props:{onRefresh:{type:Function,required:!0},config:{type:Object,default:()=>{}},direction:{type:String,default:"down",validator(e){return["up","down"].includes(e)}}},data(){return{pullDown:{status:0,height:0,msg:""},canPull:!1,currentConfig:this.config,lastY:null,touchPosition:{start:0,distance:0}}},computed:{label(){return this.pullDown.status===l.ERROR?this.pullDown.msg:this.customLabels[this.pullDown.status+1]},isLoading(){return this.pullDown.status===l.REFRESH},labelClass(){return this.pullDown.status===l.ERROR?this.pullDown.msg:this.customLabels[this.pullDown.status+1]},customLabels(){const e={error:"",start:"down"===this.direction?"pull-down__arrow":"pull-down__arrow_down",ready:"down"===this.direction?"pull-down__arrow_down":"pull-down__arrow",loading:""},t=void 0!==this.currentConfig.errorLabel?this.currentConfig.errorLabel:e.error,i=void 0!==this.currentConfig.startLabel?this.currentConfig.startLabel:e.start,s=void 0!==this.currentConfig.readyLabel?this.currentConfig.readyLabel:e.ready,n=void 0!==this.currentConfig.loadingLabel?this.currentConfig.loadingLabel:e.loading;return[t,i,s,n]},pullDownContentStyle(){return{bottom:(this.currentConfig.pullDownHeight-40)/2+"px"}}},mounted(){this.$nextTick((()=>{const e=this.$el;if(!e)return;const t=e.querySelector(".pull-down__header");this.currentConfig.pullDownHeight=this.currentConfig.pullDownHeight||60,e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd),t.addEventListener("transitionend",this.handleTransitionEnd)}))},beforeUnmount(){const e=this.$el,t=this.$el.querySelector(".pull-down__header");e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchmove",this.handleTouchMove,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("transitionend",this.handleTransitionEnd)},methods:{resetPullDown(e,t){const i=this.$el.querySelector(".pull-down__header"),s=e;t&&(i.style.transition=c),s.height=0,s.status=l.START},handleTouchStart(e){const t=this.$el.querySelector(".pull-down__header"),i="down"===this.direction?window.scrollY<20:t.getBoundingClientRect().top<=window.innerHeight,{baseOffset:s,focusOffset:n}=document.getSelection(),a=s!==n;this.canPull=i&&!a,this.touchPosition.start=e.touches.item(0).pageY,this.lastY=e.touches.item(0).pageY},handleTouchMove(e){const{currentY:t}=e.touches.item(0);if(!this.canPull||t>this.lastY)return void(this.lastY=t);let i=e.touches.item(0).pageY-this.touchPosition.start;i="down"===this.direction?i:-i,i=i>80?80:i,i>10&&document.documentElement.setAttribute("data-pulling",!0),this.touchPosition.distance=i,this.pullDown.height=i,i>this.currentConfig.pullDownHeight?this.pullDown.status=l.READY:this.pullDown.status=l.START,this.lastY=t},handleTouchEnd(){const e=this.$el.querySelector(".pull-down__header");if(this.canPull=!1,e.style.transition=c,this.touchPosition.distance-this.$el.scrollTop>this.currentConfig.pullDownHeight)if(this.$el.scrollTop=0,this.pullDown.height=this.currentConfig.pullDownHeight,this.pullDown.status=l.REFRESH,this.onRefresh&&"function"===typeof this.onRefresh){const e=this.onRefresh();e&&e.then&&"function"===typeof e.then?e.then((()=>{this.resetPullDown(this.pullDown,!0)}),(e=>{let t=e;"string"!==typeof t&&(t=!1),this.pullDown.msg=t||this.customLabels[0],this.pullDown.status=l.ERROR,setTimeout((()=>{this.resetPullDown(this.pullDown,!0)}),1e3)})):this.resetPullDown(this.pullDown)}else this.resetPullDown(this.pullDown),console.warn("please use :on-refresh to pass onRefresh callback");else this.resetPullDown(this.pullDown);this.touchPosition.distance=0,this.touchPosition.start=0},handleTransitionEnd(){const e=this.$el.querySelector(".pull-down__header");e.style.transition=""}}};var d=i(83744);const m=(0,d.Z)(u,[["render",o]]),p=m},69923:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252),n=i(58061);const a={class:"radio-like-button"},o=["id","name","tabindex","value"],r={class:"radio-like-button__button"},l={__name:"radio-like-button",props:{modelValue:{type:null,required:!0},value:{type:null,required:!0},name:{type:String,required:!0},tabIndex:{type:Number,default:0}},emits:["update:modelValue","change","click"],setup(e,{emit:t}){const i=e,l=t,c=(0,s.Fl)({get(){return i.modelValue},set(e){l("update:modelValue",e)}}),u=(0,s.Fl)((()=>`radio-${i.name}-${i.value}`));return(t,i)=>((0,s.wg)(),(0,s.iD)("label",a,[(0,s.wy)((0,s._)("input",{id:u.value,"onUpdate:modelValue":i[0]||(i[0]=e=>c.value=e),class:"radio-like-button__input visually-hidden",name:e.name,tabindex:e.tabIndex,type:"radio",value:e.value,onChange:i[1]||(i[1]=e=>t.$emit("change",e)),onClick:i[2]||(i[2]=(0,n.iM)((e=>l("click",e)),["stop"]))},null,40,o),[[n.G2,c.value]]),(0,s._)("span",r,[(0,s.WI)(t.$slots,"default")])]))}},c=l,u=c},28855:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){const l=(0,s.up)("TMVotesLever"),c=(0,s.up)("TMCounterContainer");return(0,s.wg)(),(0,s.j4)(c,null,{header:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"icon"),(0,s.Wm)(l,{appearance:i.variant||"rating","can-vote-minus":!1,"can-vote-plus":!1,formatted:!1,score:i.score||0},null,8,["appearance","score"])])),footer:(0,s.w5)((()=>[(0,s._)("span",{class:(0,n.C_)(["tm-rating__text",r.bem("tm-rating__text",{variant:i.variant})])},(0,n.zw)(i.label||e.msg("POINTS_LABEL_RATING")),3)])),_:3})}var o=i(2130),r=i(56735),l=i(25109),c=i(99691);const u={name:"TMRating",components:{TMVotesLever:r.Z,TMCounterContainer:o.Z},props:{score:{type:Number,default:0},label:{type:String,default:null},variant:{type:String,default:null,validator:(0,c.HZ)(["grade"])}},methods:{bem:l.P}};var d=i(83744);const m=(0,d.Z)(u,[["render",a]]),p=m},6605:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612);const a=["href"],o=["innerHTML"];function r(e,t,i,r,l,c){const u=(0,s.up)("TMPopover");return(0,s.wg)(),(0,s.j4)(u,{class:"restriction-hint",offset:i.offset,placement:i.placement,root:i.target,variant:"hub",onClose:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,s.w5)((()=>[i.hasRegistrationLink?((0,s.wg)(),(0,s.iD)("a",{key:0,href:c.signUpUrl,onClickCapture:t[0]||(t[0]=(...e)=>c.trackSingUpClick&&c.trackSingUpClick(...e))},(0,n.zw)(e.msg("COMMENT_SIGN_UP")),41,a)):(0,s.kq)("",!0),(0,s._)("span",{innerHTML:e.msg(i.messageKey)},null,8,o)])),_:1},8,["offset","placement","root"])}var l=i(81864),c=i(19913);const u={name:"RestrictionHint",components:{TMPopover:l.Z},props:{target:{type:null,required:!0},offset:{type:Array,default:()=>[-34,0]},placement:{type:String,default:"top-start"},messageKey:{type:String,required:!0},eventLabel:{type:String,required:!0},hasRegistrationLink:{type:Boolean,default:!0}},emits:["close"],computed:{signUpUrl(){const e="/kek/v1/auth/habrahabr-register/";return`${e}?back=${this.$route.path}&hl=${this.langOptions.hl}`}},methods:{trackSingUpClick(){(0,c.IZ)(this.eventLabel)}}};var d=i(83744);const m=(0,d.Z)(u,[["render",r]]),p=m},98201:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252),n=i(56612);function a(e,t,i,a,o,r){const l=(0,s.up)("TMSvgIcon");return r.hasRss?((0,s.wg)(),(0,s.iD)("button",{key:0,class:(0,n.C_)(["tm-rss-button",`tm-rss-button_${i.variant}`])},[(0,s.Wm)(l,{id:"rss",class:"tm-rss-button__icon",onClick:r.copyRssLink},null,8,["onClick"])],2)):(0,s.kq)("",!0)}var o=i(3739),r=i(36134),l=i(43059);const c={name:"TMRssButton",components:{TMSvgIcon:o["default"]},props:{variant:{type:String,default:"default"}},setup(){const{langOptions:e}=(0,r.Q)();return{langOptions:e}},computed:{hasRss(){const{params:e,query:t,meta:{rssLink:i,customRssLink:s}}=this.$route;if(s)return!0;const n={...e,...t,fl:this.langOptions.fl,hl:this.langOptions.hl};return Boolean(i&&i(n))}},methods:{copyRssLink(){const e=document.querySelector('link[name="rss"]');if(e){const t=e.getAttribute("href");(0,l.Z)(t),this.$toast.success(this.msg("SOCIAL_COPIED"))}}}};var u=i(83744);const d=(0,u.Z)(c,[["render",a]]),m=d},75875:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ge});var s=i(66252),n=i(58061),a=i(56612),o=i(62931),r=i(32496),l=i(67476),c=i(39639),u=i(84183);const d={class:"inner"},m={class:"card-side front"},p={class:"content"},_={class:"text-wrapper"},h=["innerHTML"],g={class:"image-wrapper"},v=["alt","src"],T={class:"card-side back"},E={class:"content"},S={class:"text-wrapper"},f=["innerHTML"],A=["innerHTML"],b={class:"image-wrapper"},I=["alt","src"],y=(0,s.aZ)({__name:"special-card",props:{selected:{type:Boolean,default:!1},variant:{},data:{}},emits:["click"],setup(e,{emit:t}){const i=t,n=(0,u.s)(),r=(0,o.iH)(!1),{isMobileOnly:y}=(0,l.Jk)(n);function w(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const P=(0,s.Fl)((()=>y.value?e.data.mobileImageUrl:e.data.desktopImageUrl)),C=(0,s.Fl)((()=>({id:y.value?"rt-dc-mobile-mask":"rt-dc-desktop-mask",height:y.value?10:8,width:y.value?70:128})));return(0,s.bv)((()=>{r.value=w()})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,a.C_)(["special-card",{[e.variant]:!0,selected:e.selected,"is-safari":r.value}]),role:"button",onClick:t[0]||(t[0]=e=>i("click"))},[(0,s._)("div",d,[(0,s._)("div",m,[(0,s._)("div",p,[(0,s._)("div",_,[(0,s._)("div",{class:"title",innerHTML:e.data.title},null,8,h)]),(0,s._)("div",g,[(0,s._)("img",{alt:e.data.title,class:"image",src:P.value},null,8,v)]),(0,s.Wm)(c.Z,(0,s.dG)({class:"mask","no-title":""},C.value),null,16)])]),(0,s._)("div",T,[(0,s._)("div",E,[(0,s._)("div",S,[(0,s._)("div",{class:"title",innerHTML:e.data.title},null,8,f),(0,s._)("div",{class:"commentary",innerHTML:e.data.commentary},null,8,A)]),(0,s._)("div",b,[(0,s._)("img",{alt:e.data.title,class:"image",src:P.value},null,8,I)]),(0,s.Wm)(c.Z,(0,s.dG)({class:"mask","no-title":""},C.value),null,16)])])])],2))}});var w=i(83744);const P=(0,w.Z)(y,[["__scopeId","data-v-eb4fb1c9"]]),C=P;var k=i(10846);const L={width:"158",height:"35",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function N(e,t){return(0,s.wg)(),(0,s.iD)("svg",L,t[0]||(t[0]=[(0,s.uE)('<g clip-path="url(#clip0_2112_29168)" fill="#fff"><path d="M12.26 34.267C5.49 34.267-.02 28.759-.02 21.988c0-6.767 5.503-12.273 12.269-12.278a12.28 12.28 0 0123.681.005c2.69-.53 8.592-1.01 14.148 3.158a1.365 1.365 0 01-1.639 2.184c-2.573-1.931-5.547-2.923-8.838-2.947-2.506-.019-4.26.559-4.278.565a1.367 1.367 0 01-1.786-1.097c-.678-4.65-4.74-8.159-9.448-8.159a9.518 9.518 0 00-9.413 7.936c-.12.706-.766 1.2-1.478 1.13a9.81 9.81 0 00-.94-.047c-5.265 0-9.549 4.284-9.549 9.55 0 5.265 4.284 9.55 9.55 9.55a9.53 9.53 0 004.928-1.37 1.364 1.364 0 111.41 2.337 12.256 12.256 0 01-6.338 1.761z"></path><path d="M21.966 24.125v3.155h-2.242V16.786h4.134c1.45 0 2.518.343 3.205 1.03.686.686 1.03 1.583 1.03 2.69 0 .874-.214 1.604-.64 2.19-.426.588-.949.997-1.569 1.23-.62.232-1.317.349-2.092.349-.775 0-1.384-.05-1.826-.15zm0-5.38v3.537c.32.067.824.1 1.51.1 1.517 0 2.275-.642 2.275-1.926 0-1.14-.675-1.71-2.025-1.71h-1.76zM28.425 18.745v-1.959h8.8v1.96h-3.32v8.534h-2.159v-8.535h-3.321zM38.487 27.28V16.786h2.241v4.367h.515l3.653-4.367h2.623l-4.333 5.064 4.848 5.43h-2.922l-3.836-4.417h-.548v4.417h-2.241z"></path><path d="M52.352 24.225h-5.13v-2.109h5.13v2.109zM60.919 25.287v-8.502h2.242v8.502h1.577v3.951H62.58V27.28h-8.302V16.786h2.241v8.502h4.4v-.001zM71.396 27.579c-1.65 0-2.987-.51-4.01-1.528-1.024-1.018-1.547-2.34-1.57-3.968.022-1.627.546-2.947 1.57-3.96 1.023-1.013 2.36-1.519 4.01-1.519 1.66 0 2.997.504 4.01 1.511s1.53 2.33 1.552 3.968c-.022 1.628-.54 2.95-1.552 3.968-1.013 1.019-2.35 1.528-4.01 1.528zm-2.308-3.014c.598.614 1.367.921 2.308.921.94 0 1.713-.307 2.317-.921.603-.614.904-1.442.904-2.482 0-1.04-.301-1.87-.904-2.491-.604-.62-1.376-.93-2.317-.93-.94 0-1.71.31-2.308.93-.598.62-.896 1.45-.896 2.49 0 1.041.298 1.869.896 2.483zM77.872 29.24v-3.952h.98c.42-.974.725-2.001.913-3.08.188-1.08.282-2.488.282-4.226v-1.196h7.572v8.502h1.228v3.951H86.74V27.28H79.98v1.96h-2.11zm7.522-10.461h-3.222v1.129c0 1.992-.332 3.785-.996 5.38h4.218v-6.51zM17 18.103c0-.753-.611-1.363-1.364-1.363H8.919a1.363 1.363 0 100 2.726h6.717c.752 0 1.363-.61 1.363-1.363zM17 25.96c0-.754-.611-1.364-1.364-1.364H8.919a1.363 1.363 0 100 2.727h6.717c.752 0 1.363-.61 1.363-1.364zM17 22.031c0-.753-.611-1.363-1.364-1.363H8.919a1.363 1.363 0 100 2.727h6.717c.752 0 1.363-.61 1.363-1.364z"></path></g><path d="M97 24.87l6.918-6.365m0 6.365L97 18.505" stroke="#fff" stroke-width="2"></path><g clip-path="url(#clip1_2112_29168)"><mask id="a" style="mask-type:luminance;" maskUnits="userSpaceOnUse" x="111" y="13" width="47" height="19"><path d="M157.676 13.7h-45.758v17.976h45.758V13.699z" fill="#fff"></path></mask><g mask="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M124.447 27.808l-4.467-6.646 4.467-6.7h-3.268l-2.942 4.521-2.942-4.521h-3.323l4.413 6.646-4.467 6.7h3.268l2.942-4.576 2.996 4.576h3.323zm5.121-10.023c-2.615 0-4.086 1.416-4.358 3.105h2.614c.164-.49.654-.926 1.635-.926.926 0 1.634.49 1.634 1.362v.436h-2.179c-2.506 0-4.086 1.143-4.086 3.159 0 1.961 1.526 3.105 3.432 3.105a3.568 3.568 0 002.942-1.307v1.035h2.615V21.38c0-2.342-1.689-3.595-4.249-3.595zm-.491 8.117c-.871 0-1.416-.436-1.416-1.09 0-.708.599-1.09 1.471-1.09h1.961v.436c0 1.09-.926 1.744-2.016 1.744zm12.529-7.736c-1.252-.054-2.451.49-3.268 1.471.218-1.852.926-2.724 2.833-3.05l3.758-.545v-2.343l-4.031.654c-3.922.654-5.12 3.214-5.12 7.518 0 3.867 1.906 6.155 5.229 6.155 2.996 0 4.848-2.288 4.848-5.012.055-2.941-1.688-4.848-4.249-4.848zm-.708 7.572c-1.471 0-2.288-1.144-2.288-2.724 0-1.47.817-2.56 2.288-2.56 1.417 0 2.179 1.09 2.179 2.615 0 1.525-.708 2.67-2.179 2.67zm12.475-7.953c-1.144-.055-2.234.436-2.887 1.362v-1.144h-2.67v13.4h2.779v-4.575c.653.817 1.688 1.253 2.723 1.198 2.452 0 4.358-1.907 4.358-5.12 0-3.269-1.961-5.121-4.303-5.121zm-.654 7.844c-1.307 0-2.179-1.035-2.179-2.669v-.055c0-1.634.872-2.723 2.179-2.723 1.308 0 2.125 1.09 2.125 2.724 0 1.634-.817 2.723-2.125 2.723z" fill="#fff"></path></g></g><defs><clipPath id="clip0_2112_29168"><path fill="#fff" transform="translate(0 .763)" d="M0 0h89v33.676H0z"></path></clipPath><clipPath id="clip1_2112_29168"><path fill="#fff" transform="translate(112 2.6)" d="M0 0h46v30H0z"></path></clipPath></defs>',4)]))}const O={},R=(0,w.Z)(O,[["render",N]]),M=R,U={class:"special-final-step"},D={class:"logo-wrapper"},B={class:"logo",href:"https://u.habr.com/rtk-feed/?erid=2VSb5wyxvjs/",target:"_blank"},H={class:"text-wrapper"},F=["innerHTML"],V=["innerHTML"],$={class:"image-wrapper"},W={class:"buttons"},G=(0,s.aZ)({__name:"special-final-step",props:{image:{},data:{}},emits:["reset","target-link-click"],setup(e,{emit:t}){const i=t;return(e,t)=>((0,s.wg)(),(0,s.iD)("div",U,[(0,s._)("div",D,[(0,s._)("a",B,[(0,s.Wm)((0,o.SU)(M))])]),(0,s._)("div",H,[(0,s._)("h2",{class:"title",innerHTML:e.data.title},null,8,F),(0,s._)("p",{class:"description",innerHTML:e.data.description},null,8,V)]),(0,s._)("figure",$,[(0,s.Wm)(k.Z,{src:e.image,width:"100%"},null,8,["src"]),t[2]||(t[2]=(0,s.uE)('<figcaption class="image-caption" data-v-7e1f5dbd><div class="caption-top" data-v-7e1f5dbd>1 октября</div><div class="caption-bottom" data-v-7e1f5dbd><span data-text="День отрасли" data-v-7e1f5dbd></span><span data-text="дата-центров в России" data-v-7e1f5dbd></span></div></figcaption>',1))]),(0,s._)("div",W,[(0,s._)("a",{class:"learn-more-button","data-text-full":"Узнать больше о центрах обработки данных","data-text-mobile":"Узнать больше о ЦОД",href:"https://u.habr.com/rtk-feed/?erid=2VSb5wyxvjs/",target:"_blank",onClick:t[0]||(t[0]=e=>i("target-link-click",e))}),(0,s._)("button",{class:"test-again-button",onClick:t[1]||(t[1]=e=>i("reset"))}," Пройти тест заново ")]),t[3]||(t[3]=(0,s._)("div",{class:"legal-info"},"Реклама. АО «ЦХД», ИНН 9722084937, ERID 2VSb5wyxvjs",-1))]))}}),x=(0,w.Z)(G,[["__scopeId","data-v-7e1f5dbd"]]),q=x;var Y=i(23752),Z=i(71197),j=i(79182),K=i(70893);const z=[{question:"Как ты&nbsp;оплатишь такси?",answers:[{title:"Воспользуюсь сервисом <br>онлайн‑платежей",commentary:"Платёжный шлюз и&nbsp;интеграции <br>с&nbsp;банковскими системами позволят <br>оплатить поездку за&nbsp;секунду.",variant:"digital",desktopImageUrl:"/img/rt-dc/cards/step-1/desktop_digital.webp",mobileImageUrl:"/img/rt-dc/cards/step-1/mobile_digital.webp"},{title:"Оплачу наличными (только&nbsp;хардкор!)",commentary:"У&nbsp;таксиста не&nbsp;было сдачи, пришлось <br>искать ближайший банкомат.",variant:"analog",desktopImageUrl:"/img/rt-dc/cards/step-1/desktop_analog.webp",mobileImageUrl:"/img/rt-dc/cards/step-1/mobile_analog.webp"}]},{question:"Нужно подать заявление в&nbsp;ЗАГС. <br>Твои действия?",answers:[{title:"Отпрошусь с&nbsp;работы <br>в&nbsp;приёмный день и&nbsp;отправлюсь <br>в&nbsp;ЗАГС",commentary:"Бабушка говорила: &laquo;Чем длиннее <br>очередь в&nbsp;ЗАГС, тем&nbsp;счастливее будет <br>жизнь&nbsp;в&nbsp;браке&raquo;.",variant:"analog",desktopImageUrl:"/img/rt-dc/cards/step-2/desktop_analog.webp",mobileImageUrl:"/img/rt-dc/cards/step-2/mobile_analog.webp"},{title:"Включу ноутбук, зажгу свечи <br>и&nbsp;заполню электронное <br>заявление",commentary:"Сегодня не&nbsp;приёмный день, но&nbsp;моё <br>заявление принято. Дата‑центры <br>обеспечивают обработку данных <br>госорганов круглосуточно.",variant:"digital",desktopImageUrl:"/img/rt-dc/cards/step-2/desktop_digital.webp",mobileImageUrl:"/img/rt-dc/cards/step-2/mobile_digital.webp"}]},{question:"Премьера фильма. Что выберешь?",answers:[{title:"Онлайн‑кинотеатр, диван, <br>вкусняшки",commentary:"Сеть распределённых серверов (CDN) <br>быстро доставляет цифровой контент <br>в&nbsp;4K&nbsp;на&nbsp;экран твоего телевизора.",variant:"digital",desktopImageUrl:"/img/rt-dc/cards/step-3/desktop_digital.webp",mobileImageUrl:"/img/rt-dc/cards/step-3/mobile_digital.webp"},{title:"Кинотеатр поближе к&nbsp;дому",commentary:"Атмосфера кинотеатра манит, но&nbsp;толпа, последний ряд и&nbsp;локти&nbsp;соседей могут <br>испортить впечатление.",variant:"analog",desktopImageUrl:"/img/rt-dc/cards/step-3/desktop_analog.webp",mobileImageUrl:"/img/rt-dc/cards/step-3/mobile_analog.webp"}]},{question:"Поцарапали машину на&nbsp;стоянке. <br>Что&nbsp;будешь делать?",answers:[{title:"Спрошу у&nbsp;сторожа, <br>что&nbsp;случилось",commentary:"Общение с&nbsp;живым человеком ничто <br>не&nbsp;заменит. Но&nbsp;сторож, проспавший <br>инцидент, не&nbsp;поможет решить вопрос.",variant:"analog",desktopImageUrl:"/img/rt-dc/cards/step-4/desktop_analog.webp",mobileImageUrl:"/img/rt-dc/cards/step-4/mobile_analog.webp"},{title:"Открою запись с&nbsp;камеры <br>видеонаблюдения",commentary:"Правильно, ведь облачные сервисы <br>сохраняют видеозаписи, что позволяет <br> подтвердить правонарушение.",variant:"digital",desktopImageUrl:"/img/rt-dc/cards/step-4/desktop_digital.webp",mobileImageUrl:"/img/rt-dc/cards/step-4/mobile_digital.webp"}]},{question:"Воскресенье, закупка продуктов. <br>Как поступишь?",answers:[{title:"Уже выезжаю! День длинный, <br>руки крепкие",commentary:"Побродить в&nbsp;гипермаркете бывает <br>интересно и&nbsp;даже весело, но&nbsp;тяжёлые <br>пакеты сами себя не&nbsp;донесут.",variant:"analog",desktopImageUrl:"/img/rt-dc/cards/step-5/desktop_analog.webp",mobileImageUrl:"/img/rt-dc/cards/step-5/mobile_analog.webp"},{title:"Закажу доставку онлайн",commentary:"Пока бэкенд‑системы управляют <br>заказами и&nbsp;логистикой, я&nbsp;могу <br>заниматься домашними делами <br> и&nbsp;отдыхать с&nbsp;семьёй.",variant:"digital",desktopImageUrl:"/img/rt-dc/cards/step-5/desktop_digital.webp",mobileImageUrl:"/img/rt-dc/cards/step-5/mobile_digital.webp"}]}],Q=[{title:"Ты&nbsp;выбрал скорость и&nbsp;удобство современного города",description:"Дата‑центры&nbsp;&mdash; неотъемлемая часть <br>его инфраструктуры. Благодаря ЦОД <br>мы&nbsp;ежедневно пользуемся привычными онлайн‑сервисами."},{title:"Вероятно, ты <br>консервативен <br>и&nbsp;скептически относишься к&nbsp;информационным технологиям",description:"Но&nbsp;онлайн‑сервисы делают нашу <br>жизнь удобнее и&nbsp;безопаснее. А&nbsp;их <br>бесперебойная работа возможна <br>только благодаря дата‑центрам."}];function X(e){return z.find(((t,i)=>i===e-1))}function J(e){return Q[e]}const ee=z.slice(1).flatMap((e=>e.answers.map((({desktopImageUrl:e})=>e)))),te=z.slice(1).flatMap((e=>e.answers.map((({mobileImageUrl:e})=>e)))),ie={key:0,class:"step-view"},se={class:"top"},ne=["innerHTML"],ae={class:"content"},oe={class:"bottom"},re=["disabled"],le={class:"page-counter"},ce=["disabled"],ue="digital-city",de="is-rt-dc-special-visible",me="/img/rt-dc/final-step-image.webp",pe=5,_e=(0,s.aZ)({__name:"rtk-cod-special",setup(e){const t=(0,s.AE)("rootEl"),{startTracking:i,stopTracking:d}=(0,Y.$)(),m=(0,Z.q)(),p=(0,o.iH)(!1),{isMobileOnly:_}=(0,l.Jk)((0,u.s)());async function h(e,t=[]){const i=await m.getUUIDIfNeeded()??"";(0,K.q)("/event",{alias:e,uuid:i,params:[ue,...t]})}(0,s.bv)((()=>{p.value=JSON.parse((0,j.rV)(de)||"true"),p.value&&(0,s.Y3)((()=>{h("feed_special_load"),i(t.value,(()=>{h("feed_special_view")}))})),N()})),(0,s.Jd)((()=>{p.value&&d(t.value)}));const g=Math.ceil(pe/2),v=(0,o.iH)(0),T=(0,o.iH)(1),E=(0,o.iH)(!1),S=(0,o.iH)(null),f=(0,s.Fl)((()=>v.value>=g?0:1)),A=(0,s.Fl)((()=>J(f.value))),b=(0,s.Fl)((()=>X(T.value))),I=(0,s.Fl)((()=>`${T.value} из ${pe}`));function y(){p.value=!1,d(t.value),(0,j.LS)(de,"false"),h("feed_special_close")}function w(){if(!S.value)return;const e=Number("digital"===S.value);if(T.value===pe)return h("feed_special_next_click",[T.value,e]),(0,s.Y3)((()=>{h("feed_special_final",[f.value])})),void(E.value=!0);h("feed_special_next_click",[T.value,e]),v.value+=e,T.value+=1,S.value=null}function P(){T.value-=1,S.value=null}function k(){T.value=1,v.value=0,S.value=null,E.value=!1,h("feed_special_restart_click")}function L(e){const t=e.currentTarget;t.href&&h("feed_special_link_click",[t.href])}function N(){const e=_.value?te:ee,t=e.map((e=>({href:e,rel:"preload",as:"image"})));t.push({href:me,rel:"preload",as:"image"}),(0,r.u)({link:t})}return(e,i)=>((0,s.wg)(),(0,s.j4)(n.uT,{duration:250,name:"special-close"},{default:(0,s.w5)((()=>{var e,i;return[p.value?((0,s.wg)(),(0,s.iD)("div",{key:0,ref_key:"rootEl",ref:t,class:"rtk-cod-special"},[E.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",se,[(0,s._)("h2",{class:"title",innerHTML:null===(e=b.value)||void 0===e?void 0:e.question},null,8,ne),(0,s._)("button",{class:"close-button",onClick:y},[(0,s.Wm)(c.Z,{id:"close-special",size:"12",title:"Закрыть"})])]),(0,s._)("div",ae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(null===(i=b.value)||void 0===i?void 0:i.answers,((e,t)=>((0,s.wg)(),(0,s.j4)(C,{key:`question_${T.value}_${e.variant}`,data:e,selected:S.value===e.variant,variant:0===t?"left":"right",onClick:t=>S.value=e.variant},null,8,["data","selected","variant","onClick"])))),128))]),(0,s._)("div",oe,[(0,s._)("button",{class:"navigation-button back",disabled:1===T.value,onClick:P}," Назад ",8,re),(0,s._)("div",le,(0,a.zw)(I.value),1),(0,s._)("button",{class:"navigation-button next",disabled:!S.value,onClick:w}," Далее ",8,ce)])])),E.value&&A.value?((0,s.wg)(),(0,s.j4)(q,{key:1,data:A.value,image:me,onReset:k,onTargetLinkClick:L},null,8,["data"])):(0,s.kq)("",!0)],512)):(0,s.kq)("",!0)]})),_:1}))}}),he=(0,w.Z)(_e,[["__scopeId","data-v-11079afe"]]),ge=he},39806:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252),n=i(58061);function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.j4)(n.uT,{appear:i.appear,name:i.name,onAfterLeave:r.onHide,onEnter:r.onShow,onEnterCancelled:r.onCancel,onLeaveCancelled:r.onCancel},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["appear","name","onAfterLeave","onEnter","onEnterCancelled","onLeaveCancelled"])}var o=i(67891);const r={name:"TMScrollLockTransition",props:{appear:{type:Boolean,default:!1},name:{type:String,required:!0}},beforeUnmount(){(0,o.clearAllBodyScrollLocks)()},methods:{onShow(){(0,o.disableBodyScroll)(this.$el.querySelector("[data-scroll-target]"),{reserveScrollBarGap:!0})},onHide(){(0,o.clearAllBodyScrollLocks)()},onCancel(){(0,o.clearAllBodyScrollLocks)()}}};var l=i(83744);const c=(0,l.Z)(r,[["render",a]]),u=c},73401:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var s=i(66252),n=i(56612),a=i(22201),o=i(77912),r=i(39639);const l={class:"tm-section-name"},c={key:1,class:"tm-section-name__text"},u={key:2,class:"tm-section-name__text"},d={__name:"section-name",props:{name:{type:String,default:null},route:{type:Object,default:null},backRouteName:{default:null,type:String},backRouteQuery:{default:null,type:Object},isLoading:Boolean},setup(e){const t=(0,a.tv)(),i=e;function d(){i.backRouteName?t.push({name:i.backRouteName,query:i.backRouteQuery}):t.go(-1)}return(t,i)=>{const a=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",l,[e.backRouteName?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tm-section-name__back",onClick:d},[(0,s.Wm)(r.Z,{id:"arrow-back",class:"icon_arrow-back icon_arrow-back_section"}),e.isLoading?((0,s.wg)(),(0,s.j4)(o.Z,{key:0,class:"tm-section-name__placeholder"})):((0,s.wg)(),(0,s.iD)("h1",c,(0,n.zw)(e.name),1))])):e.route?((0,s.wg)(),(0,s.j4)(a,{key:1,class:"tm-section-name__link",to:e.route},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.name),1)])),_:1},8,["to"])):((0,s.wg)(),(0,s.iD)("h1",u,(0,n.zw)(e.name),1)),(0,s.WI)(t.$slots,"default")])}}},m=d,p=m},50288:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252),n=i(56612);const a=["textContent"],o={class:"tm-separated-list__list"};function r(e,t,i,r,l,c){return(0,s.wg)(),(0,s.iD)("div",{ref:"separatedList",class:(0,n.C_)(c.bem("tm-separated-list",{clipped:i.hasShowAll&&!l.isOpened}))},[i.title?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tm-separated-list__title",textContent:(0,n.zw)(i.title)},null,8,a)):(0,s.kq)("",!0),(0,s._)("ul",o,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.list.slice(0,l.visibleItemsCount),((t,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i,class:"tm-separated-list__item"},[(0,s.WI)(e.$slots,"default",{item:t})])))),128)),l.visibleItemsCount<i.list.length?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"tm-separated-list__more",onClick:t[0]||(t[0]=(...e)=>c.showAll&&c.showAll(...e))},(0,n.zw)(e.msg("MORE_SHOW",{count:i.list.length-l.visibleItemsCount})),1)):(0,s.kq)("",!0)])],2)}var l=i(25109);const c={name:"TMSeparatedList",props:{list:{type:Array,required:!0},title:{type:String,default:null},hasShowAll:{type:Boolean,default:!1}},data(){return{isOpened:!1,visibleItemsCount:this.list.length}},mounted(){this.hasShowAll&&this.updateHiddenTags()},methods:{bem:l.P,updateHiddenTags(){if(this.isOpened||!this.$refs.separatedList)return;const e=2,t=this.$refs.separatedList.getElementsByClassName("tm-separated-list__item"),i=t[0].offsetHeight,s=t[0].offsetTop,n=s+e*i;if(Array.from(t).forEach((e=>{e.offsetTop>=n&&(this.visibleItemsCount-=1)})),this.visibleItemsCount<this.list.length)while(!this.hasSpaceForShowMore()&&this.visibleItemsCount>1)this.visibleItemsCount-=1;this.$nextTick((()=>{this.$refs.separatedList&&(this.$refs.separatedList.style.visibility="visible",this.$refs.separatedList.style.overflow="visible",this.$refs.separatedList.style.maxHeight="none")}))},hasSpaceForShowMore(){const e=this.$refs.separatedList.getElementsByClassName("tm-separated-list__item"),t=e[this.visibleItemsCount-1],i=this.$refs.separatedList;if(!t||!i)return!1;const s=70,n=t.offsetTop===i.offsetTop,a=i.offsetWidth-t.offsetWidth-t.offsetLeft;return a>s||n},showAll(){this.visibleItemsCount=this.list.length,this.isOpened=!0}}};var u=i(83744);const d=(0,u.Z)(c,[["render",r]]),m=d},57546:(e,t,i)=>{"use strict";i.d(t,{Z:()=>X});var s=i(66252);const n={class:"similar-and-daily__tab-view"};function a(e,t,i,a,o,r){const l=(0,s.up)("TMOtherNewsBlock"),c=(0,s.up)("TMTabs"),u=(0,s.up)("TMDailyArticlesBlock"),d=(0,s.up)("TMSimilarArticlesBlock"),m=(0,s.up)("TMBlock");return(0,s.wg)(),(0,s.j4)(m,{"body-variant":"condensed-slim","header-variant":"borderless",spacing:i.spacing,title:r.blockTitle,"title-variant":"large"},{default:(0,s.w5)((()=>[i.isNews?((0,s.wg)(),(0,s.j4)(l,{key:0,"excluded-ids":[i.articleId],"ga-author":r.ga.news.author,"ga-comments":r.ga.news.comment,"ga-title":r.ga.news.news},null,8,["excluded-ids","ga-author","ga-comments","ga-title"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(c,{"local-active":o.currentTab,"onUpdate:localActive":t[0]||(t[0]=e=>o.currentTab=e),local:"","no-spacers":"",slim:"",tabs:r.tabs},null,8,["local-active","tabs"]),(0,s._)("div",n,["daily"===o.currentTab?((0,s.wg)(),(0,s.j4)(u,{key:0,"ga-author":r.ga.top.author,"ga-comments":r.ga.top.comment,"ga-title":r.ga.top.post},(0,s.Nv)({_:2},[e.$slots.dailyTopPromoLink?{name:"lastItem",fn:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"dailyTopPromoLink")])),key:"0"}:void 0]),1032,["ga-author","ga-comments","ga-title"])):(0,s.kq)("",!0),"similar"===o.currentTab?((0,s.wg)(),(0,s.j4)(d,{key:1,"article-id":i.articleId,"ga-author":r.ga.similar.author,"ga-comments":r.ga.similar.comment,"ga-title":r.ga.similar.post},null,8,["article-id","ga-author","ga-comments","ga-title"])):(0,s.kq)("",!0)])],64))])),_:3},8,["spacing","title"])}var o=i(70352),r=i(56612);const l={key:0,class:"daily-articles-list"},c={class:"daily-articles-block__button-container"};function u(e,t,i,n,a,o){const u=(0,s.up)("TMArticleCardList"),d=(0,s.up)("TMButtonBase"),m=(0,s.up)("TMButton"),p=(0,s.up)("TMPlaceholder");return n.dailyArticles.length||e.$slots.lastItem?((0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(u,{articles:n.dailyArticles,"ga-author":i.gaAuthor,"ga-comments":i.gaComments,"ga-title":i.gaTitle},{lastItem:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"lastItem")])),_:3},8,["articles","ga-author","ga-comments","ga-title"]),(0,s._)("div",c,[o.showLoadMoreButton?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"daily-articles-block__button","is-loading":n.isLoading,"style-type":"transparent",onClick:o.loadMore},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.msg("SHOW_MORE")),1)])),_:1},8,["is-loading","onClick"])):((0,s.wg)(),(0,s.j4)(m,{key:1,color:"horizon","style-type":"transparent",onClick:t[0]||(t[0]=t=>e.$router.push({name:"ARTICLES_LIST_TOP_PERIOD",params:{period:"alltime"}}))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.msg("PUBLICATION_SHOW_BEST_OF_ALL_TIME")),1)])),_:1}))])])):((0,s.wg)(),(0,s.j4)(p,{key:1,times:i.placeholderCount,type:"articleCards"},null,8,["times"]))}var d=i(67476),m=i(94574),p=i(81760),_=i(35315);const h={key:0,class:"article-card-list"},g=(0,s.aZ)({__name:"article-card-list",props:{articles:{},gaTitle:{default:""},gaAuthor:{default:""},gaComments:{default:""},bookmarkModule:{default:"articlesList"}},emits:["card-article-click"],setup(e){return(e,t)=>e.articles?((0,s.wg)(),(0,s.iD)("ul",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.articles,(t=>((0,s.wg)(),(0,s.j4)(p.Z,{key:t.id,tag:"li"},{default:(0,s.w5)((()=>[(0,s.Wm)(m.Z,{article:t,"ga-author":e.gaAuthor,"ga-title":e.gaTitle,lang:t.lang,"no-border":"","use-link":"","with-hubs":!1,"with-labels":"","with-lead":!1,onLinkClick:i=>e.$emit("card-article-click",t)},null,8,["article","ga-author","ga-title","lang","onLinkClick"]),(0,s.Wm)(_.Z,{article:t,"bookmark-module":e.bookmarkModule,"ga-event":e.gaComments,"icons-list":["votes","comments","favorite"]},null,8,["article","bookmark-module","ga-event"])])),_:2},1024)))),128)),e.$slots.lastItem&&e.$slots.lastItem()?((0,s.wg)(),(0,s.j4)(p.Z,{key:0},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"lastItem")])),_:3})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}});var v=i(83744);const T=(0,v.Z)(g,[["__scopeId","data-v-5c5a6de1"]]),E=T;var S=i(48665),f=i(91270),A=i(31596),b=i(58748);const I=10,y={name:"TMDailyArticlesBlock",components:{TMButton:S.Z,TMArticleCardList:E,TMPlaceholder:A.Z,TMButtonBase:f.Z},props:{gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""},placeholderCount:{type:Number,default:5}},setup(){const e=(0,b.g)(),{getDailyArticles:t,getDailyPagesCount:i,isLoading:s}=(0,d.Jk)(e);return{dailyArticles:t,pagesCount:i,isLoading:s}},data(){return{page:1}},computed:{showLoadMoreButton(){return this.pagesCount>this.page}},mounted(){(0,b.g)().loadDailyArticles({force:!0,perPage:I})},methods:{loadMore(){(0,b.g)().loadDailyArticles({pageNum:this.page+1,append:!0,force:!0,perPage:I}).then((()=>{this.page+=1}))}}},w=(0,v.Z)(y,[["render",u]]),P=w,C={key:0},k={class:"other-news-block__button-container"};function L(e,t,i,n,a,o){const l=(0,s.up)("TMArticleCardList"),c=(0,s.up)("router-link"),u=(0,s.up)("TMButtonBase"),d=(0,s.up)("TMPlaceholder");return n.news.length?((0,s.wg)(),(0,s.iD)("div",C,[(0,s.Wm)(l,{articles:n.news,"ga-author":i.gaAuthor,"ga-comments":i.gaComments,"ga-title":i.gaTitle},null,8,["articles","ga-author","ga-comments","ga-title"]),(0,s._)("div",k,[o.showGoToAllNewsButton?((0,s.wg)(),(0,s.j4)(c,{key:0,class:"other-news-block__all-news btn btn_small btn_transparent",to:{name:"NEWS_LIST_ALL_PAGES",params:{pageNum:4}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.msg("NEWS_ALL_NEWS")),1)])),_:1})):o.showLoadMoreButton?((0,s.wg)(),(0,s.j4)(u,{key:1,class:"other-news-block__button","is-loading":n.isLoading,"style-type":"transparent",onClick:n.loadMore},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.msg("SHOW_MORE")),1)])),_:1},8,["is-loading","onClick"])):(0,s.kq)("",!0)])])):((0,s.wg)(),(0,s.j4)(d,{key:1,times:e.$options.NEWS_PER_PAGE,type:"articleCards"},null,8,["times"]))}var N=i(62931);const O=10,R=60,M={name:"TMOtherNewsBlock",components:{TMArticleCardList:E,TMPlaceholder:A.Z,TMButtonBase:f.Z},props:{excludedIds:{type:Array,required:!0},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""}},setup(e){const t=(0,b.g)(),i=(0,N.iH)(1),{getOtherNews:s,getOtherNewsPagesCount:n,isLoading:a}=(0,d.Jk)(t),o=()=>{t.loadOtherNews({force:!0,perPage:O,excludedIds:e.excludedIds})},r=()=>{t.loadOtherNews({pageNum:i.value+1,append:!0,force:!0,perPage:O,excludedIds:e.excludedIds}).then((()=>{i.value+=1}))};return{news:s,pagesCount:n,isLoading:a,loadNews:o,loadMore:r,page:i}},computed:{showLoadMoreButton(){return this.pagesCount>this.page},showGoToAllNewsButton(){return this.news.length>=R}},mounted(){this.loadNews()},NEWS_PER_PAGE:O},U=(0,v.Z)(M,[["render",L]]),D=U,B=["innerHTML"];function H(e,t,i,n,a,o){const r=(0,s.up)("TMPlaceholder"),l=(0,s.up)("TMArticleCardList"),c=(0,s.up)("TMEmptyPlaceholder");return n.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0,times:i.placeholderCount,type:"articleCards"},null,8,["times"])):n.similarList.length?((0,s.wg)(),(0,s.j4)(l,{key:1,articles:n.similarList,"bookmark-module":"similarList","ga-author":i.gaAuthor,"ga-comments":i.gaComments,"ga-title":i.gaTitle,onCardArticleClick:n.sendArticleClickAnalytics},null,8,["articles","ga-author","ga-comments","ga-title","onCardArticleClick"])):((0,s.wg)(),(0,s.j4)(c,{key:2},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:e.msg("ARTICLE_OTHER_ARTICLES_SIMILAR_EMPTY")},null,8,B)])),_:1}))}var F=i(59810),V=i(71197),$=i(92682),W=i(28003);const G={name:"TMSimilarArticlesBlock",components:{TMEmptyPlaceholder:F.Z,TMArticleCardList:E,TMPlaceholder:A.Z},props:{articleId:{type:String,required:!0},gaTitle:{type:String,default:""},gaAuthor:{type:String,default:""},gaComments:{type:String,default:""},placeholderCount:{type:Number,default:5},count:{type:Number,default:5}},setup(e){const t=(0,$.F)(),i=(0,V.q)(),n=async()=>{await i.ensureUuidAndFeatures(),(0,W.x)({alias:"similar_posts_show",uuid:i.uuid,params:{post_id:e.articleId},features:i.features??[]})},a=async t=>{await i.ensureUuidAndFeatures(),(0,W.x)({alias:"similar_posts_click",uuid:i.uuid,params:{post_id:e.articleId,target_id:t.id},features:i.features??[]})},o=(0,N.iH)(!1),r=async t=>{await i.ensureUuidAndFeatures(),o.value=!0,(0,$.F)().loadSimilarList(t,e.count).finally((()=>{o.value=!1}))};(0,s.bv)((async()=>{r(e.articleId),n(),(0,s.YP)((()=>e.articleId),(e=>{r(e)}))}));const{similarList:l}=(0,d.Jk)(t);return{isLoading:o,loadArticles:r,sendArticleClickAnalytics:a,similarList:l}}},x=(0,v.Z)(G,[["render",H]]),q=x;var Y=i(28336),Z=i(18761),j=i(99343),K=i(99691);const z={name:"TMSimilarAndDailyArticles",components:{TMBlock:o.Z,TMSimilarArticlesBlock:q,TMDailyArticlesBlock:P,TMTabs:Y.Z,TMOtherNewsBlock:D},props:{articleId:{type:String,required:!0},isNews:{type:Boolean,required:!0},spacing:{type:String,default:"bottom",validator:(0,K.HZ)(["top","bottom","around","none"])}},data(){return{currentTab:"daily"}},computed:{blockTitle(){return this.isNews?this.msg("ARTICLE_OTHER_NEWS_TITLE"):this.msg("ARTICLE_OTHER_ARTICLES_TITLE")},ga(){const e=["post","comment","author"],t=["news","comment","author"];return{similar:(0,Z.gV)(e,j.I$.bind(null,"similar")),top:(0,Z.gV)(e,j.I$.bind(null,"top_daily")),news:(0,Z.gV)(t,j.aF.bind(null))}},tabs(){return[{route:{name:"daily"},title:this.msg("ARTICLE_OTHER_ARTICLES_TOP")},{route:{name:"similar"},title:this.msg("ARTICLE_OTHER_ARTICLES_SIMILAR")}]}},watch:{articleId(){this.$forceUpdate()}}},Q=(0,v.Z)(z,[["render",a]]),X=Q},53883:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Q});var s=i(66252),n=i(56612),a=i(62931),o=i(23002),r=i(70352),l=i(77912),c=i(84183);const u={class:"similar-authors-placeholder"},d={class:"header"},m={class:"counters"},p={class:"body"},_={class:"names"},h={class:"spec"},g={class:"button"},v={__name:"similar-authors-placeholder",setup(e){const t=(0,c.s)(),i=(0,s.Fl)((()=>t.isMobileOnly?2:3));return(e,t)=>((0,s.wg)(),(0,s.iD)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"author"},[(0,s._)("div",d,[(0,s.Wm)(l.Z,{class:"image"}),(0,s._)("div",m,[(0,s.Wm)(l.Z,{class:"counter"}),(0,s.Wm)(l.Z,{class:"counter"})])]),(0,s._)("div",p,[(0,s._)("div",_,[(0,s.Wm)(l.Z),(0,s.Wm)(l.Z,{class:"alias"})]),(0,s._)("div",h,[(0,s.Wm)(l.Z),(0,s.Wm)(l.Z)])]),(0,s._)("div",g,[(0,s.Wm)(l.Z)])])))),128))]))}};var T=i(83744);const E=(0,T.Z)(v,[["__scopeId","data-v-7b7e67fe"]]),S=E;var f=i(80165),A=i(30379),b=i(67122),I=i(87934);const y={class:"rating-display"},w={__name:"rating-display",props:{value:{type:[Number,String],required:!0},shouldFormat:Boolean},setup(e){return(t,i)=>((0,s.wg)(),(0,s.iD)("div",y,(0,n.zw)(e.shouldFormat?(0,a.SU)(I.O)(e.value):e.value),1))}},P=(0,T.Z)(w,[["__scopeId","data-v-e1173d70"]]),C=P,k={class:"similar-author"},L={class:"header"},N={class:"counters"},O={class:"body"},R={key:0,class:"fullname"},M={class:"speciality"},U={class:"footer"},D={__name:"similar-author",props:{author:{type:Object,required:!0}},emits:["toggle-follow"],setup(e){return(t,i)=>{const a=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",k,[(0,s._)("div",L,[(0,s.Wm)(A.Z,{alias:e.author.alias,image:e.author.avatarUrl,size:"32",type:"user"},null,8,["alias","image"]),(0,s._)("div",N,[(0,s.Wm)(b.Z,{value:e.author.scoreStats.score},null,8,["value"]),(0,s.Wm)(C,{value:e.author.rating},null,8,["value"])])]),(0,s._)("div",O,[e.author.fullname?((0,s.wg)(),(0,s.iD)("div",R,(0,n.zw)(e.author.fullname),1)):(0,s.kq)("",!0),(0,s.Wm)(a,{class:"link",to:{name:"USER_PROFILE",params:{login:e.author.alias}}},{default:(0,s.w5)((()=>[(0,s.Uk)(" @"+(0,n.zw)(e.author.alias),1)])),_:1},8,["to"]),(0,s._)("div",M,(0,n.zw)(e.author.speciality||t.msg("USER")),1)]),(0,s._)("div",U,[(0,s.Wm)(f.Z,{subscribed:e.author.relatedData.isSubscribed,"use-follow-label":"",onOnToggle:i[0]||(i[0]=i=>t.$emit("toggle-follow",e.author))},null,8,["subscribed"])])])}}},B=(0,T.Z)(D,[["__scopeId","data-v-ff29e7f5"]]),H=B;var F=i(38947),V=i(7550);const $=192,W=16,G={__name:"similar-authors-slider",props:{authors:{type:Array,required:!0}},emits:["toggle-follow"],setup(e){const t=1+($/2-W)/$;return(i,n)=>((0,s.wg)(),(0,s.j4)(F.Z,{breakpoints:{768:{slidesPerView:3,spaceBetween:20}},class:"similar-authors-slider",navigation:"","slides-per-view":t,"space-between":12},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.authors,(e=>((0,s.wg)(),(0,s.j4)(V.Z,{key:e.alias},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{author:e,onToggleFollow:n[0]||(n[0]=e=>i.$emit("toggle-follow",e))},null,8,["author"])])),_:2},1024)))),128))])),_:1}))}},x=G,q=x;var Y=i(36134),Z=i(19913),j=i(66478);const K={__name:"similar-authors-block",props:{alias:{type:String,required:!0},embedded:Boolean},setup(e){const t=e,i=(0,a.iH)(!1),l=(0,a.iH)(!0),c=(0,a.iH)(null),u=(0,s.Fl)((()=>c.value?c.value.authorIds.map((e=>c.value.authorRefs[e])):[]));(0,s.bv)((()=>{p()}));const d=(0,o.pm)(),{msg:m}=(0,Y.Q)();async function p(){l.value=!0;try{c.value=await(0,j.oP)(t.alias)}catch{d.error(m("ERROR_PAGE_MESSAGE_INTERNAL")),i.value=!0}finally{l.value=!1}}async function _(e){try{const t=await(0,j.JI)(e.alias);if(!t.isSubscribed)return;(0,Z.IZ)("similar_authors_follow")}catch(t){d.error(t.message)}}return(t,o)=>i.value||!l.value&&!u.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(r.Z,{key:0,"body-variant":"balanced",class:(0,n.C_)(["similar-authors-block",e.embedded&&"embedded"]),"header-variant":"borderless",title:(0,a.SU)(m)("SIMILAR_AUTHORS")},{default:(0,s.w5)((()=>[l.value||!u.value.length?((0,s.wg)(),(0,s.j4)(S,{key:0})):((0,s.wg)(),(0,s.j4)(q,{key:1,authors:u.value,onToggleFollow:_},null,8,["authors"]))])),_:1},8,["class","title"]))}},z=(0,T.Z)(K,[["__scopeId","data-v-b2f64419"]]),Q=z},49796:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252);const n={class:"tm-checkbox"},a=["id","checked","disabled"];function o(e,t,i,o,r,l){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("input",{id:i.input.name,checked:i.input.value,class:"tm-checkbox__real",disabled:i.input.disabled,type:"checkbox",onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",!i.input.value))},null,40,a),(0,s._)("span",{class:"tm-checkbox__fake",onClick:t[1]||(t[1]=(...e)=>l.toggleCheckbox&&l.toggleCheckbox(...e))})])}const r={name:"TMSimpleCheckbox",props:{input:{type:Object,required:!0}},emits:["update:modelValue"],methods:{toggleCheckbox(){this.input.disabled||this.$emit("update:modelValue",!this.input.value)}}};var l=i(83744);const c=(0,l.Z)(r,[["render",o]]),u=c},33195:(e,t,i)=>{"use strict";i.d(t,{Z:()=>L});var s=i(66252),n=i(56612),a=i(62931),o=i(58061),r=i(22201),l=i(48665),c=i(23752),u=i(36134),d=i(12833),m=i(32851),p=i(41008),_=i(71197),h=i(70893);function g(e){(0,h.q)("/event",e)}var v=i(59545);const T={backend:{buttonLink:"https://career.habr.com/courses/programmirovanie/backend-razrabotka/?erid=2VSb5zFkQ3T&utm_source=habr&utm_medium=sponsorship_hub",stickyLink:"https://career.habr.com/courses/programmirovanie/backend-razrabotka/?erid=2VSb5wyoqSh&utm_source=habr&utm_medium=sponsorship_hub_2",auditory:"бэкендеров"},frontend:{buttonLink:"https://career.habr.com/courses/programmirovanie/frontend-razrabotka/?erid=2VSb5xvfNsT&utm_source=habr&utm_medium=sponsorship_hub",stickyLink:"https://career.habr.com/courses/programmirovanie/frontend-razrabotka/?erid=2VSb5wyoqSh&utm_source=habr&utm_medium=sponsorship_hub_2",auditory:"фронтендеров"},admin:{buttonLink:"https://career.habr.com/courses?courseThematics[]=administrirovanie&priceCurrency=rub&utm_source=habr/?erid=2VSb5yWm6MP&utm_medium=sponsorship_hub",stickyLink:"https://career.habr.com/courses?courseThematics%5B%5D=administrirovanie&priceCurrency=rub&utm_source=habr/?erid=2VSb5wyoqSh&utm_medium=sponsorship_hub_2",auditory:"админов"},design:{buttonLink:"https://career.habr.com/courses/dizajn/?erid=2VSb5yo4xTB&utm_source=habr&utm_medium=sponsorship_hub",stickyLink:"https://career.habr.com/courses/dizajn/?erid=2VSb5wyoqSh&utm_source=habr&utm_medium=sponsorship_hub_2",auditory:"дизайнеров"},management:{buttonLink:"https://career.habr.com/courses/menedzhment/?erid=2VSb5ysWvJD&utm_source=habr&utm_medium=sponsorship_hub",stickyLink:"https://career.habr.com/courses/menedzhment/?erid=2VSb5wyoqSh&utm_source=habr&utm_medium=sponsorship_hub_2",auditory:"менеджеров"},marketing:{buttonLink:"https://career.habr.com/courses/marketing/?erid=2VSb5w4ScnD&utm_source=habr&utm_medium=sponsorship_hub",stickyLink:"https://career.habr.com/courses/marketing/?erid=2VSb5wyoqSh&utm_source=habr&utm_medium=sponsorship_hub_2",auditory:"маркетологов"},popsci:{buttonLink:"https://career.habr.com/courses/?erid=2VSb5wDLYUH&utm_source=habr&utm_medium=sponsorship_hub",stickyLink:"https://career.habr.com/courses/?erid=2VSb5wyoqShr&utm_source=hab&utm_medium=sponsorship_hub_2",auditory:"всех"}},E={class:"title"},S={class:"content-container"},f={class:"content"},A={class:"content-title-container"},b={class:"content-title"},I=["href"],y={class:"footer"},w=["href"],P=(0,s.aZ)({__name:"sponsor-block",props:{flowName:{default:()=>{}}},setup(e){const t=(0,v.Rd)((()=>i.e(7818).then(i.bind(i,47818))),v.MN),{msg:h}=(0,u.Q)(),{startTracking:P,stopTracking:C}=(0,c.$)(),{isDark:k}=(0,d.F)(),L=(0,_.q)(),N=(0,p.Q)();N.setIsSponsorBlockPresent(!0);const O=(0,a.iH)(!1),R=(0,a.iH)(null),M=(0,a.iH)(null),U=m.H.find((t=>t.alias===e.flowName)),D=T[e.flowName??"popsci"]??T.popsci;let B;async function H(e){const t=await L.getUUIDIfNeeded()??"";g({uuid:t,alias:e,features:[]})}return(0,s.YP)(O,(async e=>{e&&(H("sticky_sponsor_block_event_load"),await(0,s.Y3)(),P(M.value,(()=>{H("sticky_sponsor_block_event_view")})))}),{once:!0}),(0,s.bv)((()=>{B=new IntersectionObserver((([e])=>{var t;O.value=!(null!==e&&void 0!==e&&e.isIntersecting)&&((null===e||void 0===e||null===(t=e.boundingClientRect)||void 0===t?void 0:t.top)??0)<0})),H("main_sponsor_block_event_load"),P(R.value,(()=>{H("main_sponsor_block_event_view")})),R.value&&B.observe(R.value)})),(0,s.Jd)((()=>{B&&R.value&&(B.unobserve(R.value),B.disconnect()),C(R.value),C(M.value)})),(e,i)=>{var c;return(0,s.wg)(),(0,s.iD)("div",{ref_key:"sponsorBlockRef",ref:R,class:"sponsor-block"},[(0,s._)("div",E,(0,n.zw)((0,a.SU)(U)?`Поток ${(0,a.SU)(h)(null===(c=(0,a.SU)(U))||void 0===c?void 0:c.title)} доступен 24/7 благодаря поддержке друзей Хабра`:"Хабр доступен 24/7 благодаря поддержке друзей"),1),(0,s._)("div",S,[i[5]||(i[5]=(0,s._)("img",{alt:"Хабр Карьера Курсы",class:"content-image",loading:"lazy",src:"https://habrastorage.org/webt/qq/ey/pn/qqeypn-py71suynxbusbakjdfjw.png"},null,-1)),(0,s._)("div",f,[(0,s._)("div",A,[(0,s._)("div",b,"Хабр Курсы для "+(0,n.zw)((0,a.SU)(D).auditory),1),i[2]||(i[2]=(0,s._)("div",{class:"sponsor-mark"},"РЕКЛАМА",-1))]),i[4]||(i[4]=(0,s._)("div",{class:"content-text"}," Практикум, Хекслет, SkyPro, авторские курсы — собрали всех и попросили скидки. Осталось выбрать! ",-1)),(0,s._)("a",{class:"content-action",href:(0,a.SU)(D).buttonLink,target:"_blank",onClick:i[0]||(i[0]=e=>H("main_sponsor_block_event_click"))},[(0,s.Wm)(l.Z,{"style-type":"solid"},{default:(0,s.w5)((()=>i[3]||(i[3]=[(0,s.Uk)("Перейти")]))),_:1,__:[3]})],8,I)])]),(0,s._)("div",y,[(0,a.SU)(U)?((0,s.wg)(),(0,s.j4)((0,a.SU)(r.rH),{key:0,class:"link sponsor-link",to:{name:"FLOW_PAGE",params:{flowName:e.flowName}}},{default:(0,s.w5)((()=>{var e;return[(0,s.Uk)(" Перейти в поток "+(0,n.zw)((0,a.SU)(h)(null===(e=(0,a.SU)(U))||void 0===e?void 0:e.title)),1)]})),_:1},8,["to"])):(0,s.kq)("",!0)]),(0,s.Wm)(o.uT,{name:"sticky-fade"},{default:(0,s.w5)((()=>[O.value?((0,s.wg)(),(0,s.iD)("a",{key:0,ref_key:"stickySponsorBlockRef",ref:M,class:"fixed-banner-wrapper sticky-sponsor-block",href:(0,a.SU)(D).stickyLink,target:"_blank",onClick:i[1]||(i[1]=e=>H("sticky_sponsor_block_event_click"))},[i[6]||(i[6]=(0,s._)("span",{class:"content-text"},"При поддержке",-1)),(0,s.Wm)((0,a.SU)(t),{style:(0,n.j5)({filter:(0,a.SU)(k)?"invert(1)":"none"})},null,8,["style"]),i[7]||(i[7]=(0,s._)("span",{class:"sponsor-mark"},"РЕКЛАМА",-1))],8,w)):(0,s.kq)("",!0)])),_:1})],512)}}});var C=i(83744);const k=(0,C.Z)(P,[["__scopeId","data-v-b5ef1762"]]),L=k},84077:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(62931),a=i(56612),o=i(22201),r=i(81864),l=i(39639),c=i(36134);const u=["href"],d={class:"hint-popup-text"},m=Object.assign({inheritAttrs:!1},{__name:"statistics-link",props:{publication:{type:Object,required:!0}},setup(e){const t=e,i=(0,o.tv)(),{msg:m}=(0,c.Q)(),p=(0,s.Fl)((()=>t.publication.timePublished)),_=(0,n.iH)(!1),h=(0,s.Fl)((()=>m("STATISTICS_NEVER_PUBLISHED_HINT",{type:t.publication.publicationType||t.publication.postType}))),g=(0,s.Fl)((()=>t.publication.id)),v=(0,s.Fl)((()=>({name:"STATISTICS_PUBLICATION",params:{publicationId:g.value}})));async function T(e){e.preventDefault(),p.value?i.push(v.value):_.value=!0}const E=(0,n.iH)(null);return(e,t)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i,{custom:"",to:v.value},{default:(0,s.w5)((({href:t})=>[(0,s._)("a",(0,s.dG)({ref_key:"link",ref:E,class:"statistics-link",href:t},e.$attrs,{onClick:T}),[(0,s.Wm)(l.Z,{id:"stats-info",class:"icon_statistics-post","data-test-id":"articleStatisticsIcon",size:"20",title:(0,n.SU)(m)("ICON_USER_STAT")},null,8,["title"])],16,u)])),_:1},8,["to"]),_.value?((0,s.wg)(),(0,s.j4)(r.Z,{key:0,class:"hint-popup",offset:[-4,4],root:E.value,variant:"hub",onClose:t[0]||(t[0]=e=>_.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",d,(0,a.zw)(h.value),1)])),_:1},8,["root"])):(0,s.kq)("",!0)],64)}}});var p=i(83744);const _=(0,p.Z)(m,[["__scopeId","data-v-990c705a"]]),h=_},1231:(e,t,i)=>{"use strict";i.d(t,{Z:()=>fe});var s=i(66252);const n={key:1};function a(e,t,i,a,o,r){const l=(0,s.up)("TMPlaceholder"),c=(0,s.up)("TMStoriesCard"),u=(0,s.up)("TMSwiperSlide"),d=(0,s.up)("TMSwiper"),m=(0,s.up)("TMStoriesView"),p=(0,s.up)("TMBlock");return r.isShowBlock?((0,s.wg)(),(0,s.j4)(p,{key:0,"body-variant":"equal",class:"tm-stories-block","data-navigatable":"",spacing:"around",tabindex:"0",title:e.msg("TITLE_STORIES")},{default:(0,s.w5)((()=>[o.isSorting?((0,s.wg)(),(0,s.j4)(l,{key:0,type:"stories"})):((0,s.wg)(),(0,s.j4)(d,{key:1,"active-slide":o.activeSlide,class:"tm-stories",navigation:"","slides-per-view":"auto","space-between":r.isDesktop?20:12,threshold:15},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sortedStories,((e,t)=>((0,s.wg)(),(0,s.j4)(u,{key:e.id},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"is-viewed":o.viewedStoriesIds.has(e.id),story:e,onChangeActiveStory:e=>o.activeSlide=t,onOpenStory:e=>r.openStory(t)},null,8,["is-viewed","story","onChangeActiveStory","onOpenStory"])])),_:2},1024)))),128))])),_:1},8,["active-slide","space-between"])),o.isStoriesView?((0,s.wg)(),(0,s.j4)(m,{key:2,"active-story-index":o.currentStoryIndex,"ga-category":i.gaCategory,stories:o.sortedStories,onClose:t[0]||(t[0]=e=>r.closeView()),onSaveView:r.saveView},null,8,["active-story-index","ga-category","stories","onSaveView"])):(0,s.kq)("",!0)])),_:1},8,["title"])):((0,s.wg)(),(0,s.iD)("div",n))}var o=i(70352),r=i(31596),l=i(56612),c=i(58061);const u={class:"tm-stories-card"},d=["src"],m={key:0,class:"tm-stories-card__overlay"},p=["src"],_=["textContent"];function h(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("button",{class:(0,l.C_)(o.bem("tm-stories-card__image-block",{loading:a.imageLoading})),onClick:t[3]||(t[3]=t=>e.$emit("openStory")),onFocus:t[4]||(t[4]=e=>o.focus())},[(0,s._)("img",{alt:"",class:"tm-stories-card__image",src:o.getResizedImg(i.story.slides[0].image),onLoad:t[0]||(t[0]=e=>a.imageLoading=!1)},null,40,d),t[5]||(t[5]=(0,s._)("div",{class:"tm-stories-card__gradient"},null,-1)),i.isViewed?((0,s.wg)(),(0,s.iD)("div",m)):(0,s.kq)("",!0),i.isViewed?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)((0,s.LL)(i.story.author.url?"a":"span"),{key:1,class:"tm-stories-card__author",href:i.story.author.url,onClick:t[1]||(t[1]=(0,c.iM)((()=>{}),["stop"])),onFocus:t[2]||(t[2]=e=>o.focus())},{default:(0,s.w5)((()=>[(0,s._)("img",{alt:"author-logo",class:"tm-stories-card__author-logo",src:i.story.author.image},null,8,p)])),_:1},40,["href"]))],34),(0,s._)("div",{class:(0,l.C_)(o.bem("tm-stories-card__title",{viewed:i.isViewed})),textContent:(0,l.zw)(i.story.title)},null,10,_)])}var g=i(25109),v=i(581);const T={name:"TMStoriesCard",props:{story:{type:Object,required:!0},isViewed:{type:Boolean,default:!1}},emits:["openStory","changeActiveStory"],data(){return{imageLoading:!0}},methods:{bem:g.P,getResizedImg(e){const t=390;return(0,v.getResizedSrc)(e,t)},focus(){this.$emit("changeActiveStory")}}};var E=i(83744);const S=(0,E.Z)(T,[["render",h]]),f=S,A={class:"tm-stories-view"};function b(e,t,i,n,a,o){const r=(0,s.up)("TMSvgIcon"),l=(0,s.up)("TMStory"),c=(0,s.up)("TMSwiperSlide"),u=(0,s.up)("TMSwiper"),d=(0,s.Q2)("hotkey");return(0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[(0,s._)("div",A,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("button",{class:"tm-stories-view__close",onClick:t[0]||(t[0]=(...e)=>o.close&&o.close(...e))},[(0,s.Wm)(r,{id:"close",class:"tm-stories-view__close-icon",size:"16",title:e.msg("CLOSE")},null,8,["title"])])),[[d,{esc:o.close}]]),(0,s._)("div",{class:"tm-stories-view__bg",onClick:t[1]||(t[1]=(...e)=>o.close&&o.close(...e))}),null!==a.isSmallestMobile?((0,s.wg)(),(0,s.j4)(u,{key:0,"active-slide":a.currentStoryIndex,"centered-slides":!a.isSmallestMobile,"initial-slide":a.currentStoryIndex,"slides-per-view":a.isSmallestMobile?1:"auto","space-between":a.isSmallestMobile?0:70,onSlideChange:o.slideChange},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.stories,((n,r)=>((0,s.wg)(),(0,s.j4)(c,{key:n.id},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{"data-story-card":"","ga-category":i.gaCategory,"is-active":r===a.currentStoryIndex,"is-first":0===r,"is-last":r===i.stories.length-1,"loading-status":a.storiesLoading[r],story:n,onChangeActiveStory:e=>o.slideChange(r),onClose:t[2]||(t[2]=t=>e.$emit("close")),onLoadingFinish:e=>o.continueLoading(r,e),onNextStory:o.nextStory,onPrevStory:o.prevStory,onSaveView:t=>e.$emit("saveView",n.id)},null,8,["ga-category","is-active","is-first","is-last","loading-status","story","onChangeActiveStory","onLoadingFinish","onNextStory","onPrevStory","onSaveView"])])),_:2},1024)))),128))])),_:1},8,["active-slide","centered-slides","initial-slide","slides-per-view","space-between","onSlideChange"])):(0,s.kq)("",!0)])])}const I={ref:"story",class:"tm-story"},y=["src","onError","onLoad"],w={key:0,class:"tm-story__image"},P={class:"tm-story__author"},C=["src"],k=["href"];function L(e,t,i,n,a,o){const r=(0,s.up)("TMSvgIcon"),u=(0,s.up)("TMSpinner"),d=(0,s.up)("TMStoryProgressBar"),m=(0,s.Q2)("hotkey");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{class:(0,l.C_)(o.bem("tm-story-container",{hidden:!i.isActive}))},[i.isActive?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[o.showLeftButton?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tm-story__button tm-story__button_left","data-test-id":"story-prev-slide",onClick:t[0]||(t[0]=(...e)=>o.prevSlide&&o.prevSlide(...e))},[(0,s.Wm)(r,{id:"arrow-back",class:"tm-story__button-icon",size:"24",title:e.msg("NAV_LEFT")},null,8,["title"])])):(0,s.kq)("",!0),o.showRightButton?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"tm-story__button tm-story__button_right","data-test-id":"story-next-slide",onClick:t[1]||(t[1]=(...e)=>o.nextSlide&&o.nextSlide(...e))},[(0,s.Wm)(r,{id:"arrow-back",class:"tm-story__button-icon",size:"24",title:e.msg("NAV_RIGHT")},null,8,["title"])])):(0,s.kq)("",!0)],64)):(0,s.kq)("",!0),(0,s._)("div",I,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visibleSlidesImages,((e,t)=>((0,s.wg)(),(0,s.iD)("img",{key:t,alt:"",class:(0,l.C_)(o.bem("tm-story__image",{hidden:e!==o.activeSlide.image})),src:o.getResizedImg(e),onError:i=>o.errorImage(t,e),onLoad:i=>o.loadImage(t,e)},null,42,y)))),128)),o.visibleSlidesImages.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",w)),a.imageLoading?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0),t[10]||(t[10]=(0,s._)("div",{class:"tm-story__gradient"},null,-1)),i.isActive?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[(0,s._)("div",{class:"tm-story__area tm-story__area_left",onClick:t[2]||(t[2]=e=>o.prevSlide(null,!0))}),(0,s._)("div",{class:"tm-story__area tm-story__area_right",onClick:t[3]||(t[3]=e=>o.nextSlide(null,!0))}),a.imageLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:0,"active-slide-index":a.activeSlideIndex,"is-paused":a.isPaused,slides:i.story.slides},null,8,["active-slide-index","is-paused","slides"])),(0,s._)("button",{class:"tm-story__close",onClick:t[4]||(t[4]=t=>e.$emit("close"))},[(0,s.Wm)(r,{id:"close-rounded",size:"24",title:e.msg("CLOSE")},null,8,["title"])])],64)):((0,s.wg)(),(0,s.iD)("div",{key:3,class:"tm-story__overlay",onClick:t[5]||(t[5]=(...e)=>o.changeActiveStory&&o.changeActiveStory(...e))})),(0,s._)("div",P,[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.story.author.url?"a":"span"),{class:"tm-story__author-logo","data-test-id":i.story.author.url?"story-author-link":"story-author",href:i.story.author.url,onClick:t[6]||(t[6]=(0,c.iM)((e=>o.logAuthorClick(i.story)),["prevent"]))},{default:(0,s.w5)((()=>[(0,s._)("img",{alt:"story-author",src:i.story.author.image},null,8,C)])),_:1},8,["data-test-id","href"])),((0,s.wg)(),(0,s.j4)((0,s.LL)(i.story.author.url?"a":"span"),{class:"tm-story__author-name","data-test-id":i.story.author.url?"story-author-link":"story-author",href:i.story.author.url,onClick:t[7]||(t[7]=(0,c.iM)((e=>o.logAuthorClick(i.story)),["prevent"]))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(i.story.author.title),1)])),_:1},8,["data-test-id","href"]))]),i.isActive&&o.activeSlide.button?((0,s.wg)(),(0,s.iD)("a",{key:4,class:(0,l.C_)(o.bem("tm-story__link",{color:a.buttonColors[o.activeSlide.button.style]})),"data-test-id":"story-link",href:o.activeSlide.button.url,onClick:t[8]||(t[8]=(0,c.iM)(((...e)=>o.logButtonClick&&o.logButtonClick(...e)),["left"])),onMouseup:t[9]||(t[9]=(0,c.iM)(((...e)=>o.logButtonClick&&o.logButtonClick(...e)),["middle"]))},[(0,s._)("span",null,(0,l.zw)(o.activeSlide.button.title),1),(0,s.Wm)(r,{id:"pull-arrow",class:"tm-story__link-icon",size:"24",title:o.activeSlide.button.title},null,8,["title"])],42,k)):(0,s.kq)("",!0)],512)],2)),[[m,o.hotkeys]])}const N={class:"tm-spinner"};function O(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("div",N,t[0]||(t[0]=[(0,s._)("svg",{class:"spinner",height:"66px",viewBox:"0 0 66 66",width:"66px",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("circle",{class:"path",cx:"33",cy:"33",fill:"none",r:"30","stroke-linecap":"round","stroke-width":"6"})],-1)]))}const R={name:"TMSpinner"},M=(0,E.Z)(R,[["render",O]]),U=M,D={class:"tm-story-progress-bar"};function B(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("div",D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.slides,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"tm-story-progress-bar__item",style:(0,l.j5)(`width: calc(100%/${i.slides.length} - 4px);`)},[(0,s._)("div",{class:(0,l.C_)(o.bem("tm-story-progress-bar__item-progress",{active:t===i.activeSlideIndex,future:t>i.activeSlideIndex,paused:i.isPaused&&t===i.activeSlideIndex}))},null,2)],4)))),128))])}const H={name:"TMStoryProgressBar",props:{slides:{type:Array,required:!0},isPaused:{type:Boolean},activeSlideIndex:{type:Number,required:!0}},methods:{bem:g.P}},F=(0,E.Z)(H,[["render",B]]),V=F;var $=i(3739),W=i(84183),G=i(71197),x=i(19913),q=i(25874),Y=i(70893);function Z(e){(0,Y.q)("/story",e)}const j="new",K="pending",z="loaded",Q="error",X="all",J="first",ee="none",te={name:"TMStory",components:{TMSvgIcon:$["default"],TMStoryProgressBar:V,TMSpinner:U},props:{story:{type:Object,required:!0},isActive:{type:Boolean,default:!1},isFirst:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1},gaCategory:{type:String,required:!0},loadingStatus:{type:String,required:!0},imagesPreloaded:{type:Boolean,default:!1}},emits:["close","loadingFinish","nextStory","prevStory","changeActiveStory","saveView"],data(){const e={};for(let t=0;t<this.story.slides.length;t+=1){const i=this.story.slides[t];this.imagesPreloaded?e[i.image]=z:e[i.image]=0===t?K:j}return{activeSlideIndex:0,timer:1e3,counter:!1,interval:0,isPaused:!1,pauseTimeStamp:0,playTimeStamp:0,imageLoading:!0,slidesImages:e,buttonColors:{0:"default",1:"light",2:"dark"}}},computed:{uuid(){return(0,G.q)().uuid},activeSlide(){return this.story.slides[this.activeSlideIndex]},showLeftButton(){return!this.isFirst||0!==this.activeSlideIndex},showRightButton(){return!this.isLast||this.activeSlideIndex!==this.story.slides.length-1},hotkeys(){return this.isActive?{space:this.toggleTimer,right:this.nextSlide,left:this.prevSlide,up:this.prevStory,down:this.nextStory}:{}},isShortClick(){return this.playTimeStamp-this.pauseTimeStamp<300},visibleSlidesImages(){return this.loadingStatus===ee?{}:Object.keys(this.slidesImages).filter((e=>this.slidesImages[e]!==j))}},watch:{isActive(){this.isActive?(this.startTimer(),this.saveView(),this.logGaStory(),this.logSlideView(),this.loadNextImage(this.activeSlideIndex)):(clearInterval(this.interval),this.interval=0)},imageLoading(){this.isActive&&!this.imageLoading&&this.startSlide()},loadingStatus(e){e===X&&this.loadNextImage(this.visibleSlidesImages.length-1)}},beforeUnmount(){clearInterval(this.interval),this.$refs.story.removeEventListener("mousedown",this.pause),this.$refs.story.removeEventListener("mouseup",this.play),this.$refs.story.removeEventListener("touchstart",this.pause),this.$refs.story.removeEventListener("touchend",this.play),this.$refs.story.removeEventListener("contextmenu",this.closeContextMenu)},mounted(){this.isActive&&this.logGaStory(),this.$refs.story.addEventListener("mousedown",this.pause),this.$refs.story.addEventListener("mouseup",this.play),this.$refs.story.addEventListener("touchstart",this.pause,{passive:!0}),this.$refs.story.addEventListener("touchend",this.play,{passive:!0}),this.$refs.story.addEventListener("contextmenu",this.closeContextMenu)},methods:{bem:g.P,loadImage(e,t){e===this.activeSlideIndex&&(this.imageLoading=!1),0===e&&this.$emit("loadingFinish",J),this.slidesImages[t]=z,this.loadNextImage(e)},errorImage(e,t){this.slidesImages[t]=Q,this.loadNextImage(e)},loadNextImage(e){if(e===this.story.slides.length-1)return void this.$emit("loadingFinish",X);if(this.loadingStatus===J)return;const t=this.story.slides[e+1];this.slidesImages[t.image]===j&&(this.slidesImages[t.image]=K)},getResizedImg(e){const t=780;return(0,v.getResizedSrc)(e,t)},toggleTimer(){this.isPaused=!this.isPaused},pause(e){this.pauseTimeStamp=e.timeStamp,this.isPaused=!0},play(e){this.playTimeStamp=e.timeStamp,this.isPaused=!1},closeContextMenu(e){(0,W.s)().isMobile&&e.preventDefault()},nextSlide(e,t=!1){t&&!this.isShortClick||this.changeActiveSlide(1)},prevSlide(e,t=!1){t&&!this.isShortClick||this.changeActiveSlide(-1)},nextStory(){this.$emit("nextStory")},prevStory(){this.$emit("prevStory")},changeActiveStory(){this.$emit("changeActiveStory")},changeActiveSlide(e){this.activeSlideIndex+e<0?this.prevStory():this.activeSlideIndex+e>this.story.slides.length-1?this.nextStory():(this.activeSlideIndex+=e,this.slidesImages[this.activeSlide.image]===j&&(this.slidesImages[this.activeSlide.image]=K),this.slidesImages[this.activeSlide.image]===z?this.startSlide():(this.imageLoading=!0,this.isPaused=!0))},startSlide(){this.isPaused=!1,this.saveView(),this.logSlideView(),this.startTimer()},startTimer(){this.timer=1e3,this.interval||(this.interval=setInterval(this.countDown,10))},countDown(){this.isPaused||(this.counter?this.timer>0?this.timer-=1:(this.timer=0,this.counter=!1,this.nextSlide()):this.counter=!0)},saveView(){this.story.slides.length-1===this.activeSlideIndex&&this.$emit("saveView")},logGaStory(){(0,x.IZ)(`${this.gaCategory}_view_open`,{event_category:this.story.id})},logAuthorClick(e){e.author.url&&(Z({uuid:this.uuid,storyId:this.story.id,actionType:"authorClick"}),window.location=e.author.url)},logSlideView(){var e,t;const i=null===(e=this.story.slides)||void 0===e?void 0:e[this.activeSlideIndex],s=null===i||void 0===i||null===(t=i.events)||void 0===t?void 0:t.view;s&&(0,q.s)([s]),Z({uuid:this.uuid,storyId:this.story.id,slideId:this.activeSlide.id,actionType:"slideView"}),(0,x.IZ)(`${this.gaCategory}_view`,{event_label:`slide_${this.activeSlide.id}`,event_category:this.story.id})},logButtonClick(){Z({uuid:this.uuid,storyId:this.story.id,slideId:this.activeSlide.id,actionType:"slideButtonClick"}),(0,x.IZ)(`${this.gaCategory}_view`,{event_label:`button_${this.activeSlide.id}`,event_category:this.story.id})}}},ie=(0,E.Z)(te,[["render",L]]),se=ie;var ne=i(38947),ae=i(7550);const oe="all",re="first",le="none",ce={name:"TMStoriesView",components:{TMStory:se,TMSvgIcon:$["default"],TMSwiper:ne.Z,TMSwiperSlide:ae.Z},props:{stories:{type:Array,required:!0},activeStoryIndex:{type:Number,required:!0},gaCategory:{type:String,required:!0}},emits:["close","saveView"],data(){const e={};return this.stories.forEach(((t,i)=>{e[i]=i===this.activeStoryIndex?oe:le})),{currentStoryIndex:this.activeStoryIndex,isSmallestMobile:null,matcher:null,storiesLoading:e}},beforeUnmount(){document.body.classList.remove("tm-touch-select-disabled"),this.matcher.removeListener(this.onMediaTriggered)},mounted(){document.body.classList.add("tm-touch-select-disabled"),this.matcher=window.matchMedia("(max-width: 415px)"),this.matcher.addListener(this.onMediaTriggered),this.isSmallestMobile=this.matcher.matches},methods:{close(){this.$emit("close")},slideChange(e){this.currentStoryIndex=e,this.storiesLoading[this.currentStoryIndex]=oe},nextStory(){this.currentStoryIndex+1>this.stories.length-1?this.$emit("close"):this.currentStoryIndex+=1},prevStory(){this.currentStoryIndex-1<0?this.currentStoryIndex=0:this.currentStoryIndex-=1},onMediaTriggered(e){this.isSmallestMobile=e.matches},continueLoading(e,t){e<=this.currentStoryIndex&&0!==e&&this.storiesLoading[e-1]===le&&(this.storiesLoading[e-1]=re),e>=this.currentStoryIndex&&e!==this.stories.length-1&&this.storiesLoading[e+1]!==t&&(this.storiesLoading[e+1]=t)}}},ue=(0,E.Z)(ce,[["render",b]]),de=ue;var me=i(59896),pe=i(84379);const _e="habr-stories-viewed",he=100,ge=5,ve=3;var Te=i(79182);const Ee={name:"TMStories",components:{TMPlaceholder:r.Z,TMBlock:o.Z,TMStoriesView:de,TMStoriesCard:f,TMSwiper:ne.Z,TMSwiperSlide:ae.Z},props:{isSidebar:{type:Boolean,default:!1},gaCategory:{type:String,required:!0}},data(){return{activeSlide:0,viewedStoriesIds:null,isStoriesView:!1,currentStoryIndex:0,isSorting:!0,sortedStories:[]}},computed:{isDesktop(){return(0,W.s)().isDesktop},stories(){return(0,pe.W)().stories},isShowBlock(){return!!this.stories&&(this.isSidebar?this.stories.length>=ve:this.stories.length>=ge)}},watch:{stories:{handler(){this.sortStories()},once:!0}},async mounted(){try{this.viewedStoriesIds=this.getViewedStoriesIds(),this.sortStories()}catch(e){(0,me.T)(e)}},methods:{bem:g.P,openStory(e){this.isStoriesView=!0,this.currentStoryIndex=e},closeView(){this.isStoriesView=!1,this.viewedStoriesIds=this.getViewedStoriesIds(),this.sortStories()},getViewedStoriesIds(){try{const e=JSON.parse((0,Te.rV)(_e)||"[]");return new Set(e)}catch(e){return console.error(e),new Set}},saveView(e){const t=this.getViewedStoriesIds();if(t.has(e))return;t.add(e);let i=Array.from(t);i.length>he&&(i=i.slice(-he)),(0,Te.LS)(_e,JSON.stringify(i))},sortStories(){if(Array.isArray(this.stories)){if(!this.viewedStoriesIds.size)return this.sortedStories=this.stories,void(this.isSorting=!1);this.sortedStories=this.stories.sort(((e,t)=>this.viewedStoriesIds.has(e.id)-this.viewedStoriesIds.has(t.id))),this.isSorting=!1}}}},Se=(0,E.Z)(Ee,[["render",a]]),fe=Se},91010:(e,t,i)=>{"use strict";i.d(t,{Z:()=>P});var s=i(66252),n=i(56612),a=i(58061);const o={class:"tm-subscription"},r={class:"tm-subscription__title"},l={key:0,class:"tm-subscription__thanks"},c={key:1,class:"tm-subscription__form"},u={class:"tm-select__container"},d=["disabled"],m={value:"day"},p={value:"week"},_={value:"month"},h={class:"tm-subscription__button-container"};function g(e,t,i,g,v,T){const E=(0,s.up)("TMButtonBase"),S=(0,s.up)("TMSvgImg");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("h2",r,(0,n.zw)(e.msg("SUBSCRIPTION_TITLE")),1),(0,s._)("p",null,(0,n.zw)(e.msg("SUBSCRIPTION_TEXT")),1),v.showThanks?((0,s.wg)(),(0,s.iD)("div",l,(0,n.zw)(e.msg("SUBSCRIPTION_THANKS")),1)):((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",u,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>v.period=e),class:"tm-subscription__select",disabled:v.isLoading},[(0,s._)("option",m,(0,n.zw)(T.i18nSubscriptionPeriod("D")),1),(0,s._)("option",p,(0,n.zw)(T.i18nSubscriptionPeriod("W")),1),(0,s._)("option",_,(0,n.zw)(T.i18nSubscriptionPeriod("M")),1)],8,d),[[a.bM,v.period]])]),(0,s._)("div",h,[(0,s.Wm)(E,{class:"tm-subscription__button","is-loading":v.isLoading,"style-size":"large","style-type":"solid",type:"submit",onClick:T.sendSubscriptionSettings},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("SUBSCRIPTION_SUBSCRIBE")),1)])),_:1},8,["is-loading","onClick"])])])),(0,s._)("button",{class:"tm-subscription__close",onClick:t[1]||(t[1]=e=>T.sendSubscriptionSettings("never"))},[(0,s.Wm)(S,{id:"close",class:"tm-subscription__close-icon"})])])}var v=i(91270),T=i(39639),E=i(71197),S=i(19913),f=i(66478);const A=!0;function b(e){switch(e){case"day":return"subscribe_daily";case"week":return"subscribe_weekly";case"month":return"subscribe_monthly";case"never":return"close";default:return null}}const I={name:"TMSubscriptionBlock",components:{TMSvgImg:T.Z,TMButtonBase:v.Z},data(){return{period:"week",showThanks:!1,isLoading:!1}},beforeUnmount(){this.showThanks&&(0,E.q)().init(A)},methods:{i18nSubscriptionPeriod(e){return this.msg(`SUBSCRIPTION_PERIOD_${e}`)},sendSubscriptionSettings(e){if(this.showThanks&&"never"===e)return void(0,E.q)().init(A);this.isLoading=!0;const t=e||this.period,i={frequency:t};(0,S.IZ)(`tm_block_digest_feed_${b(t)}`),(0,f.cZ)(i).then((t=>{t.ok&&("never"===e?(0,E.q)().init(A):this.showThanks=!0)})).catch((e=>{this.$toast.error(e.message)})).finally((()=>{this.isLoading=!1}))}}};var y=i(83744);const w=(0,y.Z)(I,[["render",g]]),P=w},3739:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("TMSvgImg");return(0,s.wg)(),(0,s.j4)((0,s.LL)(e.tag),{class:"tm-svg-icon__wrapper",onClick:t[0]||(t[0]=t=>e.$emit("click")),onMouseover:t[1]||(t[1]=t=>e.$emit("mouseover"))},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{id:e.id,class:"tm-svg-icon","no-title":e.noTitle,size:e.size,title:e.title},null,8,["id","no-title","size","title"])])),_:1},32)}var a=i(39639);const o={name:"TMSvgIcon",components:{TMSvgImg:a.Z},props:{tag:{default:"span",type:String},id:{required:!0,type:String},size:{default:"16",type:String},title:{default:null,type:String},noTitle:Boolean},emits:["click","mouseover"]};var r=i(83744);const l=(0,r.Z)(o,[["render",n]]),c=l},39639:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252),n=i(56612);const a="/img/megazord-v28.497ef789..svg";var o=i(36134);const r=["height","width"],l={key:0},c=["xlink:href"],u={__name:"svg-img",props:{id:{required:!0,type:String},size:{default:"16",type:[String,Number]},width:{default:null,type:[Number,String]},height:{default:null,type:[Number,String]},title:{type:String,default:null},noTitle:Boolean,svgAttrs:{type:Object,default(){return{}}}},setup(e){const{msg:t}=(0,o.Q)(),i=["placeholder-user","placeholder-company","placeholder-hub","placeholder","arrow-link"],u=e,d=(0,s.Fl)((()=>"/"!==u.id.charAt(0)?`${a}#${u.id}`:u.id)),m=(0,s.Fl)((()=>{if(u.noTitle)return null;if(u.title)return u.title;const e="/"===u.id.charAt(0),s=e?u.id.split("#")[1]:u.id;if(-1===i.indexOf(s)){const e=`ICON_${s.split("-").join("_").toUpperCase()}`;return t(e)}return null}));return(t,i)=>((0,s.wg)(),(0,s.iD)("svg",(0,s.dG)(e.svgAttrs,{class:"tm-svg-img",height:e.height||e.size,width:e.width||e.size}),[m.value?((0,s.wg)(),(0,s.iD)("title",l,(0,n.zw)(m.value),1)):(0,s.kq)("",!0),(0,s._)("use",{"xlink:href":d.value},null,8,c)],16,r))}},d=u,m=d},7550:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252);const n={class:"swiper-slide"};function a(e,t,i,a,o,r){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.WI)(e.$slots,"default")])}const o={name:"TMSwiperSlide"};var r=i(83744);const l=(0,r.Z)(o,[["render",a]]),c=l},38947:(e,t,i)=>{"use strict";i.d(t,{Z:()=>T});var s=i(66252),n=i(56612);const a={class:"swiper-wrapper"},o={key:0,class:"swiper-pagination"},r={class:"swiper-button-prev"},l={class:"swiper-button-next"};function c(e,t,i,c,u,d){const m=(0,s.up)("TMSvgIcon");return(0,s.wg)(),(0,s.iD)("div",{ref:"swiper",class:"swiper-container",style:(0,n.j5)(d.style)},[(0,s._)("div",a,[(0,s.WI)(e.$slots,"default")]),i.pagination?((0,s.wg)(),(0,s.iD)("div",o)):(0,s.kq)("",!0),i.navigation?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("button",r,[(0,s.Wm)(m,{id:"arrow-back",class:"swiper-button-icon",size:"24",title:e.msg("NAV_LEFT")},null,8,["title"])]),(0,s._)("button",l,[(0,s.Wm)(m,{id:"arrow-back",class:"swiper-button-icon",size:"24",title:e.msg("NAV_RIGHT")},null,8,["title"])])],64)):(0,s.kq)("",!0)],4)}var u=i(30172),d=i(52997),m=i(7649),p=i(95186),_=i(3739);u.Z.use([d.Z,m.Z,p.Z]);const h={name:"TMSwiper",components:{TMSvgIcon:_["default"]},props:{slidesPerView:{type:[Number,String],default:"auto"},pagination:{type:[Boolean,Object],default:null},autoHeight:{type:Boolean,default:!1},autoplay:{type:Object,default(){return{enabled:!1}}},navigation:{type:[Boolean,Object],default:!1},spaceBetween:{type:Number,default:0},breakpoints:{type:Object,default:null},initialSlide:{type:Number,default:0},activeSlide:{type:Number,default:0},centeredSlides:{type:Boolean,default:!1},threshold:{type:Number,default:5}},emits:["slideChange"],data(){return{swiperInstance:null}},computed:{style(){return{"--swiper-space-between":`${this.spaceBetween}px`}}},watch:{activeSlide(e){this.swiperInstance.activeIndex!==e&&this.swiperInstance.slideTo(e)}},mounted(){const{autoHeight:e,autoplay:t,slidesPerView:i,spaceBetween:s,breakpoints:n,initialSlide:a,centeredSlides:o,pagination:r,navigation:l,threshold:c}=this;let d=!!r&&{el:".swiper-pagination",clickable:!0};"object"===typeof r&&(d={...d,...r});let m=!1;l&&(m={nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-lock"});const p={slidesPerView:i,spaceBetween:s,breakpoints:n,pagination:d,navigation:m,autoHeight:e,autoplay:t,initialSlide:a,centeredSlides:o,threshold:c,on:{slideChange:this.slideChange}};this.swiperInstance=new u.Z(this.$refs.swiper,p)},beforeUnmount(){this.swiperInstance&&this.swiperInstance.destroy()},methods:{slideChange(){this.swiperInstance&&this.$emit("slideChange",this.swiperInstance.activeIndex)}}};var g=i(83744);const v=(0,g.Z)(h,[["render",c]]),T=v},28336:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var s=i(66252),n=i(56612),a=i(58061);const o=["href","target"],r=["data-test-id","href","onClick"],l=["title"],c={key:1,class:"tm-tabs__tab-counter-new"},u=["onClick"],d={key:0,class:"tm-tabs__dropdown"};function m(e,t,i,m,p,_){const h=(0,s.up)("router-link"),g=(0,s.up)("TMNavigationDropdown");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-tabs",_.bem("tm-tabs",{variant:i.variant})])},[(0,s._)("div",{ref:"scrollArea",class:(0,n.C_)({"tm-tabs__scroll-area":!i.noSpacers&&!_.shouldSplitTabs,"tm-tabs__padding-area":!i.noSpacers&&_.shouldSplitTabs})},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(_.slicedTabs,((t,d)=>((0,s.wg)(),(0,s.iD)("span",{key:`tab_${d}`,ref_for:!0,ref:"tabs",class:"tm-tabs__tab-item"},[t.route.external?((0,s.wg)(),(0,s.iD)("a",{key:0,class:(0,n.C_)(["tm-tabs__tab-link",_.bem("tm-tabs__tab-link",{slim:i.slim})]),href:t.route.path,target:t.route.target||"_self"},(0,n.zw)(t.title),11,o)):i.local?((0,s.wg)(),(0,s.iD)("button",{key:2,class:(0,n.C_)(["tm-tabs__tab-link",_.bem("tm-tabs__tab-link",_.linkModifiers(t))]),onClick:(0,a.iM)((e=>_.handleNavigationChange(t)),["prevent"])},(0,n.zw)(t.title),11,u)):((0,s.wg)(),(0,s.j4)(h,{key:1,custom:"",to:t.route},{default:(0,s.w5)((({href:i})=>[(0,s._)("a",{class:(0,n.C_)(["tm-tabs__tab-link",_.bem("tm-tabs__tab-link",_.linkModifiers(t))]),"data-test-id":_.checkTabActivity(t)?"tab-link-active":null,href:i,onClick:(0,a.iM)((e=>_.handleNavigationChange(t)),["prevent"])},[(0,s.WI)(e.$slots,`tab_${t.route.name||d}`,(0,s.dG)({ref_for:!0},{tab:t,index:d}),(()=>[(0,s.Uk)((0,n.zw)(t.title),1)])),t.count?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tm-tabs__tab-counter",title:t.count},(0,n.zw)(_.getCount(t.count)),9,l)):(0,s.kq)("",!0),void 0!==t.countNew?((0,s.wg)(),(0,s.iD)("span",c,(0,n.zw)(t.countNew>0?`+${t.countNew}`:""),1)):(0,s.kq)("",!0)],10,r)])),_:2},1032,["to"]))])))),128))],2),_.shouldSplitTabs?((0,s.wg)(),(0,s.iD)("div",d,[(0,s.Wm)(g,{"current-value":e.$route.name,"custom-title":e.msg("MORE"),options:_.extraMenuTabs,variant:"tabs",onChange:_.handleNavigationChange},null,8,["current-value","custom-title","options","onChange"])])):(0,s.kq)("",!0)],2)}var p=i(11828),_=i(11269);function h(e){return(0,_.Xq)(e.name)||(0,_.Xq)(e.path)}function g(e){return h(e.route)&&(0,_.HD)(e.title)}function v(e){return e.every(g)}const T={required:!0,type:Array,validator:v};var E=i(84183),S=i(25109),f=i(87934);const A={name:"TMTabs",components:{TMNavigationDropdown:p.Z},props:{tabs:T,tabsCount:{type:Number,default:null},variant:{type:String,default:null},exact:{type:Boolean,default:!1},exactMeta:{type:Boolean,default:!1},hideEmptyTabs:{type:Boolean,default:!1},local:Boolean,localActive:{type:String,default:null},noSpacers:Boolean,slim:Boolean},emits:["update:localActive"],computed:{isMobile(){return(0,E.s)().isMobile},filteredTabs(){return this.hideEmptyTabs?this.tabs.filter((e=>0!==e.count||e.isShowAlways)):this.tabs},shouldSplitTabs(){return!this.isMobile&&this.tabsCount&&this.filteredTabs.length>this.tabsCount},slicedTabs(){return this.shouldSplitTabs?this.filteredTabs.slice(0,this.tabsCount):this.filteredTabs},extraMenuTabs(){return this.shouldSplitTabs?this.filteredTabs.slice(this.tabsCount).map((e=>({label:e.title,value:e.route.name,...e}))):[]}},mounted(){this.shouldSplitTabs||this.scrollTab()},methods:{linkModifiers(e){return{active:this.checkTabActivity(e),slim:this.slim,disabled:e.disabled??!1}},checkTabActivity(e){return!e.disabled&&(this.local?this.localActive===e.route.name:this.isActive(e)||this.isParentRouteActive(e.route))},handleNavigationChange(e){this.local?this.$emit("update:localActive",e.route.name):(0,E.s)().isPwa?this.$router.replace(e.route):this.$router.push(e.route)},isParentRouteActive(e){return!this.exact&&this.$route.matched.some((t=>t.name===e.name))},isActive(e){var t;if(null!==(t=e.route.params)&&void 0!==t&&t.category)return this.$route.params.category===e.route.params.category;if(e.route.params&&e.route.params.topic)return this.$route.params.topic===e.route.params.topic;if(e.route.params&&e.route.params.alias)return this.$route.params.alias===e.route.params.alias;if(e.route.query&&e.route.query.target_type)return this.$route.query.target_type?this.$route.query.target_type===e.route.query.target_type:"posts"===e.route.query.target_type;if(e.children&&e.children.length){const t=e.children.map((e=>`${e}_PAGES`)).concat(e.children);return-1!==t.indexOf(this.$route.name)}return this.$route.name===e.route.name||this.$route.name===`${e.route.name}_PAGES`},getCount(e){return e&&0!==Number(e)?(0,f.O)(e):""},scrollTab(){const{scrollArea:e}=this.$refs,t=e.querySelector(".tm-tabs__tab-link_active");if(e.scrollWidth<e.clientWidth||!t)return;const{x:i,right:s}=t.parentElement.getBoundingClientRect(!0);s<e.clientWidth||i<0||this.$refs.scrollArea.scroll(i-16,0)},bem:S.P}};var b=i(83744);const I=(0,b.Z)(A,[["render",m]]),y=I},95687:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252);const n=["innerHTML"];function a(e,t,i,a,o,r){const l=(0,s.up)("router-link"),c=(0,s.up)("TMSeparatedList");return(0,s.wg)(),(0,s.j4)(c,{class:"tag-list","has-show-all":i.hasShowAll,list:r.tagsWithRoutes,title:i.title},{default:(0,s.w5)((({item:e})=>[(0,s.Wm)(l,{class:"tm-tags-list__link",to:e.route},{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:e.titleHtml},null,8,n)])),_:2},1032,["to"])])),_:1},8,["has-show-all","list","title"])}var o=i(50288);const r={name:"TMTagsList",components:{TMSeparatedList:o.Z},props:{tags:{type:Array,required:!0},title:{type:String,required:!0},hasShowAll:{type:Boolean,default:!1}},computed:{tagsWithRoutes(){return this.tags.map((e=>({...e,route:{name:"SEARCH_QUERY_RESULTS",query:{target_type:"posts",order:"relevance",q:`[${e.titleHtml}]`}}})))}}};var l=i(83744);const c=(0,l.Z)(r,[["render",a]]),u=c},69780:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(56612),a=i(58061);const o=["data-test-id","href"],r=["innerHTML"],l=["innerHTML"],c=["innerHTML"];function u(e,t,i,u,d,m){const p=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)((0,s.LL)(i.tag),{class:(0,n.C_)(["tm-title",{[`tm-title_${i.tag}`]:!0}]),lang:i.lang},{default:(0,s.w5)((()=>[i.useLink?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[i.externalLink?((0,s.wg)(),(0,s.iD)("a",(0,s.dG)({key:0,class:"tm-title__link"},i.linkProps,{"data-test-id":i.linkTestId,href:i.to,onClickCapture:t[0]||(t[0]=(0,a.iM)((t=>e.$emit("link-click",t)),["left"])),onMouseupCapture:t[1]||(t[1]=(0,a.iM)((t=>e.$emit("link-click",t)),["middle"]))}),[(0,s._)("span",{innerHTML:i.title},null,8,r)],16,o)):((0,s.wg)(),(0,s.j4)(p,(0,s.dG)({key:1},i.linkProps,{class:"tm-title__link","data-test-id":i.linkTestId,to:i.to,onClickCapture:t[2]||(t[2]=(0,a.iM)((t=>e.$emit("link-click",t)),["left"])),onMouseupCapture:t[3]||(t[3]=(0,a.iM)((t=>e.$emit("link-click",t)),["middle"]))}),{default:(0,s.w5)((()=>[(0,s._)("span",{innerHTML:i.title},null,8,l)])),_:1},16,["data-test-id","to"]))],64)):((0,s.wg)(),(0,s.iD)("span",{key:1,innerHTML:i.title},null,8,c))])),_:1},8,["class","lang"])}var d=i(85556);const m={name:"TMTitle",components:{TMPublicationLink:d.Z},props:{tag:{type:String,default:"h2"},to:{type:[Object,String],default:null},useLink:{type:Boolean,default:!1},title:{type:String,required:!0},linkProps:{type:Object,default:()=>{}},lang:{type:String,default:null},externalLink:{type:Boolean,default:!1},linkTestId:{type:String,default:null}},emits:["link-click"]};var p=i(83744);const _=(0,p.Z)(m,[["render",u]]),h=_},47262:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Ce});var s=i(66252),n=i(56612);const a={class:"tm-user-card__info-container"},o={class:"tm-user-card__header"},r={class:"tm-user-card__header-data"},l={class:"tm-user-card__meta"},c=["innerHTML"],u=["innerHTML"],d=["innerHTML"],m={key:0,class:"tm-user-card__career-profile-links"},p=["href"],_=["href"],h={key:1,class:"tm-user-card__button"},g=["href"];function v(e,t,i,v,T,E){const S=(0,s.up)("TMEntityImage"),f=(0,s.up)("router-link"),A=(0,s.up)("TMKarma"),b=(0,s.up)("TMRating"),I=(0,s.up)("TMCareerIcon"),y=(0,s.up)("TMExpertsIcon"),w=(0,s.up)("TMUserInviteControl"),P=(0,s.up)("TMButtonFollow"),C=(0,s.up)("BlackListButton"),k=(0,s.up)("BlacklistDialog"),L=(0,s.up)("TMSvgImg"),N=(0,s.up)("TMAdministrationLinks"),O=(0,s.up)("RestrictionHint");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-user-card",E.bem("tm-user-card",{variant:i.variant})])},[(0,s._)("div",a,[(0,s._)("div",o,[(0,s._)("div",r,[(0,s.Wm)(f,{class:(0,n.C_)(["tm-user-card__userpic",`tm-user-card__userpic_size-${i.avatarSize}`]),to:E.profileRoute},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{alias:i.user.alias,image:i.user.avatarUrl,type:"user"},null,8,["alias","image"])])),_:1},8,["class","to"]),(0,s._)("div",l,[E.showKarma?((0,s.wg)(),(0,s.j4)(A,{key:0,user:i.user,onChange:E.onKarmaChange,onCloseVotesDialog:t[0]||(t[0]=t=>e.$emit("closeVotesDialog")),onOpenVotesDialog:t[1]||(t[1]=t=>e.$emit("openVotesDialog"))},null,8,["user","onChange"])):(0,s.kq)("",!0),i.user.isReadonly?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(b,{key:1,label:e.msg("GLOBAL_RATING"),score:i.user.rating},null,8,["label","score"]))])])]),(0,s._)("div",{class:(0,n.C_)(["tm-user-card__info",E.bem("tm-user-card__info",{variant:i.variant})])},[(0,s._)("div",{class:(0,n.C_)(["tm-user-card__title",E.bem("tm-user-card__title",{variant:i.variant})])},[i.user.fullname?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,n.C_)(["tm-user-card__name",E.bem("tm-user-card__name",{variant:i.variant})]),innerHTML:i.user.fullname},null,10,c)):(0,s.kq)("",!0),(0,s.Wm)(f,{class:(0,n.C_)(["tm-user-card__nickname",E.bem("tm-user-card__nickname",{variant:i.variant})]),to:E.profileRoute},{default:(0,s.w5)((()=>[(0,s.Uk)(" @"+(0,n.zw)(i.user.alias),1)])),_:1},8,["class","to"]),i.user.isReadonly?((0,s.wg)(),(0,s.iD)("sup",{key:1,class:"tm-user-card__status","data-test-id":"user-read-only",innerHTML:e.msg("READ_ONLY")},null,8,u)):(0,s.kq)("",!0)],2),(0,s._)("p",{class:(0,n.C_)(["tm-user-card__short-info",E.bem("tm-user-card__short-info",{variant:i.variant})]),"data-test-id":"user-card-speciality",innerHTML:E.userSpeciality},null,10,d)],2)]),v.careerProfileLinks&&"article"!==i.variant?((0,s.wg)(),(0,s.iD)("div",m,[v.careerProfileLinks.careerProfileLink?((0,s.wg)(),(0,s.iD)("a",{key:0,class:"tm-user-card__career-profile-link",href:v.careerProfileLinks.careerProfileLink},[(0,s.Wm)(I),(0,s._)("span",null,(0,n.zw)(e.msg("HABR_CAREER")),1)],8,p)):(0,s.kq)("",!0),v.careerProfileLinks.expertProfileLink?((0,s.wg)(),(0,s.iD)("a",{key:1,class:"tm-user-card__career-profile-link",href:v.careerProfileLinks.expertProfileLink},[(0,s.Wm)(y),(0,s._)("span",null,(0,n.zw)(e.msg("HABR_EXPERTS")),1)],8,_)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",{class:(0,n.C_)(["tm-user-card__buttons",E.bem("tm-user-card__buttons",{variant:i.variant})])},[E.showIssueInviteButton?((0,s.wg)(),(0,s.j4)(w,{key:0,class:"tm-user-card__button",user:i.user,onInvited:E.onUserInvited},null,8,["user","onInvited"])):(0,s.kq)("",!0),E.showFollowButton?((0,s.wg)(),(0,s.iD)("div",h,[(0,s.Wm)(P,{"can-subscribe":v.isLoggedIn,class:"tm-user-card__button-follow",subscribed:E.isSubscribed,"use-follow-label":!0,onOnToggle:t[2]||(t[2]=e=>E.toggleFollow(e))},null,8,["can-subscribe","subscribed"])])):(0,s.kq)("",!0),E.isCanIterateWithBlacklist?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[E.isInBlackList?((0,s.wg)(),(0,s.j4)(C,{key:0,class:"tm-user-card__button",disabled:T.isBlacklistButtonDisabled,"is-blacklisted":E.isInBlackList,onClick:E.toggleInBlacklist},null,8,["disabled","is-blacklisted","onClick"])):(0,s.kq)("",!0),"article"===i.variant?((0,s.wg)(),(0,s.j4)(k,{key:1,"is-visible":T.isBlacklistDialogVisible,user:i.user,onAccept:t[3]||(t[3]=e=>v.articlesListStore.setIsInBlacklist(i.user.alias,!0)),onClose:E.hideBlacklistDialog},null,8,["is-visible","user","onClose"])):(0,s.kq)("",!0)],64)):(0,s.kq)("",!0),v.isLoggedIn&&!E.isItMe?((0,s.wg)(),(0,s.j4)(f,{key:3,class:"tm-user-card__button tm-user-card__button_write","data-test-id":"user-card-conversations",to:E.getConversationLink(i.user.alias)},{default:(0,s.w5)((()=>[(0,s.Wm)(L,{id:"mail",class:"tm-user-card__button-icon"})])),_:1},8,["to"])):E.isItMe?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:4,ref:"conversation",class:"tm-user-card__button tm-user-card__button_write","data-test-id":"user-card-conversations",onClick:t[4]||(t[4]=e=>E.toggleHint(e,"message"))},[(0,s.Wm)(L,{id:"mail",class:"tm-user-card__button-icon"})],512)),E.showAuthAsButton?((0,s.wg)(),(0,s.iD)("a",{key:5,class:"tm-user-card__button tm-user-card__button_write",href:E.getApiUrl(`auth_as/${i.user.alias}`,"v2")},[(0,s.Wm)(L,{id:"user-group",class:"tm-user-card__button-icon",title:"Auth as user"})],8,g)):(0,s.kq)("",!0),E.showAdministrationLinks?((0,s.wg)(),(0,s.j4)(N,{key:6,ref:"userMenu",class:"tm-user-card__button",links:E.userLinksItems},null,8,["links"])):(0,s.kq)("",!0)],2),T.isHintVisible?((0,s.wg)(),(0,s.j4)(O,(0,s.dG)({key:1},T.hintProps,{onClose:t[5]||(t[5]=e=>T.isHintVisible=!1)}),null,16)):(0,s.kq)("",!0)],2)}var T=i(67476);function E(e,t,i,a,o,r){const l=(0,s.up)("TMButton");return(0,s.wg)(),(0,s.j4)(l,(0,s.dG)(e.$attrs,{color:r.color,"style-type":"transparent"}),{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(r.text),1)])),_:1},16,["color"])}var S=i(48665);const f={name:"BlackListButton",components:{TMButton:S.Z},props:{isBlacklisted:{type:Boolean,default:!1}},computed:{text(){return this.isBlacklisted?this.msg("REMOVE_FROM_BLACKLIST_BUTTON_TEXT"):this.msg("ADD_TO_BLACKLIST_BUTTON_HEADER")},color(){return this.isBlacklisted?"christi":"fuzzy-wuzzy-brown"}}};var A=i(83744);const b=(0,A.Z)(f,[["render",E]]),I=b,y={class:"blacklist-dialog__body"},w=["innerHTML"],P={class:"blacklist-dialog__buttons"};function C(e,t,i,a,o,r){const l=(0,s.up)("TMCircleLoader"),c=(0,s.up)("TMFormBuilder"),u=(0,s.up)("TMButton"),d=(0,s.up)("TMPopup"),m=(0,s.up)("TMScrollLockTransition");return(0,s.wg)(),(0,s.j4)(m,{name:"transition-fade"},{default:(0,s.w5)((()=>[i.isVisible?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"blacklist-dialog",title:e.msg("ADD_TO_BLACKLIST_BUTTON_HEADER"),onClose:r.close},{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s._)("div",{class:"blacklist-dialog__description",innerHTML:e.msg("ADD_TO_BLACKLIST_CONFIRM")},null,8,w),o.isLoadingNote||!o.isFormMounted?((0,s.wg)(),(0,s.j4)(l,{key:0,"circle-height":32,"circle-width":32,height:32,width:32})):(0,s.kq)("",!0),o.isLoadingNote?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:1,ref:"form",disabled:o.isLoading,fields:r.formSchema,"initial-data":o.formValue,onFormMounted:t[0]||(t[0]=e=>o.isFormMounted=!0),"onUpdate:data":r.updateForm},null,8,["disabled","fields","initial-data","onUpdate:data"])),(0,s._)("div",P,[(0,s.Wm)(u,{class:"blacklist-dialog__button-accept",color:"fuzzy-wuzzy-brown",disabled:o.isLoading||!o.isFormMounted||o.isLoadingNote,"style-type":"transparent",onClick:r.accept},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("BLACKLIST_BLOCK")),1)])),_:1},8,["disabled","onClick"]),(0,s.Wm)(u,{disabled:o.isLoading,"style-type":"transparent",onClick:r.close},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.msg("CONFIRM_CANCEL_BUTTON_LABEL")),1)])),_:1},8,["disabled","onClick"])])])])),_:1},8,["title","onClose"])):(0,s.kq)("",!0)])),_:1})}var k=i(2372),L=i(51165),N=i(61897),O=i(39806),R=i(68970),M=i(66478);const U={name:"BlacklistDialog",components:{TMPopup:N.Z,TMCircleLoader:k.Z,TMFormBuilder:L.Z,TMButton:S.Z,TMScrollLockTransition:O.Z},props:{isVisible:{type:Boolean,default:!1},user:{type:Object,required:!0}},emits:["accept","close"],data(){return{isLoading:!1,isLoadingNote:!1,isFormMounted:!1,formValue:{note:""}}},computed:{formSchema(){return[{className:"tm-textarea",name:"note",type:"BaseTextarea",label:this.msg("PROFILE_WRITE_NOTE_TITLE"),validation:{maxLength:100},description:this.msg("PROFILE_WRITE_NOTE_PLACEHOLDER")}]}},watch:{isVisible(e){e&&!this.isLoadingNote&&this.loadNote()}},async mounted(){await this.loadNote()},methods:{updateUserInStore(e){const{alias:t}=this.user;(0,R.UJ)().setUserInfo(t,e)},async loadNote(){try{this.isLoadingNote=!0;const{text:e}=await(0,M.jS)(this.user.alias);this.formValue={note:e??""},this.updateUserInStore({note:{text:this.formValue.note}})}catch(e){this.$toast.error((null===e||void 0===e?void 0:e.message)??this.msg("ERROR_PAGE_MESSAGE_INTERNAL"))}finally{this.isLoadingNote=!1}},async accept(){try{var e;if(null===(e=this.user)||void 0===e||!e.alias)return;this.isLoading=!0;const{note:t}=this.formValue;await(0,M.bq)(this.user.alias,{note:t}),this.$emit("accept"),this.updateUserInStore({isInBlacklist:!0,note:{text:t}}),this.user.relatedData.isSubscribed=!1,this.isLoading=!1,this.close(),this.$nextTick((()=>{this.$toast.success(this.msg("ADD_TO_BLACKLIST_SUCCESS"))}))}catch(t){this.$toast.error((null===t||void 0===t?void 0:t.message)??this.msg("ERROR_PAGE_MESSAGE_INTERNAL"))}finally{this.isLoading=!1}},close(){this.isLoading||this.$emit("close")},updateForm(e){this.formValue={...e}}}},D=(0,A.Z)(U,[["render",C]]),B=D;var H=i(80165),F=i(30379),V=i(59545),$=i(62931),W=i(23002),G=i(2130),x=i(67122),q=i(35313),Y=i(16424),Z=i(56735),j=i(36134),K=i(96139),z=i(23117),Q=i(71197);const X=(0,T.Q_)("karma",{state:()=>({userReasonsList:null}),actions:{async vote({id:e,value:t,reasons:i}){const s=await(0,M.TH)(e,{value:t,reasons:i??[]});return(0,Q.q)().decrementPostsCharge(),s},async loadUserReasonsList(){if(this.userReasonsList)return;const e=await(0,z.YC)();this.userReasonsList=e.data}}});var J=i(19913),ee=i(87032);const te={class:"karma-text"},ie=["textContent"],se={__name:"karma",props:{user:K.Z},emits:["change","openVotesDialog","closeVotesDialog"],setup(e,{emit:t}){const i=e,a=t,o=(0,W.pm)(),{msg:r}=(0,j.Q)(),l=(0,$.iH)(!1),c=X(),u=(0,Q.q)(),{user:d}=(0,T.Jk)(u),m=(0,s.Fl)((()=>{var e,t;return(null===(e=d.value)||void 0===e?void 0:e.alias)===(null===(t=i.user)||void 0===t?void 0:t.alias)})),p=(0,s.Fl)((()=>{var e,t;return(null===(e=i.user)||void 0===e||null===(t=e.scoreStats)||void 0===t?void 0:t.score)||0})),_=(0,s.Fl)((()=>{var e,t;return(null===(e=i.user)||void 0===e||null===(t=e.scoreStats)||void 0===t?void 0:t.votesCount)||0})),h=(0,s.Fl)((()=>{var e,t;return null===(e=i.user)||void 0===e||null===(t=e.relatedData)||void 0===t?void 0:t.voteMinus})),g=(0,s.Fl)((()=>{var e,t;return null===(e=i.user)||void 0===e||null===(t=e.relatedData)||void 0===t?void 0:t.votePlus})),v=(0,s.Fl)((()=>{var e,t;return(null===(e=i.user.relatedData)||void 0===e||null===(t=e.vote)||void 0===t?void 0:t.value)||0})),E=(0,s.Fl)((()=>{var e,t;return!(null!==(e=g.value)&&void 0!==e&&e.canVote)&&!(null!==(t=g.value)&&void 0!==t&&t.isChargeEnough)})),S=(0,s.Fl)((()=>{var e,t;return!(null!==(e=h.value)&&void 0!==e&&e.canVote)&&!(null!==(t=h.value)&&void 0!==t&&t.isChargeEnough)})),f=(0,s.Fl)((()=>{var e;return!(null!==(e=h.value)&&void 0!==e&&e.canVote)&&!h.value.isKarmaEnough})),A=(0,s.Fl)((()=>{var e,t;return!(null!==(e=g.value)&&void 0!==e&&e.canVote)&&!(null!==(t=g.value)&&void 0!==t&&t.isKarmaEnough)})),b=(0,s.Fl)((()=>{var e,t;return!(null!==(e=h.value)&&void 0!==e&&e.canVote)&&!(null!==(t=h.value)&&void 0!==t&&t.isPublicationLimitEnough)})),I=(0,s.Fl)((()=>E.value||A.value||f.value||S.value||b.value)),y=(0,s.Fl)((()=>{var e,t,s;return!(null===(e=i.user)||void 0===e||!e.relatedData)&&(!m.value&&(!!I.value||(null===(t=i.user)||void 0===t||null===(s=t.relatedData)||void 0===s?void 0:s.canVote)))})),w=(0,$.iH)(!1);function P(){w.value=!1}(0,s.YP)(w,(e=>{a(e?"openVotesDialog":"closeVotesDialog")}));const C=(0,$.iH)(!1);async function k(e,t=null){const s=1===e?"up":"down",n="vote_karma_"+(1===e?"plus":"minus");try{C.value=!0;const o=await c.vote({id:i.user.alias,value:e,reasons:t});(0,J.IZ)(n),t&&(l.value=!0,setTimeout((()=>{l.value=!1,w.value=!1}),3e3));const r={direction:s,karmaData:o};a("change",r),(0,R.UJ)().updateKarmaInfo(i.user.alias,o)}catch(u){let e=null;const t=(0,ee.getErrorCode)(u);"VOTER_NOT_BE_EVIL"===t&&(e={username:d.value.alias});let i=r(`EXTERNAL_${t}`,e);"▇▅▄▅▅▄ ▇▄▅"===i&&u.message&&(i=u.message),o.error(i)}finally{C.value=!1}}const L=(0,$.iH)(null);function O(){A.value?L.value="karmaTooLow":E.value?L.value="chargeTooLow":k(1)}function M(){f.value?L.value="karmaTooLow":b.value?L.value="needPublications":S.value?L.value="chargeTooLow":D()}const U=(0,$.iH)(!1);async function D(){try{await c.loadUserReasonsList(),w.value=!0}catch(e){o.error(e.message)}finally{U.value=!1}}function B(e){k(-1,e)}return(e,t)=>((0,s.wg)(),(0,s.j4)(G.Z,{class:(0,n.C_)(["karma",{"allowed-vote":y.value}]),title:(0,$.SU)(r)("VOTES_COUNT",{count:_.value})},{header:(0,s.w5)((()=>[y.value?((0,s.wg)(),(0,s.j4)(Z.Z,{key:0,ref:"votesLever",appearance:"karma",class:"votes-switcher","is-loading":C.value||U.value,"is-natural":"",score:p.value,"vote-state":v.value,onDownvote:M,onUpvote:O},null,8,["is-loading","score","vote-state"])):((0,s.wg)(),(0,s.j4)(x.Z,{key:1,value:p.value},null,8,["value"])),L.value?((0,s.wg)(),(0,s.j4)(Y.Z,{key:2,hint:L.value,root:e.$refs.votesLever.$el,onClose:t[0]||(t[0]=e=>L.value=null)},null,8,["hint","root"])):(0,s.kq)("",!0)])),footer:(0,s.w5)((()=>[(0,s._)("div",te,(0,n.zw)((0,$.SU)(r)("POINTS_LABEL_KARMA")),1),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#overlays"},[w.value?((0,s.wg)(),(0,s.j4)(N.Z,{key:0,title:(0,$.SU)(r)("KARMA_REASON_DOWNVOTE"),onClose:P},{default:(0,s.w5)((()=>[l.value?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"reason-success",textContent:(0,n.zw)((0,$.SU)(r)("ARTICLE_REASON_SUCCESS"))},null,8,ie)):((0,s.wg)(),(0,s.j4)(q.Z,{key:0,"is-multiple":"","is-vote-loading":C.value,"reasons-list":(0,$.SU)(c).userReasonsList,onDownVote:B},null,8,["is-vote-loading","reasons-list"]))])),_:1},8,["title"])):(0,s.kq)("",!0)]))])),_:1},8,["class","title"]))}},ne=(0,A.Z)(se,[["__scopeId","data-v-280b6385"]]),ae=ne;var oe=i(28855),re=i(6605),le=i(39639),ce=i(91270),ue=i(59896),de=i(89355);const me={__name:"user-invite-control",props:{user:K.Z},emits:["invited"],setup(e,{emit:t}){const i=e,a=t,{msg:o}=(0,j.Q)(),r=(0,Q.q)(),{user:l}=(0,T.Jk)(r),c=(0,s.Fl)((()=>{var e;return(null===(e=l.value)||void 0===e?void 0:e.availableInvitesCount)>0})),u=(0,$.iH)(!1),d=(0,de.F)();(0,s.bv)((async()=>{try{u.value=!0,await d.loadInvitesList()}catch(e){(0,ue.T)(e)}finally{u.value=!1}}));const m=(0,W.pm)();async function p(){if(!c.value)return;const e=window.confirm(o("CONFIRM_INVITE"));if(e)try{await r.issueInviteByUserAlias(i.user.alias),m.success(o("INVITE_HAS_BEEN_SENT")),a("invited")}catch(t){m.error(t.message)}}const _=(0,s.Fl)((()=>u.value?o("CHECK_INVITES"):c.value?"":o("NO_INVITES_AVAILABLE")));return(e,t)=>((0,s.wg)(),(0,s.j4)(ce.Z,{disabled:u.value||!c.value,"is-loading":u.value,"style-size":"medium","style-type":"solid",title:_.value,type:"button",onClick:p},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,$.SU)(o)("GIVE_INVITE_BUTTON")),1)])),_:1},8,["disabled","is-loading","title"]))}},pe=me,_e=pe;var he=i(21805),ge=i(38561),ve=i(58748),Te=i(25109),Ee=i(35275),Se=i(10707);const fe=(0,V.Rd)((()=>i.e(2865).then(i.bind(i,72865))),V.MN),Ae=(0,V.Rd)((()=>i.e(5153).then(i.bind(i,45153))),V.MN),be=(0,V.Rd)((()=>i.e(2328).then(i.bind(i,97259))),V.MN),Ie={en:{EDIT_PROFILE:"Edit profile via CP",GIVE_INVITE:"Сharge an invite",INVITE_HAS_BEEN_SENT:"Invite has been charged",PPG_COMMENTS:"Force to pass PPG",PPG_SMILES:"Force to pass PIS",PPG_COMMENTS_HAS_BEEN_SENT:"User has been sent to PPG",PPG_SMILES_HAS_BEEN_SENT:"User has been sent to PIS",SEE_DRAFTS:"See drafts"},ru:{EDIT_PROFILE:"Редактировать профиль в CP",GIVE_INVITE:"Начислить инвайт",INVITE_HAS_BEEN_SENT:"Инвайт начислен",PPG_COMMENTS:"Заставить пройти ППГ",PPG_SMILES:"Заставить пройти ПИС",PPG_COMMENTS_HAS_BEEN_SENT:"Пользователь отправлен на ППГ",PPG_SMILES_HAS_BEEN_SENT:"Пользователь отправлен на ПИС",SEE_DRAFTS:"Посмотреть черновики"}},ye=-31,we={name:"TMUserCard",components:{BlacklistDialog:B,BlackListButton:I,TMButtonFollow:H.Z,TMEntityImage:F.Z,TMKarma:ae,TMRating:oe.Z,TMSvgImg:le.Z,TMAdministrationLinks:be,TMUserInviteControl:_e,RestrictionHint:re.Z,TMCareerIcon:fe,TMExpertsIcon:Ae},props:{user:K.Z,isDonateButtonVisible:Boolean,inviteButtonVisible:{type:Boolean,default:!0},variant:{type:String,default:"profile",validator:e=>["article","profile","popover"].includes(e)},avatarSize:{type:Number,default:48}},emits:["closeVotesDialog","openVotesDialog","payments","karmachange","change:isSubscribed"],setup(e){const{careerProfileLinks:t,contacts:i,areContactsFetched:s}=(0,ge.L)((()=>e.user)),n=(0,R.UJ)(),a=(0,ve.g)(),o=(0,Q.q)(),{user:r,isLoggedIn:l,isSuperAdmin:c}=(0,T.Jk)(o);return(0,he.w)((()=>{var t;const i=[];return"article"!==e.variant||null!==(t=e.user)&&void 0!==t&&t.scoreStats||i.push(n.loadUserInfo(e.user.alias,!0)),s()||i.push(n.loadProfileInfo(e.user.alias,!0)),Promise.all(i)})),{careerProfileLinks:t,contacts:i,articlesListStore:a,currentUser:r,isLoggedIn:l,isSuperAdmin:c}},data(){return{isHintVisible:!1,hintProps:null,isBlacklistDialogVisible:!1,isBlacklistButtonDisabled:!1,isAdminLinksLoaded:!1}},computed:{showAuthAsButton(){return Ee.v9},showAdministrationLinks(){return this.isSuperAdmin||this.isCanIterateWithBlacklist&&"article"===this.variant&&!this.isInBlackList},showKarma(){var e;return this.isItMe||(null===(e=this.user.scoreStats)||void 0===e?void 0:e.score)>ye},userLinksItems(){if(!this.isSuperAdmin)return[{title:this.msg("ADD_TO_BLACKLIST_BUTTON_HEADER"),onclick:this.toggleInBlacklist}];const{alias:e}=this.user,t=`https://habr.com/${this.langOptions.hl}/cp2/user/${e}/`,i=[{title:Ie[this.langOptions.hl].EDIT_PROFILE,link:t},{title:Ie[this.langOptions.hl].GIVE_INVITE,onclick:this.sendInvite},{title:Ie[this.langOptions.hl].PPG_COMMENTS,onclick:e=>this.setUserPPG(e,"comments")},{title:Ie[this.langOptions.hl].PPG_SMILES,onclick:e=>this.setUserPPG(e,"smiles")},{title:Ie[this.langOptions.hl].SEE_DRAFTS,onclick:e=>this.goToUserDrafts(e)}];return"article"===this.variant&&this.isCanIterateWithBlacklist&&!this.isInBlackList&&i.push({title:this.msg("ADD_TO_BLACKLIST_BUTTON_HEADER"),onclick:this.toggleInBlacklist}),i},userSpeciality(){return this.user.speciality||this.msg("USER")},isSubscribed(){return this.user.relatedData&&this.user.relatedData.isSubscribed},isItMe(){return this.isLoggedIn&&this.user.alias===this.currentUser.alias},showIssueInviteButton(){const{isLoggedIn:e,isItMe:t}=this;return this.inviteButtonVisible&&e&&!t&&this.user.canBeInvited},showFollowButton(){return!this.isItMe&&!this.user.isReadonly&&!this.isInBlackList},profileRoute(){return{name:"USER_PROFILE",params:{login:this.user.alias}}},isCanIterateWithBlacklist(){return!!["article","profile"].includes(this.variant)&&(this.isLoggedIn&&!this.isItMe&&!this.user.isReadonly)},isInBlackList(){var e;return!(null===(e=this.user)||void 0===e||!e.isInBlacklist)}},methods:{bem:Te.P,getApiUrl:Se.k,onUserInvited(){(0,R.UJ)().loadUserInfo(this.user.alias,!0)},onKarmaChange(e){this.$emit("karmachange",e)},getConversationLink(e){return{name:"CONVERSATION_MESSAGES",params:{login:e.toLowerCase()}}},goToUserDrafts(e){e.preventDefault(),this.$router.push({name:"ARTICLES_DRAFTS_LIST_BY_USER",params:{login:this.user.alias}})},sendInvite(e){e.preventDefault(),(0,M.dZ)(this.user.alias).then((()=>{this.$toast.success(Ie[this.langOptions.hl].INVITE_HAS_BEEN_SENT)})).catch((e=>{this.$toast.error(e.message)}))},setUserPPG(e,t){e.preventDefault(),(0,M.S6)(this.user.alias,t).then((()=>{const e=`PPG_${t.toUpperCase()}_HAS_BEEN_SENT`;this.$toast.success(Ie[this.langOptions.hl][e])})).catch((e=>{this.$toast.error(e.message)}))},toggleFollow(e){if(!this.isLoggedIn)return void this.toggleHint(e,"u_follow");const{isSubscribed:t}=this.user.relatedData;(0,R.UJ)().toggleSubscribeStatus(this.user.alias,t).then((()=>{this.$emit("change:isSubscribed",this.user.relatedData.isSubscribed)})).catch((e=>{this.$toast.error(e.message)}))},async removeFromBlacklist(){try{const{alias:e}=this.user;this.isBlacklistButtonDisabled=!0,await(0,M.hf)(this.user.alias),(0,R.UJ)().setUserInfo(e,{isInBlacklist:!1}),this.articlesListStore.setIsInBlacklist(this.user.alias,!1),this.$toast.success(this.msg("REMOVE_FROM_BLACKLIST_SUCCESS"))}catch(e){this.$toast.error((null===e||void 0===e?void 0:e.message)??this.msg("ERROR_PAGE_MESSAGE_INTERNAL"))}finally{this.isBlacklistButtonDisabled=!1}},async toggleInBlacklist(){this.isInBlackList?await this.removeFromBlacklist():(this.$refs.userMenu.close(),this.isBlacklistDialogVisible=!0)},hideBlacklistDialog(){this.isBlacklistDialogVisible=!1},toggleHint(e,t){const i="message"===t?this.$refs.conversation:e.target;if(!this.hintProps||this.hintProps.target!==i)return this.isHintVisible=!1,void this.$nextTick((()=>{this.hintProps={target:i,messageKey:`PROFILE_${t.toUpperCase()}_HINT`,eventLabel:`hint_reg_${t}_go`,placement:"bottom-start",offset:[-34,8]},this.isHintVisible=!0,(0,J.IZ)(`hint_reg_${t}_open`)}));this.isHintVisible=!this.isHintVisible,this.isHintVisible&&(0,J.IZ)(`hint_reg_${t}_open`)}}},Pe=(0,A.Z)(we,[["render",v]]),Ce=Pe},65904:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(56612);const a={class:"tm-user-info"},o={key:0,class:"tm-user-info__realauthor"};function r(e,t,i,r,l,c){const u=(0,s.up)("TMEntityImage"),d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("span",a,[(0,s.Wm)(d,{class:"tm-user-info__userpic","data-test-id":"user-info-pic",title:e.author.alias||e.author.login,to:e.authorRoute,onMouseenter:t[0]||(t[0]=t=>e.$emit("mouseenter",t)),onMouseleave:t[1]||(t[1]=t=>e.$emit("mouseleave",t))},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{alias:e.author.alias||e.author.login,image:e.getAuthorAvatar,size:e.avatarSize,type:"user"},null,8,["alias","image","size"])])),_:1},8,["title","to"]),(0,s._)("span",{class:(0,n.C_)(e.bem("tm-user-info__user",{appearance:e.loginAppearance})),"data-test-id":"user-info-description"},[(0,s.Wm)(d,{class:"tm-user-info__username",to:e.authorRoute,onMouseenter:t[2]||(t[2]=t=>e.$emit("mouseenter",t)),onMouseleave:t[3]||(t[3]=t=>e.$emit("mouseleave",t))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.author.alias||e.author.login)+" ",1),e.realAuthor?((0,s.wg)(),(0,s.iD)("span",o," ("+(0,n.zw)(e.realAuthor.alias)+") ",1)):(0,s.kq)("",!0)])),_:1},8,["to"]),(0,s.WI)(e.$slots,"default")],2)])}var l=i(30379),c=i(25109),u=i(99691),d=i(581);const m={name:"TMUserInfo",components:{TMEntityImage:l.Z},props:{author:{required:!0,type:Object},avatar:{type:String,default:null},avatarSize:{type:Number,default:24},realAuthor:{required:!1,type:Object,default:null},loginAppearance:{type:String,default:"default",validator:(0,u.HZ)(["default","post"])},resizeImage:{type:Boolean,default:!0}},emits:["mouseenter","mouseleave"],computed:{getAuthorAvatar(){const e=this.author.avatarUrl||this.avatar;return this.resizeImage?(0,d.getResizedSrc)(e,2*this.avatarSize):e},realAuthorRoute(){return{name:"USER_PROFILE",params:{login:this.realAuthor.alias||this.realAuthor.login,hl:this.$route.params.hl}}},authorRoute(){return{name:"USER_PROFILE",params:{login:this.author.alias||this.author.login,hl:this.$route.params.hl}}}},methods:{bem:c.P}};var p=i(83744);const _=(0,p.Z)(m,[["render",r]]),h=_},15564:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(66252),n=i(56612),a=i(62931),o=i(39639),r=i(36134),l=i(25109);const c={class:"tm-user-notice__container"},u=["innerHTML"],d=["innerHTML"],m={key:0,class:"tm-user-notice__close"},p=Object.assign({name:"TMUserNotice"},{__name:"user-notice",props:{notice:{type:Object,required:!0},bordered:Boolean,colorless:Boolean,slim:Boolean,noMargins:Boolean,iconVariant:{type:[String,null],default:null}},setup(e){const t={error:"user-notice-error",warning:"user-notice-warning",info:"user-notice-info",success:"user-notice-success"},i=e,p=(0,a.iH)(!0);function _(){p.value=!1}const{msg:h}=(0,r.Q)(),g=(0,s.Fl)((()=>i.notice.message||h(`USER_NOTICE_MESSAGE_${i.notice.type}`,{host:"https://habr.com"}))),v=(0,s.Fl)((()=>i.notice.title||null)),T=(0,s.Fl)((()=>t[i.notice.level]));return(t,i)=>p.value?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,n.C_)(["tm-user-notice",(0,a.SU)(l.P)("tm-user-notice",{variant:e.notice.level,bordered:e.bordered,slim:e.slim,colorless:e.colorless,noMargins:e.noMargins})])},[(0,s._)("div",{class:(0,n.C_)(["tm-user-notice__icon-wrapper",[e.iconVariant]])},[(0,s.Wm)(o.Z,{id:T.value,class:"tm-user-notice__icon",size:"24"},null,8,["id"])],2),(0,s._)("div",c,[v.value?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tm-user-notice__title",innerHTML:v.value},null,8,u)):(0,s.kq)("",!0),t.$slots.default?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",{key:1,class:"tm-user-notice__message",innerHTML:g.value},null,8,d)),(0,s.WI)(t.$slots,"default")]),e.notice.isPermanent?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("button",{class:"tm-user-notice__close-button",onClick:_},[(0,s.Wm)(o.Z,{id:"close-rounded",class:"tm-user-notice__close-icon",size:"24"})])]))],2)):(0,s.kq)("",!0)}}),_=p,h=_},61345:(e,t,i)=>{"use strict";i.d(t,{Z:()=>E});var s=i(66252),n=i(56612);const a=["href"],o={class:"tm-vacancies-block__vacancies-count"},r=["href"];function l(e,t,i,l,c,u){const d=(0,s.up)("TMBlock");return l.seoLandings&&l.seoLandings.length?((0,s.wg)(),(0,s.j4)(d,{key:0,spacing:i.spacing,title:e.msg("VACANCIES_BLOCK_TITLE")},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.seoLandings,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.itemUrl,class:"tm-vacancies-block__item"},[(0,s._)("a",{class:"tm-vacancies-block__vacancy-title",href:t.itemUrl,target:"_blank"},(0,n.zw)(t.title),9,a),(0,s._)("div",o,(0,n.zw)(e.msg("VACANCIES_COUNT",{count:t.vacanciesCount})),1)])))),128))])),footer:(0,s.w5)((()=>[(0,s._)("a",{class:"tm-block-extralink",href:c.careerUrl},(0,n.zw)(e.msg("VACANCIES_BLOCK_ALL_LINK")),9,r)])),_:1},8,["spacing","title"])):(0,s.kq)("",!0)}var c=i(67476),u=i(70352),d=i(21805),m=i(86409),p=i(10707);function _(e){return(0,m.Hm)((0,p.k)("seo-landings-hubs"),e)}const h=(0,c.Q_)("career",{state:()=>({seoLandings:[],hubs:""}),actions:{async loadSeoLandings(e){if(this.hubs===e)return;this.seoLandings=[];const t=await _(e);this.seoLandings=t,this.hubs=e}}}),g={name:"TMVacanciesBlock",components:{TMBlock:u.Z},props:{hubs:{type:Array,required:!0},spacing:{type:String,default:"around"}},setup(e){const t=h(),{seoLandings:i}=(0,c.Jk)(t),s=(0,d.w)((()=>t.loadSeoLandings(e.hubs.join(",")).catch((()=>null))));return{...s,seoLandings:i}},data(){return{careerUrl:"https://career.habr.com/catalog"}}};var v=i(83744);const T=(0,v.Z)(g,[["render",l]]),E=T},16424:(e,t,i)=>{"use strict";i.d(t,{Z:()=>S});var s=i(66252),n=i(62931),a=i(56612),o=i(96973),r=i(81864),l=i(36134),c=i(22201),u=i(19913);function d(e){const t=(0,c.yj)(),{langOptions:i}=(0,l.Q)(),n=(0,s.Fl)((()=>{const e=t.path;return`https://habr.com/kek/v1/auth/habrahabr-register/?back=${e}&hl=${i.value.hl}`}));function a(){(0,u.IZ)(e)}return{registrationLink:n,trackRegistrationClick:a}}const m={key:0},p=["href"],_=["innerHTML"],h=["innerHTML"],g=["innerHTML"],v=["innerHTML"],T=Object.assign({name:"TMVoteHintPopup"},{__name:"vote-hint-popup",props:{root:{type:null,required:!0},hint:{type:String,required:!0,validator(e){const t=["registration","chargeTooLow","isMineArticle","karmaTooLow","needPublications"];return t.includes(e)}}},emits:["close"],setup(e){const{msg:t}=(0,l.Q)(),{registrationLink:i,trackRegistrationClick:c}=d("hint_reg_raiting");return(l,u)=>((0,s.wg)(),(0,s.j4)(r.Z,{class:"vote-hint-popup",offset:[-4,-4],root:e.root,variant:"hub",onClose:u[1]||(u[1]=e=>l.$emit("close"))},{default:(0,s.w5)((()=>["registration"===e.hint?((0,s.wg)(),(0,s.iD)("div",m,[(0,s.Wm)(o.Z,{message:(0,n.SU)(t)("ARTICLE_REGISTRATION_HINT")},{link:(0,s.w5)((()=>[(0,s._)("a",{href:(0,n.SU)(i),onClickCapture:u[0]||(u[0]=(...e)=>(0,n.SU)(c)&&(0,n.SU)(c)(...e))},(0,a.zw)((0,n.SU)(t)("ARTICLE_REGISTRATION_HINT_LINK")),41,p)])),_:1},8,["message"])])):(0,s.kq)("",!0),"chargeTooLow"===e.hint?((0,s.wg)(),(0,s.iD)("div",{key:1,innerHTML:(0,n.SU)(t)("CHARGE_TOO_LOW_FOR_ACTION")},null,8,_)):(0,s.kq)("",!0),"isMineArticle"===e.hint?((0,s.wg)(),(0,s.iD)("div",{key:2,innerHTML:(0,n.SU)(t)("ARTICLE_YOUR_OWN_HINT")},null,8,h)):(0,s.kq)("",!0),"karmaTooLow"===e.hint?((0,s.wg)(),(0,s.iD)("div",{key:3,innerHTML:(0,n.SU)(t)("KARMA_TOO_LOW_FOR_ACTION")},null,8,g)):(0,s.kq)("",!0),"needPublications"===e.hint?((0,s.wg)(),(0,s.iD)("div",{key:4,innerHTML:(0,n.SU)(t)("VOTES_NEED_PUBLICATIONS")},null,8,v)):(0,s.kq)("",!0)])),_:1},8,["root"]))}}),E=T,S=E},56735:(e,t,i)=>{"use strict";i.d(t,{Z:()=>E});var s=i(66252),n=i(56612);const a=["title"],o=["disabled","title"],r={key:1},l=["disabled","title"];function c(e,t,i,c,u,d){const m=(0,s.up)("TMSvgImg"),p=(0,s.up)("TMCircleLoader");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["tm-votes-lever",d.bem("tm-votes-lever",{appearance:i.appearance})]),title:d.title},[i.canVotePlus||d.isInComment?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"tm-votes-lever__button","data-test-id":"votes-lever-upvote-button",disabled:i.voteState>0||i.isLoading,title:e.msg("DATA_ICONS_LIKE"),type:"button",onClick:t[0]||(t[0]=(...e)=>d.upvote&&d.upvote(...e))},[(0,s.Wm)(m,{id:"counter-vote",class:(0,n.C_)(["tm-votes-lever__icon",{"tm-votes-lever__icon_upvote":i.voteState>0}]),size:"24",title:e.msg("DATA_ICONS_LIKE")},null,8,["class","title"])],8,o)):(0,s.kq)("",!0),(0,s._)("div",{class:(0,n.C_)(["tm-votes-lever__score",d.bem("tm-votes-lever__score",{appearance:i.appearance,"no-margin":i.score>99})]),onClick:t[2]||(t[2]=t=>e.$emit("scoreClick"))},[i.isLoading?((0,s.wg)(),(0,s.j4)(p,{key:0,"circle-height":12,"circle-width":12,height:18,width:12})):(0,s.WI)(e.$slots,"default",{key:1},(()=>[d.isInComment?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[d.isLoggedIn?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,n.C_)(["tm-votes-lever__score-counter",d.bem("tm-votes-lever__score-counter",d.counterModifiers)]),"data-test-id":"votes-score-counter"},(0,n.zw)(i.formatted?d.formatNumber(i.score):i.score),3)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:"tm-votes-lever__score-fallback",onClick:t[1]||(t[1]=(...e)=>d.sendGaAndFireEvent&&d.sendGaAndFireEvent(...e))},[(0,s.Wm)(m,{id:"votes-fallback",height:18,title:e.msg("ICON_VOTES_FALLBACK"),width:32},null,8,["title"])]))],64)):((0,s.wg)(),(0,s.iD)("span",r,[(0,s._)("span",{class:(0,n.C_)(["tm-votes-lever__score-counter",d.bem("tm-votes-lever__score-counter",d.counterModifiers)]),"data-test-id":"votes-score-counter"},(0,n.zw)(i.formatted?d.formatNumber(i.score):i.score),3)]))]))],2),i.canVoteMinus||d.isInComment?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"tm-votes-lever__button","data-test-id":"votes-lever-downvote-button",disabled:i.voteState<0||i.isLoading,title:e.msg("DATA_ICONS_DISLIKE"),type:"button",onClick:t[3]||(t[3]=(...e)=>d.downvote&&d.downvote(...e))},[(0,s.Wm)(m,{id:"counter-vote",class:(0,n.C_)(["tm-votes-lever__icon tm-votes-lever__icon_arrow-down",{"tm-votes-lever__icon_downvote":i.voteState<0}]),size:"24",title:e.msg("DATA_ICONS_DISLIKE")},null,8,["class","title"])],8,l)):(0,s.kq)("",!0)],10,a)}var u=i(2372),d=i(39639),m=i(71197),p=i(25109),_=i(87934),h=i(19913);const g={name:"TMVotesLever",components:{TMCircleLoader:u.Z,TMSvgImg:d.Z},props:{score:{required:!0,type:Number},voteState:{type:Number,required:!1,default:null},votesCount:{type:Number,default:0},votesCountPlus:{type:Number,default:null},votesCountMinus:{type:Number,default:null},noVotesTitle:{type:String,default:null},appearance:{type:String,required:!0,validator(e){return["article","karma","comment","rating","grade"].includes(e)}},isLoading:{type:Boolean,default:!1},isPlusified:{type:Boolean,default:!1},canVoteMinus:{type:Boolean,default:!0},canVotePlus:{type:Boolean,default:!0},formatted:{type:Boolean,default:!0}},emits:["scoreClick","upvote","downvote","open-comment-hint","openCommentHint"],computed:{isLoggedIn(){return(0,m.q)().isLoggedIn},title(){return!this.isLoggedIn&&this.isInComment?"":this.votesCount>0?this.msg("ARTICLE_REASON_TOTAL",{total:this.votesCount,positive:"number"===typeof this.votesCountPlus?this.votesCountPlus:(this.votesCount+this.score)/2,negative:"number"===typeof this.votesCountMinus?this.votesCountMinus:(this.votesCount-this.score)/2}):this.noVotesTitle},counterModifiers(){return["rating","grade"].includes(this.appearance)?{rating:"rating"===this.appearance,grade:"grade"===this.appearance}:{negative:this.score<0,positive:this.score>0}},isInComment(){return"comment"===this.appearance}},methods:{bem:p.P,sendGaAndFireEvent(e){(0,h.IZ)("click_hidden_comment"),this.$emit("openCommentHint",e.currentTarget)},upvote(e){this.$emit("upvote",e.target),e.target.blur()},downvote(e){this.$emit("downvote",e.target),e.target.blur()},formatNumber(e){return this.isPlusified?(0,_.j)(e):(0,_.O)(e)}}};var v=i(83744);const T=(0,v.Z)(g,[["render",c]]),E=T},22107:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var s=i(66252),n=i(56612);const a={class:"tm-votes-meter"},o=["title","textContent"];function r(e,t,i,r,l,c){const u=(0,s.up)("TMSvgImg");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(u,{id:c.iconId,class:(0,n.C_)(["tm-votes-meter__icon",c.iconClassName]),size:"24",title:c.iconTitle},null,8,["id","class","title"]),(0,s._)("span",{class:(0,n.C_)(["tm-votes-meter__value",c.valueClassName]),"data-test-id":"votes-meter-value",title:c.title,textContent:(0,n.zw)(c.scoreFormatted)},null,10,o)])}var l=i(39639),c=i(25109),u=i(87934);const d={name:"TMVotesMeter",components:{TMSvgImg:l.Z},props:{score:{required:!0,type:Number},noVotesTitle:{type:String,default:null},voteState:{required:!0,type:Number},votesCount:{type:Number,default:0},votesCountPlus:{type:Number,default:null},votesCountMinus:{type:Number,default:null},appearance:{type:String,required:!0,validator(e){return["article","karma","comment"].includes(e)}}},computed:{title(){return this.votesCount>0?this.msg("ARTICLE_REASON_TOTAL",{total:this.votesCount,positive:"number"===typeof this.votesCountPlus?this.votesCountPlus:(this.votesCount+this.score)/2,negative:"number"===typeof this.votesCountMinus?this.votesCountMinus:(this.votesCount-this.score)/2}):this.noVotesTitle},iconTitle(){return this.voteState>0?this.msg("DATA_ICONS_VOTE_UP"):this.voteState<0?this.msg("DATA_ICONS_VOTE_DOWN"):this.title},iconClassName(){return this.bem("tm-votes-meter__icon",{positive:this.voteState>0,negative:this.voteState<0,appearance:this.appearance})},valueClassName(){return this.bem("tm-votes-meter__value",{positive:this.score>0,negative:this.score<0,appearance:this.appearance,rating:0===this.voteState})},iconId(){return 0===this.voteState?"counter-rating":"counter-vote"},scoreFormatted(){return(0,u.j)(this.score)}},methods:{bem:c.P}};var m=i(83744);const p=(0,m.Z)(d,[["render",r]]),_=p},10846:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var s=i(66252);const n=["srcset"],a=["src"],o=Object.assign({inheritAttrs:!1},{__name:"base-webp",props:{src:{type:String,required:!0,validator:e=>e.includes(".webp")},fallbackExtension:{type:String,default:"png"}},setup(e){const t=e,i=(0,s.Fl)((()=>t.src.replace(".webp",t.fallbackExtension)));return(t,o)=>((0,s.wg)(),(0,s.iD)("picture",null,[(0,s._)("source",{srcset:e.src,type:"image/webp"},null,8,n),(0,s._)("img",(0,s.dG)({src:i.value},t.$attrs),null,16,a)]))}}),r=o,l=r},34831:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var s=i(66252),n=i(58061);const a={class:"tm-widget-applications__card"},o={class:"tm-widget-applications__aside"},r=["src"],l={class:"tm-widget-applications__body"},c=["innerHTML"],u=["innerHTML"],d={class:"tm-widget-applications__card-links"},m=["href","onClick","onMouseup","innerHTML"];function p(e,t,i,p,_,h){return(0,s.wg)(),(0,s.iD)("article",a,[(0,s._)("aside",o,[(0,s._)("img",{alt:"",class:"tm-widget-applications__image",src:i.application.imageUrl},null,8,r)]),(0,s._)("div",l,[(0,s._)("h3",{class:"tm-widget-applications__card-title",innerHTML:i.application.title},null,8,c),(0,s._)("p",{class:"tm-widget-applications__card-description",innerHTML:i.application.descriptionHtml},null,8,u),(0,s._)("ul",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.application.links,(e=>((0,s.wg)(),(0,s.iD)("li",{key:`${e.title}-${e.linkUrl}`,class:"tm-widget-applications__card-link-item"},[(0,s._)("a",{class:"tm-widget-applications__card-link",href:e.linkUrl,rel:"nofollow noreferrer",target:"_blank",onClick:(0,n.iM)((t=>h.logBrandingClick(e.uuid)),["left"]),onMouseup:(0,n.iM)((t=>h.logBrandingClick(e.uuid)),["middle"]),innerHTML:e.title},null,40,m)])))),128))])])])}const _={name:"TMWidgetApplication",props:{application:{type:Object,required:!0},widgetUuid:{type:String,default:null}},emits:["click"],methods:{logBrandingClick(e){this.widgetUuid&&this.$emit("click",{blockUuid:this.widgetUuid,linkUuid:e})}}};var h=i(83744);const g=(0,h.Z)(_,[["render",p]]),v=g},78041:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(66252),n=i(62931),a=i(70352),o=i(34831),r=i(10390);const l={class:"tm-widget-applications__list"},c=Object.assign({name:"TMWidgetApplications"},{__name:"widget-applications",props:{widgetData:{type:Object,required:!0},widgetUuid:{type:String,default:null},companyAlias:{type:String,required:!0}},emits:["click"],setup(e){const t=e,i=(0,s.Fl)((()=>t.widgetData.applications.reduce(((e,t)=>e.concat(t.links.map((({uuid:e})=>e)))),[]))),c=(0,s.Fl)((()=>({blockUuid:t.widgetUuid,linkUuids:(0,n.Tn)(i.value),company:t.companyAlias}))),u=(0,r.s)(c);return(t,i)=>((0,s.wg)(),(0,s.j4)(a.Z,{ref_key:"container",ref:u,title:t.msg("WIDGET_APPLICATIONS")},{default:(0,s.w5)((()=>[(0,s._)("ul",l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.widgetData.applications,(n=>((0,s.wg)(),(0,s.iD)("li",{key:n.title,class:"tm-widget-applications__item"},[(0,s.Wm)(o.Z,{application:n,"widget-uuid":e.widgetUuid,onClick:i[0]||(i[0]=e=>t.$emit("click",e))},null,8,["application","widget-uuid"])])))),128))])])),_:1},8,["title"]))}}),u=c,d=u},34836:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(58061),a=i(56612);const o={ref:"container",class:"tm-widget-banner-content"},r=["src"],l=["innerHTML"];function c(e,t,i,c,u,d){return(0,s.wg)(),(0,s.iD)("div",o,[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.widgetData.imageLinkUrl?"a":"span"),{class:"tm-widget-banner-content__image-wrapper",href:i.widgetData.imageLinkUrl,onClick:(0,n.iM)(d.logBrandingClick,["left"]),onMouseup:(0,n.iM)(d.logBrandingClick,["middle"])},{default:(0,s.w5)((()=>[(0,s._)("img",{alt:"",class:(0,a.C_)(["tm-widget-banner-content__image",d.imageClasses]),src:i.widgetData.imageUrl,onLoad:t[0]||(t[0]=e=>c.imageLoaded=!0)},null,42,r)])),_:1},40,["href","onClick","onMouseup"])),i.widgetData.textHtml?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,a.C_)(["tm-widget-banner-content__message",d.messageClasses]),innerHTML:i.widgetData.textHtml},null,10,l)):(0,s.kq)("",!0)],512)}var u=i(62931),d=i(10390);const m={name:"TMWidgetBannerContent",props:{widgetData:{type:Object,required:!0},widgetUuid:{type:String,default:null},companyAlias:{type:String,required:!0}},emits:["click"],setup(e){const t=(0,u.iH)(!1),i=(0,s.Fl)((()=>t.value&&{blockUuid:e.widgetUuid,company:e.companyAlias})),n=(0,d.s)(i);return{imageLoaded:t,container:n}},computed:{messageClasses(){const{textAlign:e}=this.widgetData;return e?`tm-widget-banner-content__message_align-${e}`:null},imageClasses(){const{textAlign:e}=this.widgetData;return e?`tm-widget-banner-content__image_align-${e}`:null}},methods:{logBrandingClick(){this.widgetData.imageLinkUrl&&this.$emit("click",{blockUuid:this.widgetUuid})}}};var p=i(83744);const _=(0,p.Z)(m,[["render",c]]),h=_},92003:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("TMWidgetBannerContent"),l=(0,s.up)("TMBlock");return(0,s.wg)(),(0,s.j4)(l,{"header-variant":"borderless",title:e.msg("WIDGET_BANNER")},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{"company-alias":i.companyAlias,"widget-data":i.widgetData,"widget-uuid":i.widgetUuid,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},null,8,["company-alias","widget-data","widget-uuid"])])),_:1},8,["title"])}var a=i(70352),o=i(34836);const r={name:"TMWidgetBanner",components:{TMBlock:a.Z,TMWidgetBannerContent:o.Z},props:{widgetData:{type:Object,required:!0},widgetUuid:{type:String,required:!0},companyAlias:{type:String,required:!0}},emits:["click"]};var l=i(83744);const c=(0,l.Z)(r,[["render",n]]),u=c},17658:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(58061),a=i(56612);const o={class:"tm-widget-links__list"},r=["href","title","onClick","onMouseup","innerHTML"],l=["textContent"];function c(e,t,i,c,u,d){const m=(0,s.up)("TMBlock");return(0,s.wg)(),(0,s.j4)(m,{ref:"container",title:e.msg("WIDGET_LINKS")},{default:(0,s.w5)((()=>[(0,s._)("ul",o,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.widgetData.links,(e=>((0,s.wg)(),(0,s.iD)("li",{key:`${e.title}-${e.linkUrl}`,class:"tm-widget-links__item"},[(0,s._)("a",{class:"tm-widget-links__link",href:e.linkUrl,rel:"nofollow noreferrer",target:"_blank",title:e.title,onClick:(0,n.iM)((t=>d.logBrandingClick(e)),["left"]),onMouseup:(0,n.iM)((t=>d.logBrandingClick(e)),["middle"]),innerHTML:e.title},null,40,r),(0,s._)("small",{class:"tm-widget-links__host",textContent:(0,a.zw)(e.linkHost)},null,8,l)])))),128))])])),_:1},8,["title"])}var u=i(70352),d=i(10390);const m={name:"TMWidgetLinks",components:{TMBlock:u.Z},props:{widgetData:{type:Object,required:!0},widgetUuid:{type:String,default:null},companyAlias:{type:String,required:!0}},emits:["click"],setup(e){const t=(0,s.Fl)((()=>({blockUuid:e.widgetUuid,company:e.companyAlias,linkUuids:e.widgetData.links.map((e=>e.uuid))}))),i=(0,d.s)(t);return{container:i}},methods:{logBrandingClick(e){this.widgetUuid&&this.$emit("click",{blockUuid:this.widgetUuid,linkUuid:e.uuid})}}};var p=i(83744);const _=(0,p.Z)(m,[["render",c]]),h=_},56017:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(66252),n=i(58061);const a={class:"tm-widget-news__list"},o=["href","innerHTML"],r={class:"tm-widget-news__date"};function l(e,t,i,l,c,u){const d=(0,s.up)("TMDatetime"),m=(0,s.up)("TMBlock");return(0,s.wg)(),(0,s.j4)(m,{ref:"container",level:"2",tag:"aside",title:e.msg("WIDGET_NEWS")},{default:(0,s.w5)((()=>[(0,s._)("ul",a,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.news,(e=>((0,s.wg)(),(0,s.iD)("li",{key:`${e.title}-${e.linkUrl}`,class:"tm-widget-news__item"},[(0,s._)("a",{class:"tm-widget-news__link",href:e.linkUrl,rel:"nofollow noreferrer",target:"_blank",onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>u.logBrandingClick&&u.logBrandingClick(...e)),["left"])),onMouseup:t[1]||(t[1]=(0,n.iM)(((...e)=>u.logBrandingClick&&u.logBrandingClick(...e)),["middle"])),innerHTML:e.title},null,40,o),(0,s._)("small",r,[(0,s.Wm)(d,{date:e.date},null,8,["date"])])])))),128))])])),_:1},8,["title"])}var c=i(70352),u=i(20666),d=i(10390);const m={name:"TMWidgetNews",components:{TMDatetime:u.Z,TMBlock:c.Z},props:{widgetData:{type:Object,required:!0},widgetUuid:{type:String,default:null},companyAlias:{type:String,required:!0}},emits:["click"],setup(e){const t=(0,s.Fl)((()=>({blockUuid:e.widgetUuid,company:e.companyAlias}))),i=(0,d.s)(t);return{container:i}},computed:{news(){return this.widgetData.news.map((e=>({...e,date:new Date(e.date)})))}},methods:{logBrandingClick(){this.widgetUuid&&this.$emit("click",{blockUuid:this.widgetUuid})}}};var p=i(83744);const _=(0,p.Z)(m,[["render",l]]),h=_},39285:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var s=i(66252);const n=["id"];function a(e,t,i,a,o,r){const l=(0,s.up)("TMBlock");return(0,s.wg)(),(0,s.j4)(l,{title:e.msg("WIDGET_VK")},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)("script"),{async:"",src:"https://vk.com/js/api/openapi.js?63",type:"application/javascript",onLoad:r.onLoad},null,40,["onLoad"])),(0,s._)("div",{id:o.elementId,ref:"container"},null,8,n)])),_:1},8,["title"])}var o=i(62931),r=i(70352),l=i(10390);const c={name:"TMWidgetVK",components:{TMBlock:r.Z},props:{widgetData:{type:Object,required:!0},widgetUuid:{type:String,default:null},type:{type:String,required:!0},companyAlias:{type:String,required:!0}},emits:["click"],setup(e){const t=(0,o.iH)(!1),i=(0,s.Fl)((()=>t.value&&{blockUuid:e.widgetUuid,company:e.companyAlias})),n=(0,l.s)(i);return{widgetLoaded:t,container:n}},data(){return{elementId:`widget-social-${Math.random()}`}},methods:{onLoad(){if(window.VK&&window.VK.Widgets&&window.VK.Widgets.Group){window.vkw=window.VK.Widgets.Group(this.elementId,{mode:0,width:"260",height:"300",color1:"var(--romance)",color2:"var(--mine-shaft)",color3:"var(--horizon)"},this.widgetData.id);const e=new MutationObserver((([t])=>{e.disconnect(),this.widgetLoaded=t.target.children.length>0;const i=()=>{var e;"IFRAME"===(null===(e=document.activeElement)||void 0===e?void 0:e.tagName)&&(this.logBrandingClick(),setTimeout((()=>{document.activeElement.blur()})))};t.target.addEventListener("mouseenter",(()=>{window.focus(),window.addEventListener("blur",i),t.target.addEventListener("mouseleave",(()=>{window.removeEventListener("blur",i)}))}))}));this.$refs.container&&e.observe(this.$refs.container,{childList:!0})}},logBrandingClick(){this.$emit("click",{uuid:this.uuid,blockUuid:this.widgetUuid})}}};var u=i(83744);const d=(0,u.Z)(c,[["render",a]]),m=d},78052:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(66252),n=i(62931),a=i(53591),o=i(59545);const r=(0,s.aZ)({name:"TMWysiwygEditor",inheritAttrs:!1,__name:"wysiwyg-editor",emits:["update","update:data","update:error","loading","typograph-applied","change-media-loading","ready","editor-mounted"],setup(e,{expose:t,emit:r}){const l=(0,o.Rd)((()=>i.e(5828).then(i.bind(i,85828))),o.b2),c=(0,s.l1)(),u=r,d=(0,n.iH)(null),m=["awaitPendingOperations"],p=m.reduce(((e,t)=>(e[t]=(...e)=>d.value[t](...e),e)),{});return t(p),(e,t)=>((0,s.wg)(),(0,s.j4)(a.Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(l),(0,s.dG)({ref_key:"editorRef",ref:d,class:"wysiwyg-editor"},(0,n.SU)(c),{onChangeMediaLoading:t[0]||(t[0]=e=>u("change-media-loading",e)),onLoading:t[1]||(t[1]=e=>u("loading",e)),onReady:t[2]||(t[2]=e=>u("ready",e)),onTypographApplied:t[3]||(t[3]=e=>u("typograph-applied",e)),onUpdate:t[4]||(t[4]=e=>u("update",e)),"onUpdate:data":t[5]||(t[5]=e=>u("update:data",e)),"onUpdate:error":t[6]||(t[6]=e=>u("update:error",e)),onVnodeMounted:t[7]||(t[7]=e=>u("editor-mounted"))}),null,16)])),_:1}))}}),l=r,c=l},75630:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var s=i(66252);const n={class:"tm-articles-subpage"};function a(e,t,i,a,o,r){const l=(0,s.up)("TMNewsBlock"),c=(0,s.up)("TMArticlesFeed");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(c,{"is-articles":!0,"track-stats":""},{afterArticle:(0,s.w5)((({position:e,currentPage:t})=>[1!==e||1!==t||r.isFlEnglish?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(l,{id:"news_block_1",key:"news_block_1","data-navigatable":"","data-test-id":"news_block","flow-name":r.flowName,"hub-name":r.hubName,tabindex:"0"},null,8,["flow-name","hub-name"]))])),_:1})])}var o=i(22201),r=i(49800),l=i(55398),c=i(21805),u=i(58748);const d={components:{TMNewsBlock:l.Z,TMArticlesFeed:r.Z},setup(){const e=(0,o.yj)();return(0,c.w)((()=>(0,u.g)().loadArticlesList({route:e})))},computed:{isFlEnglish(){return"en"===this.langOptions.fl},hubName(){return this.$route.params.hubName},flowName(){return this.$route.params.flowName}}};var m=i(83744);const p=(0,m.Z)(d,[["render",a]]),_=p},58974:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var s=i(66252);function n(e,t,i,n,a,o){const r=(0,s.up)("TMStories"),l=(0,s.up)("TMArticlesFeed");return(0,s.wg)(),(0,s.j4)(l,{"track-stats":""},{afterArticle:(0,s.w5)((({position:e,currentPage:t})=>[1!==e||1!==t||n.isFlEnglish?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(r,{id:"stories_block_1",key:"stories_block_1","data-test-id":"stories_block","ga-category":"stories_news",tabindex:"0"}))])),_:1})}var a=i(22201),o=i(49800),r=i(1231),l=i(21805),c=i(36134),u=i(58748);const d={components:{TMArticlesFeed:o.Z,TMStories:r.Z},setup(){const e=(0,a.yj)(),{langOptions:t}=(0,c.Q)();return{isFlEnglish:"en"===t.value.fl,...(0,l.w)((()=>(0,u.g)().loadArticlesList({route:e})))}}};var m=i(83744);const p=(0,m.Z)(d,[["render",n]]),_=p},47165:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.loaded=!0,i.exports}__webpack_require__.m=__webpack_modules__,(()=>{var e=[];__webpack_require__.O=(t,i,s,n)=>{if(!i){var a=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],n=e[c][2];for(var o=!0,r=0;r<i.length;r++)(!1&n||a>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](i[r])))?i.splice(r--,1):(o=!1,n<a&&(a=n));if(o){e.splice(c--,1);var l=s();void 0!==l&&(t=l)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]}})(),(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return __webpack_require__.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(i,s){if(1&s&&(i=this(i)),8&s)return i;if("object"===typeof i&&i){if(4&s&&i.__esModule)return i;if(16&s&&"function"===typeof i.then)return i}var n=Object.create(null);__webpack_require__.r(n);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>i[e]));return a["default"]=()=>i,__webpack_require__.d(n,a),n}})(),(()=>{__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}})(),(()=>{__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,i)=>(__webpack_require__.f[i](e,t),t)),[]))})(),(()=>{__webpack_require__.u=e=>"js/"+({0:"code-mode/sql-js",92:"code-mode/powershell-js",128:"wysiwig-icons",204:"page-company-add",263:"code-mode/rust-js",269:"page-article",318:"page-my-feed",388:"user-apps",478:"code-mode/javascript-js",734:"page-user",785:"code-mode/stex-js",821:"code-mode/php-js",983:"fail-placeholder",1163:"docs",1231:"page-flows",1492:"page-onboarding",1663:"code-mode/assembly-js",1763:"code-mode/vbscript-js",1792:"company-add-text-ru",1830:"web-streams-polyfill",1894:"code-mode/commonlisp-js",1967:"code-mode/python-js",2021:"code-mode/yaml-js",2047:"user-app",2136:"events",2159:"code-mode/lua-js",2205:"code-mode/shell-js",2328:"admin",2341:"fetch-readablestream",2443:"about",2636:"page-error",2731:"code-mode/r-js",2755:"code-mode/cmake-js",2780:"apexCharts",2808:"code-mode/mathematica-js",2837:"code-mode/erlang-js",2972:"page-company",3049:"user-upgrade",3193:"statistics",3389:"page-technotext",3839:"page-startup",3977:"company-localization-ru",4017:"code-mode/1c-js",4106:"code-mode/perl-js",4306:"page-ppa",4585:"code-mode/ruby-js",4634:"page-flow",4670:"page-company-admin",4915:"analytics-manual-en",5022:"company-localization-en",5106:"publication",5112:"user-settings",5121:"gallery",5361:"code-mode/simple-mode-js",5550:"code-mode/elixir-js",5631:"page-article-comments",5727:"analytics-manual-ru",5752:"company-add-text-en",5809:"code-mode/diff-js",6359:"code-mode/vhdl-js",6379:"page-hub",6428:"page-email-unsubscribe",6453:"megaposts-admin",6464:"search",6504:"user-invites",6841:"feed-setting",6937:"code-mode/go-js",7029:"code-mode/coffeescript-js",7064:"rt-dc",7086:"page-user-comments",7324:"megaprojects",7338:"code-mode/nginx-js",7417:"hljs",7478:"page-feed-preview",7484:"sandbox",7521:"code-mode/css-js",7576:"dialogs",7628:"beta-test",7927:"code-mode/pascal-js",7996:"ppg",8281:"code-mode/xml-js",8463:"user-statistics",8631:"user-articles-subpages",8642:"code-mode/mllike-js",8656:"feedback",8736:"code-mode/clike-js",8746:"code-mode/haskell-js",8778:"tracker",8799:"photoswipe",9039:"requisites-terms-text-en",9291:"code-mode/django-js",9353:"code-mode/smalltalk-js",9386:"code-mode/markdown-js",9451:"code-mode/swift-js",9613:"code-mode/julia-js",9616:"lang",9634:"requisites-terms-text-ru",9722:"voice"}[e]||e)+"."+{0:"79c8dc0b",76:"52749972",92:"f4d84bcb",106:"e28f3e0e",128:"2cc589bd",204:"1b05276d",263:"3d71e0ef",269:"923e7e56",318:"dfa20025",348:"99afeddb",388:"97480d0a",454:"9e624cb4",455:"2d202a50",478:"6a38930f",536:"c06c9267",542:"93b5f962",731:"9c2b36fa",734:"b13a1ba6",785:"2defb7f1",821:"1840bea6",983:"9caa258f",1077:"ad2fea5b",1163:"96dd7087",1175:"1d90b64f",1181:"75436fbf",1231:"4cbc5a62",1325:"2ae1cbbb",1352:"133e30bc",1381:"a88012c8",1418:"00edf253",1492:"1ee64e09",1539:"d097fe8f",1554:"8d4c5be1",1585:"ae695936",1628:"0f136107",1663:"611409fe",1684:"11cd33d8",1763:"e9b53db5",1792:"3399a10e",1830:"efa89fba",1854:"04d06df8",1894:"240f38ac",1967:"28b7a117",2021:"e9ae542c",2047:"533e6ca6",2122:"90e5a99c",2136:"472b53dc",2159:"fb9c35c6",2205:"524693f3",2247:"de2e2c20",2272:"4181a53a",2328:"dbfa2ca8",2341:"90d53897",2443:"8f27d93d",2527:"967ceaac",2628:"bec6c3ba",2636:"ccab2983",2674:"05cab9c7",2731:"2d2e9f06",2755:"4d9c57ae",2756:"0cb383ff",2780:"ef1a3540",2808:"69db4bd1",2837:"a144fa31",2859:"7cf2daac",2865:"4f088092",2972:"c5164967",3024:"55e99954",3049:"2528f15d",3095:"22ff7a16",3168:"d6ad2a8e",3193:"dbb4a013",3389:"3cd070fd",3398:"164e82b6",3500:"719fc7ce",3769:"e188d32e",3839:"46492f5d",3955:"8809ba65",3959:"d096124b",3977:"b48172a1",4017:"913d5651",4106:"3e5c35f5",4306:"a0b5f5c9",4448:"5389cf49",4585:"36aba16d",4593:"897828d1",4634:"1ac00f8b",4670:"5a947e1d",4680:"db72cdd4",4814:"5bfe92dc",4915:"2bd7b0fa",4929:"9c6b3c08",5022:"69fabd11",5084:"c1223277",5106:"d7922f05",5112:"c50e11c9",5121:"b1f28860",5145:"653783bf",5153:"d118180e",5361:"c139e4b1",5374:"3f8c8258",5399:"0fd2af39",5441:"c2fe48a9",5503:"213158e4",5550:"8cb24918",5631:"dee09f15",5727:"bc7786e8",5752:"677e2c3d",5788:"f95050f5",5795:"bf85a25e",5809:"26bf5dd6",5828:"04c30345",5919:"9a084a8f",5992:"5ab44154",6194:"697fa5ee",6235:"fc435968",6342:"7194a4b5",6359:"38e6df0b",6379:"0ab9a346",6407:"79ebc9e0",6425:"cc04b554",6428:"4d99da67",6453:"fe71d10e",6464:"5c422ddf",6487:"31d5215a",6504:"8fddf367",6555:"e0dfec89",6663:"d1d383da",6839:"159514b9",6841:"8c99e8ac",6937:"82e285c7",7029:"041fc66e",7042:"e79d5bbc",7056:"ccca68da",7064:"d7e20048",7086:"ac63ebae",7213:"f658d175",7255:"62627a8d",7263:"5537621b",7324:"532747fe",7338:"bff8f066",7366:"693ae8d9",7417:"00158cb8",7423:"f3e75d5a",7458:"8c5c60ad",7471:"535c1f8b",7478:"575419e2",7484:"c9dfd068",7521:"b874db26",7545:"68315a6e",7576:"b91bc4b0",7628:"111fe061",7636:"680820c6",7719:"244e6fc5",7731:"e174ef84",7818:"04e140fd",7927:"c9ad049d",7996:"96dccc04",8266:"2b265fd5",8281:"a03c424d",8331:"0a45738c",8463:"abf6ad93",8601:"53d1ab23",8631:"89825a63",8642:"0867f9a7",8656:"adc9e044",8659:"3e75729a",8672:"62d677f6",8736:"64527fb8",8746:"7ff224bf",8778:"d331e028",8799:"44a07d4a",9039:"4240ec78",9053:"f5cbc8e2",9217:"64c7e9a7",9291:"00f51639",9353:"c8e2d68c",9360:"3b75755d",9386:"66238aed",9451:"a6d1aa9c",9502:"2c751e3b",9613:"ad9e192c",9616:"6a9c0098",9634:"5343bc64",9722:"deb9019c",9793:"acf546f8",9841:"28484bd5",9859:"b7e6ad21",9964:"489b2106",9979:"81398e80"}[e]+".js"})(),(()=>{__webpack_require__.miniCssF=e=>"css/"+({204:"page-company-add",269:"page-article",318:"page-my-feed",388:"user-apps",734:"page-user",1163:"docs",1231:"page-flows",1492:"page-onboarding",2047:"user-app",2136:"events",2328:"admin",2443:"about",2636:"page-error",2972:"page-company",3049:"user-upgrade",3193:"statistics",3389:"page-technotext",3839:"page-startup",4306:"page-ppa",4634:"page-flow",4670:"page-company-admin",5106:"publication",5112:"user-settings",5121:"gallery",5631:"page-article-comments",6379:"page-hub",6428:"page-email-unsubscribe",6453:"megaposts-admin",6464:"search",6504:"user-invites",6841:"feed-setting",7064:"rt-dc",7086:"page-user-comments",7324:"megaprojects",7478:"page-feed-preview",7484:"sandbox",7576:"dialogs",7628:"beta-test",7996:"ppg",8463:"user-statistics",8631:"user-articles-subpages",8656:"feedback",8778:"tracker",9722:"voice"}[e]||e)+"."+{106:"a5f02097",204:"3946d597",269:"ec74a584",318:"f39c478a",388:"cf57619c",455:"76a1d82f",542:"997bab05",734:"74496a3e",1163:"94236611",1181:"0a3b178d",1231:"8439b301",1381:"0323682a",1492:"42ace37e",2047:"ab2ed572",2136:"45d8a688",2328:"3cb57c4b",2443:"80083d60",2636:"7913fd44",2859:"c3490c39",2972:"4e0fe49f",3049:"971e6958",3193:"5c0a6166",3389:"95fd538a",3839:"f88bcba4",4306:"c3a6cce6",4593:"8ff04af1",4634:"6e0f7202",4670:"b7f5b4aa",5106:"ec7cbe45",5112:"445f3139",5121:"027d14e6",5503:"b092b773",5631:"2b6e4c2d",6194:"908f1e39",6379:"9af67c7b",6428:"79a02057",6453:"827d8ee9",6464:"01041a09",6504:"ad0e1436",6841:"0ce22092",7064:"8d48c32f",7086:"d5137cf3",7324:"144bafc2",7423:"654f7cc3",7478:"357421c0",7484:"5094e73c",7576:"52cd5f33",7628:"4c645632",7719:"1dad035f",7731:"20d98d3c",7996:"1d1b0ddb",8463:"e5047003",8631:"b88380a1",8656:"ff7de206",8778:"167bac2f",9722:"8f9ee125",9793:"949b786a"}[e]+".css"})(),(()=>{__webpack_require__.h=()=>"5954bca491ae783f"})(),(()=>{__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{__webpack_require__.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="habr-web:";__webpack_require__.l=(i,s,n,a)=>{if(e[i])e[i].push(s);else{var o,r;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+n){o=u;break}}o||(r=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",t+n),o.src=i),e[i]=[s];var d=(t,s)=>{o.onerror=o.onload=null,clearTimeout(m);var n=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(s))),t)return t(s)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),r&&document.head.appendChild(o)}}})(),(()=>{__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{__webpack_require__.p="https://assets.habr.com/habr-web/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,i,s,n)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var o=i=>{if(a.onerror=a.onload=null,"load"===i.type)s();else{var o=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=r,a.parentNode&&a.parentNode.removeChild(a),n(l)}};return a.onerror=a.onload=o,a.href=t,i?i.parentNode.insertBefore(a,i.nextSibling):document.head.appendChild(a),a},t=(e,t)=>{for(var i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var n=i[s],a=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(a===e||a===t))return n}var o=document.getElementsByTagName("style");for(s=0;s<o.length;s++){n=o[s],a=n.getAttribute("data-href");if(a===e||a===t)return n}},i=i=>new Promise(((s,n)=>{var a=__webpack_require__.miniCssF(i),o=__webpack_require__.p+a;if(t(a,o))return s();e(i,o,null,s,n)})),s={2143:0};__webpack_require__.f.miniCss=(e,t)=>{var n={106:1,204:1,269:1,318:1,388:1,455:1,542:1,734:1,1163:1,1181:1,1231:1,1381:1,1492:1,2047:1,2136:1,2328:1,2443:1,2636:1,2859:1,2972:1,3049:1,3193:1,3389:1,3839:1,4306:1,4593:1,4634:1,4670:1,5106:1,5112:1,5121:1,5503:1,5631:1,6194:1,6379:1,6428:1,6453:1,6464:1,6504:1,6841:1,7064:1,7086:1,7324:1,7423:1,7478:1,7484:1,7576:1,7628:1,7719:1,7731:1,7996:1,8463:1,8631:1,8656:1,8778:1,9722:1,9793:1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=i(e).then((()=>{s[e]=0}),(t=>{throw delete s[e],t})))}}})(),(()=>{var e={2143:0};__webpack_require__.f.j=(t,i)=>{var s=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var n=new Promise(((i,n)=>s=e[t]=[i,n]));i.push(s[2]=n);var a=__webpack_require__.p+__webpack_require__.u(t),o=new Error,r=i=>{if(__webpack_require__.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var n=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",o.name="ChunkLoadError",o.type=n,o.request=a,s[1](o)}};__webpack_require__.l(a,r,"chunk-"+t,t)}},__webpack_require__.O.j=t=>0===e[t];var t=(t,i)=>{var s,n,a=i[0],o=i[1],r=i[2],l=0;if(a.some((t=>0!==e[t]))){for(s in o)__webpack_require__.o(o,s)&&(__webpack_require__.m[s]=o[s]);if(r)var c=r(__webpack_require__)}for(t&&t(i);l<a.length;l++)n=a[l],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return __webpack_require__.O(c)},i=self["webpackChunkhabr_web"]=self["webpackChunkhabr_web"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),__webpack_require__.O(void 0,[4998],(()=>__webpack_require__(53818)));var __webpack_exports__=__webpack_require__.O(void 0,[4998],(()=>__webpack_require__(43561)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.ef0b5e7b.js.map