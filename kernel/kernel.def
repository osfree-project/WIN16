LIBRARY     KERNEL
EXPORTS
    FATALEXIT                      @1	+
    EXITKERNEL                     @2
    GETVERSION                     @3	+
    LOCALINIT                      @4	+
    LOCALALLOC                     @5	+
    LOCALREALLOC                   @6	+
    LOCALFREE                      @7	+
    LOCALLOCK                      @8	+
    LOCALUNLOCK                    @9	+
    LOCALSIZE                      @10	+
    LOCALHANDLE                    @11	+
    LOCALFLAGS                     @12	+
    LOCALCOMPACT                   @13	+
    LOCALNOTIFY                    @14  +
    GLOBALALLOC                    @15	+
    GLOBALREALLOC                  @16	+
    GLOBALFREE                     @17	+
    GLOBALLOCK                     @18	+
    GLOBALUNLOCK                   @19	+
    GLOBALSIZE                     @20	+
    GLOBALHANDLE                   @21	+
    GLOBALFLAGS                    @22	+
    LOCKSEGMENT                    @23	+
    UNLOCKSEGMENT                  @24	+
    GLOBALCOMPACT                  @25	+
    GLOBALFREEALL                  @26	+
    GLOBALMASTERHANDLE             @28	+
    YIELD                          @29	+
    WAITEVENT                      @30	+
    POSTEVENT                      @31	+
    SETPRIORITY                    @32	+
    LOCKCURRENTTASK                @33	+
    SETTASKQUEUE                   @34	+
    GETTASKQUEUE                   @35	+
    GETCURRENTTASK                 @36	+
    GETCURRENTPDB                  @37	+
    SETTASKSIGNALPROC              @38	+
    ENABLEDOS                      @41	+
    DISABLEDOS                     @42	+
    LOADMODULE                     @45	+
    FREEMODULE                     @46
    GETMODULEHANDLE                @47	+
    GETMODULEUSAGE                 @48	+
    GETMODULEFILENAME              @49	+
    GETPROCADDRESS                 @50	+
    MAKEPROCINSTANCE               @51	+
    FREEPROCINSTANCE               @52	+
    CALLPROCINSTANCE               @53
    GETINSTANCEDATA                @54	+
    CATCH                          @55	+
    THROW                          @56	+
    GETPROFILEINT                  @57	+
    GETPROFILESTRING               @58	+
    WRITEPROFILESTRING             @59	+
    FINDRESOURCE                   @60	+
    LOADRESOURCE                   @61	+
    LOCKRESOURCE                   @62	+
    FREERESOURCE                   @63	+
    ACCESSRESOURCE                 @64	+
    SIZEOFRESOURCE                 @65	+
    ALLOCRESOURCE                  @66	+
    SETRESOURCEHANDLER             @67	+
    INITATOMTABLE                  @68	+
    FINDATOM                       @69	+
    ADDATOM                        @70	+
    DELETEATOM                     @71	+
    GETATOMNAME                    @72	+
    GETATOMHANDLE                  @73	+
    OPENFILE                       @74
    OPENPATHNAME                   @75
    DELETEPATHNAME                 @76
    RESERVED1                      @77	+ AnsiNext
    RESERVED2                      @78	+ AnsiPrev
    RESERVED3                      @79	+ AnsiUpper
    RESERVED4                      @80	+ AnsiLower
    _LCLOSE                        @81	+
    _LREAD                         @82	+
    _LCREAT                        @83	+
    _LLSEEK                        @84	+
    _LOPEN                         @85	+
    _LWRITE                        @86	+
    RESERVED5                      @87	+ lstrcmp
    LSTRCPY                        @88	+
    LSTRCAT                        @89	+
    LSTRLEN                        @90	+
    INITTASK                       @91	+
    GETTEMPDRIVE                   @92
    GETCODEHANDLE                  @93	+
    DEFINEHANDLETABLE              @94
    LOADLIBRARY                    @95	+
    FREELIBRARY                    @96	+
    GETTEMPFILENAME                @97
    GETLASTDISKCHANGE              @98
    GETLPERRMODE                   @99
    VALIDATECODESEGMENTS           @100
    NOHOOKDOSCALL                  @101	+
    DOS3CALL                       @102	+
    NETBIOSCALL                    @103	+
    GETCODEINFO                    @104	+
    GETEXEVERSION                  @105 +
    SETSWAPAREASIZE                @106
    SETERRORMODE                   @107	+
    SWITCHSTACKTO                  @108
    SWITCHSTACKBACK                @109
    PATCHCODEHANDLE                @110
    GLOBALWIRE                     @111	+
    GLOBALUNWIRE                   @112	+
    __AHSHIFT                      @113	+
    __AHINCR                       @114	+
    OUTPUTDEBUGSTRING              @115	+
    INITLIB                        @116
    OLDYIELD                       @117	+
    GETTASKQUEUEDS                 @118	+
    GETTASKQUEUEES                 @119	+
    UNDEFDYNLINK                   @120	+
    LOCALSHRINK                    @121
    ISTASKLOCKED                   @122	+
    KBDRST                         @123	+
    ENABLEKERNEL                   @124	+
    DISABLEKERNEL                  @125
    MEMORYFREED                    @126
    GETPRIVATEPROFILEINT           @127	+
    GETPRIVATEPROFILESTRING        @128	+
    WRITEPRIVATEPROFILESTRING      @129	+
    FILECDR                        @130
    GETDOSENVIRONMENT              @131	+
    GETWINFLAGS                    @132	+
    GETEXEPTR                      @133	+
    GETWINDOWSDIRECTORY            @134	+
    GETSYSTEMDIRECTORY             @135	+
    GETDRIVETYPE                   @136
    FATALAPPEXIT                   @137	+
    GETHEAPSPACES                  @138	+
    DOSIGNAL                       @139
    SETSIGHANDLER                  @140
    INITTASK1                      @141
    INITTASK1                      @141
    SETLASTERROR                   @147 +
    GETLASTERROR                   @148 +
    DIRECTEDYIELD                  @150	+
    WINOLDAPCALL                   @151
    GETNUMTASKS                    @152	+
    GLOBALNOTIFY                   @154	+
    GETTASKDS                      @155	+
    LIMITEMSPAGES                  @156	+
    GETCURPID                      @157	+
    ISWINOLDAPTASK                 @158	+
    GLOBALHANDLENORIP              @159
    EMSCOPY                        @160
    LOCALCOUNTFREE                 @161	+
    LOCALHEAPSIZE                  @162	+
    GLOBALLRUOLDEST                @163
    GLOBALLRUNEWEST                @164
    A20PROC                        @165	+
    WINEXEC                        @166
    GETEXPWINVER                   @167	+
    DIRECTRESALLOC                 @168	+
    GETFREESPACE                   @169	+
    ALLOCCSTODSALIAS               @170	+
    ALLOCDSTOCSALIAS               @171	+
    ALLOCALIAS                     @172	+
    __ROMBIOS                      @173	+
    __A000H                        @174	+
    ALLOCSELECTOR                  @175	+
    FREESELECTOR                   @176	+
    PRESTOCHANGOSELECTOR           @177	+
    __WINFLAGS                     @178	+
    __D000H                        @179 +
    LONGPTRADD                     @180 +
    __B000H                        @181	+
    __B800H                        @182	+
    __0000H                        @183	+
    GLOBALDOSALLOC                 @184	+
    GLOBALDOSFREE                  @185	+
    GETSELECTORBASE                @186	+
    SETSELECTORBASE                @187	+
    GETSELECTORLIMIT               @188	+
    SETSELECTORLIMIT               @189	+
    __E000H                        @190	+
    GLOBALPAGELOCK                 @191
    GLOBALPAGEUNLOCK               @192
    __0040H                        @193	+
    __F000H                        @194	+
    __C000H                        @195	+
    SELECTORACCESSRIGHTS           @196	+
    GLOBALFIX                      @197	+
    GLOBALUNFIX                    @198	+
    SETHANDLECOUNT                 @199
    VALIDATEFREESPACES             @200
    REPLACEINST                    @201
    REGISTERPTRACE                 @202
    DEBUGBREAK                     @203	+
    SWAPRECORDING                  @204
    CVWBREAK                       @205
    ALLOCSELECTORARRAY             @206	+
    ISDBCSLEADBYTE                 @207	+
    LOCALHANDLEDELTA               @310	+
    GETSETKERNELDOSPROC            @311	+
    DEBUGDEFINESEGMENT             @314
    WRITEOUTPROFILES               @315
    GETFREEMEMINFO                 @316 +
    FATALEXITHOOK                  @318
    FLUSHCACHEDFILEHANDLE          @319
    ISTASK                         @320 +
    ISROMMODULE                    @323	+
    LOGERROR                       @324
    LOGPARAMERROR                  @325
    ISROMFILE                      @326	+
    K327                           @327
    _DEBUGOUTPUT                   @328
    K329                           @329
    THHOOK                         @332
    ISBADREADPTR                   @334	+
    ISBADWRITEPTR                  @335	+
    ISBADCODEPTR                   @336	+
    ISBADSTRINGPTR                 @337	+
    HASGPHANDLER                   @338
    DIAGQUERY                      @339
    DIAGOUTPUT                     @340
    TOOLHELPHOOK                   @341
    __GP                           @342
    REGISTERWINOLDAPHOOK           @343
    GETWINOLDAPHOOKS               @344
    ISSHAREDSELECTOR               @345	+
    ISBADHUGEREADPTR               @346	+
    ISBADHUGEWRITEPTR              @347	+
    HMEMCPY                        @348
    _HREAD                         @349
    _HWRITE                        @350
    BUNNY_351                      @351
    LSTRCPYN                       @353	+
    GETAPPCOMPATFLAGS              @354
    GETWINDEBUGINFO                @355
    SETWINDEBUGINFO                @356
    K403                           @403	+ FarSetOwner
    K404                           @404	+ FarGetOwner



# todo sort it later
# 406-494 are present only in Win95

406 pascal -ret16 WritePrivateProfileStruct(str str ptr word str) WritePrivateProfileStruct16
407 pascal -ret16 GetPrivateProfileStruct(str str ptr word str) GetPrivateProfileStruct16
408 stub KERNEL_408
409 stub KERNEL_409
410 stub CreateProcessFromWinExec
411 pascal   GetCurrentDirectory(long ptr) GetCurrentDirectory16
412 pascal -ret16 SetCurrentDirectory(ptr) SetCurrentDirectory16
413 pascal -ret16 FindFirstFile(ptr ptr) FindFirstFile16
414 pascal -ret16 FindNextFile(word ptr) FindNextFile16
415 pascal -ret16 FindClose(word) FindClose16
416 pascal -ret16 WritePrivateProfileSection(str str str) WritePrivateProfileSection16
417 pascal -ret16 WriteProfileSection(str str) WriteProfileSection16
418 pascal -ret16 GetPrivateProfileSection(str ptr word str) GetPrivateProfileSection16
419 pascal -ret16 GetProfileSection(str ptr word) GetProfileSection16
420 pascal   GetFileAttributes(ptr) GetFileAttributes16
421 pascal -ret16 SetFileAttributes(ptr long) SetFileAttributes16
422 pascal -ret16 GetDiskFreeSpace(ptr ptr ptr ptr ptr) GetDiskFreeSpace16
423 pascal -ret16 LogApiThk(str) LogApiThk
431 pascal -ret16 IsPeFormat(str word) IsPeFormat16
432 stub FileTimeToLocalFileTime
434 pascal -ret16 UnicodeToAnsi(ptr ptr word) UnicodeToAnsi16
435 stub GetTaskFlags
436 pascal -ret16 _ConfirmSysLevel(ptr) _ConfirmSysLevel
437 pascal -ret16 _CheckNotSysLevel(ptr) _CheckNotSysLevel
438 pascal -ret16 _CreateSysLevel(ptr long) _CreateSysLevel
439 pascal -ret16 _EnterSysLevel(ptr) _EnterSysLevel
440 pascal -ret16 _LeaveSysLevel(ptr) _LeaveSysLevel
441 pascal CreateThread16(ptr long segptr segptr long ptr) CreateThread16
442 pascal VWin32_EventCreate() VWin32_EventCreate
443 pascal VWin32_EventDestroy(long) VWin32_EventDestroy
444 pascal -ret16 Local32Info(ptr word) Local32Info16
445 pascal -ret16 Local32First(ptr word) Local32First16
446 pascal -ret16 Local32Next(ptr) Local32Next16
447 pascal -ret16 WIN32_OldYield() WIN32_OldYield16
448 stub KERNEL_448
449 pascal GetpWin16Lock() GetpWin16Lock16
450 pascal VWin32_EventWait(long) VWin32_EventWait
451 pascal VWin32_EventSet(long) VWin32_EventSet
452 pascal LoadLibrary32(str) LoadLibrary32_16
453 pascal GetProcAddress32(long str) GetProcAddress32_16
454 equate __FLATCS 0   # initialized by BUILTIN_Init()
455 equate __FLATDS 0   # initialized by BUILTIN_Init()
456 pascal DefResourceHandler(word word word) NE_DefResourceHandler
457 pascal CreateW32Event(long long) CreateW32Event
458 pascal SetW32Event(long) SetW32Event
459 pascal ResetW32Event(long) ResetW32Event
460 pascal WaitForSingleObject(long long) WaitForSingleObject16
461 pascal WaitForMultipleObjects(long ptr long long) WaitForMultipleObjects16
462 pascal GetCurrentThreadId() GetCurrentThreadId16
463 pascal SetThreadQueue(long word) SetThreadQueue16
464 pascal GetThreadQueue(long) GetThreadQueue16
465 stub NukeProcess
466 pascal -ret16 ExitProcess(word) ExitProcess16
467 stub WOACreateConsole
468 stub WOASpawnConApp
469 stub WOAGimmeTitle
470 stub WOADestroyConsole
471 pascal GetCurrentProcessId() GetCurrentProcessId16
472 pascal -register MapHInstLS() MapHInstLS16
473 pascal -register MapHInstSL() MapHInstSL16
474 pascal CloseW32Handle(long) CloseW32Handle
475 pascal -ret16 GetTEBSelectorFS() GetTEBSelectorFS16
476 pascal ConvertToGlobalHandle(long) ConvertToGlobalHandle16
477 stub WOAFullScreen
478 stub WOATerminateProcess
479 pascal KERNEL_479(long) VWin32_EventSet  # ???
480 pascal -ret16 _EnterWin16Lock() _EnterWin16Lock
481 pascal -ret16 _LeaveWin16Lock() _LeaveWin16Lock
482 pascal LoadSystemLibrary32(str) LoadLibrary32_16   # FIXME!
483 pascal MapProcessHandle(long) MapProcessHandle
484 pascal SetProcessDword(long s_word long) SetProcessDword
485 pascal GetProcessDword(long s_word) GetProcessDword
486 pascal FreeLibrary32(long) FreeLibrary32_16
487 pascal GetModuleFileName32(long str word) GetModuleFileName32_16
488 pascal GetModuleHandle32(str) GetModuleHandle32_16
489 stub KERNEL_489  # VWin32_BoostWithDecay
490 pascal -ret16 KERNEL_490(word) KERNEL_490
491 pascal RegisterServiceProcess(long long) RegisterServiceProcess16
492 stub WOAAbort
493 pascal -ret16 UTInit(long long long long) UTInit16
494 stub KERNEL_494

# 495 is present only in Win98
495 pascal WaitForMultipleObjectsEx(long ptr long long long) WaitForMultipleObjectsEx16

# 500-544 are WinNT extensions; some are also available in Win95

500 varargs WOW16Call(word word word) WOW16Call
501 stub KDDBGOUT                                               # Both NT/95 (?)
502 stub WOWGETNEXTVDMCOMMAND
503 stub WOWREGISTERSHELLWINDOWHANDLE
504 stub WOWLOADMODULE
505 stub WOWQUERYPERFORMANCECOUNTER
506 stub WOWCURSORICONOP
#507 stub WOWCURSORICONOP # conflict with 506 !
507 stub WOWFAILEDEXEC
#508 stub WOWFAILEDEXEC # conflict with 507 ! (something broken here ?)
508 stub WOWCLOSECOMPORT
#509 stub WOWCLOSECOMPORT # conflict with 508 !
#509 stub WOWKILLREMOTETASK
511 stub WOWKILLREMOTETASK
512 stub WOWQUERYDEBUG
513 pascal LoadLibraryEx32W(ptr long long) LoadLibraryEx32W16   # Both NT/95
514 pascal FreeLibrary32W(long) FreeLibrary32W16                # Both NT/95
515 pascal GetProcAddress32W(long str) GetProcAddress32W16      # Both NT/95
516 pascal GetVDMPointer32W(segptr word) GetVDMPointer32W16     # Both NT/95
517 varargs CallProc32W(long long long) CallProc32W16           # Both NT/95
518 varargs _CallProcEx32W(long long long) CallProcEx32W16      # Both NT/95
519 stub EXITKERNELTHUNK
# the __MOD_ variables are WORD datareferences, the current values are invented.
520 equate __MOD_KERNEL 4200
521 equate __MOD_DKERNEL 4201
522 equate __MOD_USER 4203
523 equate __MOD_DUSER 4204
524 equate __MOD_GDI 4205
525 equate __MOD_DGDI 4206
526 equate __MOD_KEYBOARD 4207
527 equate __MOD_SOUND 4208
528 equate __MOD_SHELL 4209
529 equate __MOD_WINSOCK 4210
530 equate __MOD_TOOLHELP 4211
531 equate __MOD_MMEDIA 4212
532 equate __MOD_COMMDLG 4213
541 stub WOWSETEXITONLASTAPP
544 stub WOWSETCOMPATHANDLE


# 531-568 are Win95-only extensions.
# NOTE: Ordinals 531,532,541 clash with the WinNT extensions given above! Argh!

#531 stub ConvertClipboardHandleLS
#532 stub ConvertClipboardHandleSL
533 stub ConvertDDEHandleLS
534 stub ConvertDDEHandleSL
535 pascal VWin32_BoostThreadGroup(long long) VWin32_BoostThreadGroup
536 pascal VWin32_BoostThreadStatic(long long) VWin32_BoostThreadStatic
537 stub KERNEL_537
538 stub ThunkTheTemplateHandle
540 stub KERNEL_540
#541 stub KERNEL_541
542 stub KERNEL_542
543 stub KERNEL_543
560 pascal SetThunkletCallbackGlue(long segptr) SetThunkletCallbackGlue16
561 pascal AllocLSThunkletCallback(segptr long) AllocLSThunkletCallback16
562 pascal AllocSLThunkletCallback(long long) AllocSLThunkletCallback16
563 pascal FindLSThunkletCallback(segptr long) FindLSThunkletCallback
564 pascal FindSLThunkletCallback(long long) FindSLThunkletCallback
566 stub KERNEL_566  # (thunklet) FIXME!!!
567 pascal AllocLSThunkletCallbackEx(segptr long word) AllocLSThunkletCallbackEx16
568 pascal AllocSLThunkletCallbackEx(long long word) AllocSLThunkletCallbackEx16


# 600-653 are Win95 only

600 stub AllocCodeAlias
601 stub FreeCodeAlias
602 pascal -ret16 GetDummyModuleHandleDS() GetDummyModuleHandleDS16
603 stub KERNEL_603  # OutputDebugString (?)
604 pascal -register CBClientGlueSL() CBClientGlueSL
# FIXME: 605 is duplicate of 562
605 pascal AllocSLThunkletCallback_dup(long long) AllocSLThunkletCallback16
# FIXME: 606 is duplicate of 561
606 pascal AllocLSThunkletCallback_dup(segptr long) AllocLSThunkletCallback16
607 pascal AllocLSThunkletSysthunk(segptr long long) AllocLSThunkletSysthunk16
608 pascal AllocSLThunkletSysthunk(long segptr long) AllocSLThunkletSysthunk16
# FIXME: 609 is duplicate of 563
609 pascal FindLSThunkletCallback_dup(segptr long) FindLSThunkletCallback
# FIXME: 610 is duplicate of 562
610 pascal FindSLThunkletCallback_dup(long long) FindSLThunkletCallback
611 pascal -ret16 FreeThunklet(long long) FreeThunklet16
612 pascal -ret16 IsSLThunklet(ptr) IsSLThunklet16
613 stub HugeMapLS
614 stub HugeUnMapLS
615 pascal -ret16 ConvertDialog32To16(long long long) ConvertDialog32To16
616 pascal -ret16 ConvertMenu32To16(long long long) ConvertMenu32To16
617 pascal -ret16 GetMenu32Size(ptr) GetMenu32Size16
618 pascal -ret16 GetDialog32Size(ptr) GetDialog32Size16
619 pascal -ret16 RegisterCBClient(word segptr long) RegisterCBClient16
620 pascal -register CBClientThunkSL() CBClientThunkSL
621 pascal -register CBClientThunkSLEx() CBClientThunkSLEx
622 pascal -ret16 UnRegisterCBClient(word segptr long) UnRegisterCBClient16
623 pascal -ret16 InitCBClient(long) InitCBClient16
624 pascal SetFastQueue(long long) SetFastQueue16
625 pascal GetFastQueue() GetFastQueue16
626 stub SmashEnvironment
627 pascal -ret16 IsBadFlatReadWritePtr(segptr long word) IsBadFlatReadWritePtr16
630 pascal -register C16ThkSL() C16ThkSL
631 pascal -register C16ThkSL01() C16ThkSL01
651 pascal ThunkConnect16(str str word long ptr str word) ThunkConnect16
652 stub IsThreadId
653 stub OkWithKernelToChangeUsers

# Extra Wine internal functions for thunking and self-loader

666 pascal UTGlue16(ptr long ptr long) UTGlue16
667 pascal EntryAddrProc(word word) EntryAddrProc16
668 pascal MyAlloc(word word word) MyAlloc16
669 pascal -ret16 DllEntryPoint(long word word word long word) KERNEL_DllEntryPoint

# 700-704 are Win95 only

700 pascal SSInit() SSInit16
701 stub SSOnBigStack
702 stub SSCall
703 stub CallProc32WFix
704 pascal -register SSConfirmSmallStack() SSConfirmSmallStack
