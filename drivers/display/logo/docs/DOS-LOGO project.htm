<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head><script type="text/javascript" src="/static/js/analytics.js?v=1516052760.0" charset="utf-8"></script>

<script type="text/javascript">archive_analytics.values.service='wb';archive_analytics.values.server_name='wwwb-app29.us.archive.org';archive_analytics.values.server_ms=1781;</script><script type="text/javascript" src="/static/js/wbhack.js?v=1516052760.0" charset="utf-8"></script>

<script type="text/javascript">
__wbhack.init('https://web.archive.org/web');
</script>
<link rel="stylesheet" type="text/css" href="/static/css/banner-styles.css?v=1516052760.0"/>
<link rel="stylesheet" type="text/css" href="/static/css/iconochive.css?v=1516052760.0"/>

<!-- End Wayback Rewrite JS Include -->
    <title>DOS-LOGO project</title>
    <style type="text/css">
        .style1
        {
            text-align: center;
            font-size: xx-large;
            font-weight: bold;
            color: #CC9900;
            font-family: Arial, Helvetica, sans-serif;
        }
        .style2
        {
            text-align: left;
            font-family: Arial, Helvetica, sans-serif;
            background-color: #171700;
            color: #FF9933;
        }
        .style4
        {
            font-size: x-large;
            font-weight: bold;
            font-family: Arial, Helvetica, sans-serif;
            text-align: center;
        }
        .style5
        {
            color: #FFCC00;
        }
        .style6
        {
            color: #FF0000;
        }
        .style7
        {
            color: #C0C0C0;
        }
        .style8
        {
            text-align: center;
            font-family: Arial, Helvetica, sans-serif;
            background-color: #171700;
            color: #FF9933;
        }
        .style9
        {
            font-size: large;
            font-weight: bold;
        }
        .style10
        {
            text-align: center;
        }
        .style11
        {
            text-decoration: underline;
        }
        </style>
</head>
<body alink="#FFFF99" bgcolor="#333300" link="#FFCC66" text="#CC9900" vlink="#ffcc99"><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="/static/js/timestamp.js?v=1516052760.0" charset="utf-8"></script>
<script type="text/javascript" src="/static/js/graph-calc.js?v=1516052760.0" charset="utf-8"></script>
<script type="text/javascript" src="/static/js/auto-complete.js?v=1516052760.0" charset="utf-8"></script>
<script type="text/javascript" src="/static/js/toolbar.js?v=1516052760.0" charset="utf-8"></script>

<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
.wb-autocomplete-suggestions {
    text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);
    position: absolute; display: none; z-index: 2147483647; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;
}
.wb-autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }
.wb-autocomplete-suggestion b { font-weight: bold; }
.wb-autocomplete-suggestion.selected { background: #f0f0f0; }
</style>
<div id="wm-ipp" lang="en" style="display:none;direction:ltr;">
<div style="position:fixed;left:0;top:0;right:0;">
<div id="wm-ipp-inside">
  <div style="position:relative;">
    <div id="wm-logo" style="float:left;width:130px;padding-top:10px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
    </div>
    <div class="r" style="float:right;">
      <div id="wm-btns" style="text-align:right;height:25px;">
                  <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a href="#" onclick="__wm.saveSnapshot('http://logosys.logotypes.se:80/', '20080607223336')" title="Save to My Web Archive" id="wm-save-snapshot-open">
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        	<a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" style="text-align:right;">
	<a href="#" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=https://web.archive.org/web/20080607223336/http://logosys.logotypes.se:80/', '', 'height=400,width=600'); return false;" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a href="#" onclick="window.open('https://twitter.com/intent/tweet?text=https://web.archive.org/web/20080607223336/http://logosys.logotypes.se:80/&amp;via=internetarchive', '', 'height=400,width=600'); return false;" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
    </div>
    <table class="c" style="">
      <tbody>
	<tr>
	  <td class="u" colspan="2">
	    <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://logosys.logotypes.se:80/" onfocus="this.focus();this.select();"/><input type="hidden" name="type" value="replay"/><input type="hidden" name="date" value="20080607223336"/><input type="submit" value="Go"/></form>
	  </td>
	  <td class="n" rowspan="2" style="width:110px;">
	    <table>
	      <tbody>
		<!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		<tr class="m">
		  <td class="b" nowrap="nowrap">May</td>
		  <td class="c" id="displayMonthEl" title="You are here: 22:33:36 Jun 07, 2008">JUN</td>
		  <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20080924200016/http://logosys.logotypes.se:80/" title="24 Sep 2008"><strong>Sep</strong></a></td>
		</tr>
		<!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		<tr class="d">
		  <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20080517185522/http://logosys.logotypes.se:80/" title="18:55:22 May 17, 2008"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0"/></a></td>
		  <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 22:33:36 Jun 07, 2008">07</td>
		  <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20080924200016/http://logosys.logotypes.se:80/" title="20:00:16 Sep 24, 2008"><img src="/static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0"/></a></td>
		</tr>
		<!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		<tr class="y">
		  <td class="b" nowrap="nowrap">2007</td>
		  <td class="c" id="displayYearEl" title="You are here: 22:33:36 Jun 07, 2008">2008</td>
		  <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20100507164702/http://logosys.logotypes.se:80/" title="07 May 2010"><strong>2010</strong></a></td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td class="s">
	    	    <div id="wm-nav-captures">
	      	      <a class="t" href="/web/20080607223336*/http://logosys.logotypes.se:80/" title="See a list of every capture for this URL">17 captures</a>
	      <div class="r" title="Timespan for captures of this URL">17 May 2008 - 30 Aug 2017</div>
	      </div>
	  </td>
	  <td class="k">
	    <a href="" id="wm-graph-anchor">
	      <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		<canvas id="wm-sparkline-canvas" width="575" height="27" border="0"></canvas>
	      </div>
	    </a>
	  </td>
	</tr>
      </tbody>
    </table>
    <div style="position:absolute;bottom:0;right:2px;text-align:right;">
      <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/51_crawl)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/51_crawl" target="_new"><span class="wm-title">51_crawl</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  this data is currently not publicly accessible.
	</div>
	      </div>
    </div>
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/static/images/loading.gif" alt="loading"/></div>
    </div>
  </div></div></div></div><script type="text/javascript">
__wm.bt(575,27,25,2,"web","http://logosys.logotypes.se:80/","2008-06-07",1996);
</script>
<!-- END WAYBACK TOOLBAR INSERT -->
    <p class="style1">
        <br/>
        <span class="style5">The DOS-LOGO project<br/>
        </span><br/>
    </p>
    Updated 05/17/08
    <p align="center" class="style2">
        Welome to the DOS-LOGO project. The number one source of logo.sys technical 
        information. Other information about Windows 95 can be found at
        <a href="https://web.archive.org/web/20080607223336/http://en.wikipedia.org/wiki/Windows_95">Wikipedia</a>.<br/>
        <br/>
        Back in 1994, Microsoft Corporation decided to blend their current MS-DOS 
        technology and 386 Enhanced Mode Windows together to create a &quot;consumer&quot; 
        operating system. By doing this they would get more control of their products. 
        The MS-DOS part of windows was rearranged so that the MS-DOS kernel was moved 
        into the MS-DOS bios. But around this time, a boot splash screen was created to 
        hide as much as possible of MS-DOS and help advertising the Windows 95 brand. 
        This boot splash screen came to be a hardware mystery. As you might know, if 
        something has to work on a PC it can&#39;t be a hardware hack. There are so many 
        different hardware setups out there. But the MS-DOS boot splash screen is a huge 
        hack, and it took me around 11 years to figure it out. I remember reading huge 
        PC bibles over and over to find something that worked like the boot logo, but 
        with no success.<br/>
        <br/>
        As a user, you&#39;d see the logo show up after the &quot;Starting Windows 95...&quot; 
        message. If you had a clean installation with nothing in config.sys and 
        autoexec.bat, and your computer had basic hardware, the logo would animate until 
        DISPLAY.DRV (one of the KRNL386 drivers in Windows 95) switched the graphics 
        mode to show the Windows desktop. However this was a rare scenario. Because of 
        different settings carried over from old MS-DOS installations and codepage 
        loading for different language versions of Windows 95, the logo would be killed 
        - then reloaded when the windows part of the boot process was executed. Then 
        there was more trouble such as having more than once registery hardware profile. 
        Then the logo would have to be redisplayed 3 times during boot. And evil 
        scenarios such as the hardware profile killing the logo, then the boot menu 
        warning (safe mode) killing the logo, and autoexec.bat killing it. That&#39;s 4 
        times redisplaying the logo.<br/>
        <br/>
        Let&#39;s face the problems. Even today these problems will apply. If you are a 
        programmer like me, even better if you are a designer, you know about the Video 
        Graphics Adapter (VGA) which is a standard in possibly all computer graphics 
        cards. VGA is the only way to go, but the problems are huge:<br/>
        Problem number one is to be able to show the logo without having interference 
        from other programs and hardware device drivers. This is very easy if you have 
        full control of the operating system, but MS-DOS doesn&#39;t have that kind of 
        control. The best part about MS-DOS (from my perspective) is it&#39;s way of 
        allowing programs to directly access hardware without having to ask MS-DOS for 
        permission.<br/>
        <br/>
        There are two boring solutions to this problem. Simply allow the logo to be 
        displayed while MS-DOS and Windows are loading inbetween programs. But the 
        loading time is mostly done by device drivers, and the result would end up as 
        showing nothing. Or to pause the loading process in a cupple of seconds so that 
        the logo can be displayed. That option is stupid!<br/>
        <br/>
        Problem number two is the greatest of them all: The logo must be canceled if a 
        critical program needs attention outside of MS-DOS&#39;s knowledge. Even MS-DOS 
        itself must be able to show critical information without having the logo in the 
        way. The solution to this problem is one of the greatest hacks I will uncover 
        later. There is no simple solution that I can come up with at this point. Part 
        of this problem is also to be give the user a way to cancel the logo too! If you 
        haven&#39;t noticed it already, the original logo.sys can be canceled at any time 
        pressing the ESC key!<br/>
        <br/>
        Problem number three is a problem I found the solution to 7 years ago. To be 
        able to hide MS-DOS&#39;s output while displaying the logo. VGA does allow you to 
        load your own character set, and by reprogramming the VGA&#39;s controller chip, 
        magical things can happen. But even with novice VGA knowledge, you can&#39;t shut 
        off the emulated character generator in the standard VGA graphics modes. An 
        example of this is to run Windows 95 in VGA mode 12h (640x480x4) and let a 
        device driver print out text using the VGA bios. It will be displayed all over 
        the desktop! And Windows won&#39;t know about it.<br/>
        <br/>
        Problem number 4 is crazy. Being able to fool MS-DOS itself and every other 
        program that the mode is still textmode, while the logo is displayed. At this 
        point you are starting to understand there is no way to pull this off without 
        spending all the developing time on a logo and skipping the whole operating 
        system.<br/>
        <br/>
        <br/>
        Okay, so let me get really lazy and do this logo by the known techniques. I&#39;ll 
        use mode 13h (320x200x8) to show the logo. And I&#39;ll hook the VGA bios text 
        output interrupt, yea all of them! Now I simply stop programs from outputting 
        text while the logo is active. Oh god! I spent 4 hours writing the perfect logo 
        system, and when I tested it, I came to see how annoyingly stupid the result 
        was: Once the logo was active, it took my monitor 0.9 seconds to blank out 
        before the logo was shown. Oh, this is just so annoying since I wanted to both 
        cancel this thing and reaload it in less than 0.9 seconds! Gah, but anyway the 
        text is not showing! Score! No... wait, one program wrote to the video buffer 
        directly and didn&#39;t use the bios calls. The text is not showing since the logo 
        is in graphics mode but instead I got broken pixels all over the place! So both 
        my lazy solutions went to crap.<br/>
        <br/>
        Well, not to mention the fact that switching back to text mode never worked the 
        way I wanted. I wanted the text that was there before the logo was shown to be 
        visible again, and also the text that was &quot;aborted&quot; to be visible as well.<br/>
        <br/>
        So one day of failure, and I decided to stop working with this! But day two, I 
        booted my machine up just to see the original logo.sys working. I can never give 
        up until the day I&#39;ll have that technology. I mean it is working somehow, else I 
        wouldn&#39;t see it everytime I boot my computer.</p>
        
        <center><p><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/95rtm.gif"><br/>The original Windows 95 boot logo hidden deep inside IO.SYS</p></center>


    <p align="center" class="style2">
        The boot logo&#39;s name &quot;logo.sys&quot; is famous. It is a Windows bitmap renamed to 
        become a system file. This was first uncovered when people found the file in the 
        root folder of the Plus! package, an addon to Windows 95. Over the internet, you 
        can find simple guides how to replace the boot logo. But when the question about 
        the resolution 320x400 pixels comes up, noone can answer why. I was a little 
        annoyed how some guides said it was just to open logo.sys when there was no 
        logo.sys file to be found. And I was not interested in drawing my own logo. I 
        wanted the original. I had a basic knowledge of IO.SYS back then, such as I knew 
        it was responsible for all the MS-DOS messages of cool importance, such as 
        &quot;Starting MS-DOS...&quot; and &quot;MS-DOS Start Menu&quot;. So the logo must be there somehow. 
        Today I know the logo is compressed using some form of compression and it is 
        fast to decompress. My guess is some form of LZ compression. But back then I had 
        to wait several years before I could finally printscreen the logo from a PC 
        emulator (VMware). During the years I have collected original logo.sys from many 
        Windows 9X releases. I still find the first one, the Windows 95A RTM release to 
        be the best.</p>
    <center><p><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/98b3su.gif"><br/>When Windows 9X is started for the first time, SULOGO.SYS is displayed with a special message. This logo is from Windows 98 Build 1650 
        (Beta 3)</p></center>

    <p align="center" class="style2">
        When I first saw Windows 95, it had just been installed. The boot logo was 
        different, and the animation likewise. It had a blue shaded keyboard with a 
        black frame below it saying &quot;Starting Windows 95 for the first time...&quot;. It 
        also had 
        a little Windows logo that was glowing back and forth. It was not until later the 
        same year I found that the name of that logo was &quot;sulogo.sys&quot; and it was hidden 
        inside the installation CABs. For Windows 95, the logo was not that special, but 
        for the upcoming Windows 98 and Millennium Edition, sulogo was of greater 
        importance.<br/>
        The name sulogo.sys was just the name it has when stored among setup files, but 
        when it was displayed, its name was still &quot;logo.sys&quot;. And it was deleted by 
        Windows once the second installation process was done.</p>
        <p class="style4">
<br/>Windows 98 and Windows Millennium Edition<br/></p>

    <p align="center" class="style2">
        By surprise I found out about Windows 98. I got Beta 3. I used the internet 
        to gain as much logo.sys as possible from all Memphis versions. Windows 98&#39;s 
        codename was Memphis, and there was a lot of people hosting logos from these 
        versions. Today they are all gone, but I got them in safe storage for the 
        future.<br/>
        The interesting part about the beta logos was their quality. They were 
        often using layouts that were low budget, and it gave me an idea what program Microsoft 
        used to create them.<br/>
        <br/>
        The RTM build of Windows 98 had its logo&#39;s colors toned down a bit compared to 
        the beta logos, but it also had a bug in the low scanline of 98. Something that 
        bugged me. By a coincident I found a file named oemlogo in the root of one of my 
        new computers that came with Windows 98 Second Edition. That logo was perfect, 
        and even included Microsoft&#39;s logo in the top like the original Windows 95 logo. 
        It was probably this logo that was supposed to be build into IO.SYS but never 
        made it. I never bothered to get the bugged logo from IO.SYS, and settled with 
        that oem logo instead.<br/>
        <br/>
        <br/>
        When I first heard about Windows Millennium Edition, I knew I had to get the 
        logos myself because of MS-DOS&#39;s removal from the operating system. No one would 
        be able to extract the logos when they believed DOS was gone. As a programmer I 
        knew MS-DOS was 50% of Windows at that time, and it would be impossible and a 
        waste of time to remove it. It was of course just hidden. But Microsoft did 
        remove config.sys and autoexec.bat parsing so the logo would show up more or 
        less without interruption from DOS programs and device drivers.<br/>
        <br/>
        Millennium Edition was boring because it skipped win.com and went directly to 
        execute VMM32.VXD from IO.SYS. So there would be no more respawning of the boot 
        logo. It lost its touch, but the clean white logo felt new. At this point the 
        clouds had become boring design, and clean flat design was the fashion of the 
        new millennium!<br/>
        There was a way to boot Windows Millennium to DOS by a recovery boot disk. This 
        version of IO.SYS had the logo turned off, but not deleted. There is no way to 
        turn it on without hacking the uncompressed IO.SYS. From Windows Millennium Beta 
        1, IO.SYS was compressed with an unknown compression, so the default logo data 
        was stored uncompressed in conventional memory once IO.SYS was decompressed. The 
        DOS resources being used because DOS was no longer important.</p>
        <center><p><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/meb3su.gif"><br/>This is the SULOGO.SYS from Windows 
            Millennium Edition Build 2499 (Beta 3)</p>
    </center>

    <p align="center" class="style2">
        Okay, so how does the boot logo work?<br/>
        The boot logo uses the only mode available, VGA graphics mode 13h 320x200 pixels 
        256 colors. But changes the VGA registers manually to use double scanline height 
        (320x400). This is because when a monitor switches video mode, a short blanking 
        period can be avoided if the two video modes in question are using the same 
        number of scanlines.<br/>
        All of VGA&#39;s textmodes uses 400 scanlines. There are another VGA graphics modes 
        available which use 400 scanlines, but none of them have 256 colors. By using 
        320x400, the VGA must be put into planear mode. It&#39;s a slow way of drawing 
        pixels, but it allows changing of video ram offset to do page flipping. With 
        this hack, the logo&#39;s pixel data can be stored in the upper video ram, and the 
        textmode 8 pages of text in the lower video ram. This allows the logo and text 
        to saved at the same time, so that switching between them can be done.<br/>
        Because drawing is so slow, the logo is only drawn the first time, then left in 
        video ram for future activation. During logo drawing, the monitor will be 
        disabled temporarly so that it won&#39;t show how slow the logo is drawn on screen.<br/>
        When the logo is activated it will be animated to show the user the computer is 
        not frozen. The animation is done by palette rotation, so no drawing is made.<br/>
        <br/>
        The trick to remember the textmode, and still allow programs as well as DOS 
        itselfto believe textmode is still the active mode, BIOS RAM area is modified. 
        VGA BIOS allows mode switching without erasing the video buffer bhy turning on 
        the 7th bit in the video mode number. This is done to avoid text to be cleared, 
        as well as the logo&#39;s pixel data.<br/>
        <br/>
        Quite a few interrupts are taken over so that the logo can safely be 
        deactivated. Interrupt 8h for timing the animation. Interrupt 10h for video mode 
        switching. Interrupt 15h for keyboard intercept (user can abort the logo with 
        the Escape key). And interrupt 16h for keyboard requests.</p>
    
    <center><p><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/resolution.gif"><br/>
    <div class="style10">
        <a href="anim.gif">GIF animation showing how the monitor is changing the pixel aspect ratio for both VGA textmode and DOS-LOGO</a></div>
    <p class="style4">
<br/><br/>
            DOS-LOGO Technical Reference<p>

<table border="1" cellpadding="2" cellspacing="0" bgcolor="Transparent" class="style2" align="center">
<caption class="style2">The LOGO.SYS file format:</caption><tr>
<th bgcolor="SaddleBrown">Offset</th><th bgcolor="SaddleBrown">Name</th><th bgcolor="SaddleBrown">Size</th>
        <th bgcolor="SaddleBrown">Description</th></tr>
<tr align="left">
<td bgcolor="DimGray">0h</td><td>bfType</td><td bgcolor="DimGray">2</td><td>BM ascii 
    sign</td></tr>
<tr align="left">
<td bgcolor="DimGray">2h</td><td>bfSize</td><td bgcolor="DimGray">4</td><td>Size of 
    the whole bitmap file. Is ignored by DOS-LOGO.</td></tr>
<tr align="left">
<td bgcolor="DimGray">6h</td><td>bfReserved1</td><td bgcolor="DimGray">2</td><td>Not 
    used. Set to <b>0<b>0.</td></tr>
<tr align="left">
<td bgcolor="DimGray">8h</td><td>bfReserved2</td><td bgcolor="DimGray">2</td><td>Not 
    used. Set to <b>0<b>0.</td></tr>
<tr align="left">
<td bgcolor="DimGray">Ah</td><td>bfOffBits</td><td bgcolor="DimGray">4</td><td>
    Offset where the bitmap bit data is located. <span class="style6">Must be  be <b>
    436h</b></s.<></tr>
<tr align="left">
<td bgcolor="DimGray">Eh</td><td>biSize</td><td bgcolor="DimGray">4</td><td>Holds 
    the size of the <b>BITMAPINFOHEADERADER</b> structure. <span class="style6">Must be
    <b>28h</b></s.<></tr>
<tr align="left">
<td bgcolor="DimGray">12h</td><td>biWidth</td><td bgcolor="DimGray">4</td><td>Width 
    of the bitmap. <span class="style6">Must be  be <b>140h</b></s.<></tr>
<tr align="left">
<td bgcolor="DimGray">16h</td><td>biHeight</td><td bgcolor="DimGray">4</td><td>
    Height of the bitmap. <span class="style6">Must be  be <b>190h</b></s.<></tr>
<tr align="left">
<td bgcolor="DimGray">1Ah</td><td>biPlanes</td><td bgcolor="DimGray">2</td><td>
    Bitmaps only support 1 plane. <span class="style6">Must be  be <b>1</b></s.<></tr>
<tr align="left">
<td bgcolor="DimGray">1Ch</td><td>biBitCount</td><td bgcolor="DimGray">2</td><td>
    DOS-LOGO require 256 color bitmaps (8 bit palette). <span class="style6">Must be
        <b>8</b></s.<></tr>
<tr align="left">
<td bgcolor="DimGray">1Eh</td><td>biCompression</td><td bgcolor="DimGray">4</td><td>
            DOS-LOGO supports RLE8 compressed bitmaps. This value can be <b>0<b>0</b> for compatibility 
            with original LOGO.SYS boot logo, or <b>1 for RLE8 compression.</td></tr>
<tr align="left">
<td bgcolor="DimGray">22h</td><td>biSizeImage</td><td bgcolor="DimGray">4</td><td>Size of 
            bitmap bits specified when using compression. Is ignored by DOS-LOGO.</td></tr>
<tr align="left">
<td bgcolor="DimGray">26h</td><td>biXPelsPerMeter</td><td bgcolor="DimGray">4</td><td>Not 
    used. Set to <b>0<b>0.</td></tr>
<tr align="left">
<td bgcolor="DimGray">2Ah</td><td>biYPelsPerMeter</td><td bgcolor="DimGray">4</td><td>Not 
    used. Set to <b>0<b>0.</td></tr>
<tr align="left">
<td bgcolor="DimGray">2Eh</td><td>biClrUsed</td><td bgcolor="DimGray">4</td><td>Is ignored 
            by DOS-LOGO.</td></tr>
<tr align="left">
<td bgcolor="DimGray">32h</td><td>biClrImportant</td><td bgcolor="DimGray">4</td><td>Byte at 
            offset 32h holds the palette entry animation start, and byte at offset 33h holds 
            the rewind count for palette animation looping.</td></tr>
            <td bgcolor="DimGray">36h</td><td>bmiColors</td><td bgcolor="DimGray">4*256</td><td>
    Array of <b>RGBQUADQUAD</b>s. The&nbsp; <b>RGBQUAD structure is four bytes where 
    the first byte is the BLUE component, followed by GREEN, RED, and a RESERVED 
    byte. There are 256 entries in this array.</td></tr>
            <td bgcolor="DimGray">436h</td><td>bmBits</td><td bgcolor="DimGray">320*400</td><td>
    The bitmap bits, each byte representing a pixel, and the value being an index 
    into the bmiColors palette array. Or in case of RLE8 compression, the compressed 
    bitmap commands.</td></tr></table>
    <br/>
    <br/>

    <table border="1" cellpadding="2" cellspacing="0" bgcolor="Transparent" class="style2" align="center">
        <caption class="style8"><i><b>Interrupt 2Fh - Multiplex</b></i></caption>
<tr>
    <th rowspan="2">DOS-LOGO Support</th>
    <th colspan="4">Input</th>
    <th colspan="3">Output</th>
</tr>
<tr>
    <th colspan="2">Subservice</th>
    <th>Name</th>
    <th>Description</th>
    <th>Register</th>
    <th>Value</th>
    <th>Description</th>
</tr>
<tr align="left">
    <td rowspan="9" align="center">AX=4A32h</td>
    <td rowspan="9" align="center">BL</td>
    <td rowspan="3" align="center">00h</td>
    <td rowspan="3">DOS-LOGO Is Session &amp; Get Logo Checksum</td>
    <td rowspan="3">Check to see if the boot logo is active. Since the boot logo is 
        invisible to programs and device drivers, this is the real way of knowing if the 
        boot logo has been activated.<br/>
        The checksum is used internally by the operating system to see if the logo pixel 
        data has been untouched.</td>
    <td rowspan="2" align="center">AX</td>
    <td align="center">0000h</td>
    <td>Logo is in session (turned on).</td>
</tr>
<tr align="left">
    <td align="center">FFFFh</td>
    <td>Logo is not in session (turned off).</td>
</tr>
<tr align="left">
    <td align="center">DX</td>
    <td align="center">****</td>
    <td>Checksum of the logo's pixels in video ram (A000h:8000h) from when it was first drawn. Compare this checksum against the current video ram's checksum to see if the logo can be put back into session once more.</td>
</tr>
<tr align="left">
    <td align="center">01h</td>
    <td>DOS-LOGO Resume Session</td>
    <td>DOS-LOGO allows the operating system and device drivers to have priority access 
        to the interrupt table when the boot logo is in session. After the DOS-LOGO 
        session has been paused, use this subservice to resume it.<br/>
        <br/>
        Note: A paused DOS-LOGO session cannot restore the video mode.</td>
    <td colspan="3" align="center">N/A</td>
</tr>
<tr align="left">
    <td align="center">02h</td>
    <td>DOS-LOGO Pause Session</td>
    <td>The operating system or other device drivers might want the priority to the 
        interrupt table when the boot logo is in session. Pausing the boot logo will not 
        change the video mode, but will allow access to unmodified DOS-LOGO resources. 
        Use subservice 01h (DOS-LOGO ResumeSession) to actiavate the boot logo after it 
        has been paused.</td>
    <td colspan="3" align="center">N/A</td>
</tr>
<tr align="left">
    <td align="center">03h</td>
    <td>DOS-LOGO Restore Previous Video Mode</td>
    <td>A DOS-LOGO session will automatically restore the previous video mode and its 
        text if the user presses the keyboard key Escape, or if the current running 
        program requests user input.<br/>
        But in order for a program or device driver to restore the video mode in other 
        ways, calling this subservice is the correct way to do it.<br/>
        <br/>
        Note: Changing video mode from a program/device driver during a DOS-LOGO session 
        will not restore the previous video mode and its text.</td>
    <td colspan="3" align="center">N/A</td>
</tr>
<tr align="left">
    <td align="center">04h</td>
    <td>DOS-LOGO Turn On Session</td>
    <td>The operating system calls this subservice to start the DOS-LOGO session, 
        meaning that the boot logo will be animated and can be aborted by the user 
        pressing the keyboard key Escape. The return value is the previous animation 
        rotation info from when the boot logo was last in session.<br/>
        <br/>
        Note: This subservice is used in complex redisplay boot logo operations by the 
        operating system. It is only supported for backward compatibility.<br/>
        Use subservice 06h (DOS-LOGO Redisplay and Enter Session).</td>
    <td align="center">AX</td>
    <td align="center">****</td>
    <td>The animation rotation info from the previous session.</td>
</tr>
<tr align="left">
    <td align="center">05h</td>
    <td>DOS-LOGO Turn Off Session</td>
    <td>Turns off the DOS-LOGO session.</td>
    <td colspan="3" align="center">N/A</td>
</tr>
<tr align="left">
    <td align="center">06h</td>
    <td>DOS-LOGO Redisplay and Enter Session</td>
    <td>This subservice is new for the DOS-LOGO device driver. It does the hard work of 
        redisplaying the boot logo once it has been aborted by a program or by the user. 
        In order for a boot logo to be redisplayed, the video ram must have been 
        untouched since the last time the boot logo was displayed. A graphics mode 
        switch without the 7th bit turned on will cause the video buffer to be erased, 
        thus destroying the logo&#39;s loaded pixel art.<br/>
        <br/>
        DOS-LOGO Redisplay and Enter Session does all of the work from the subservices 
        above. Therefore use this subservice in first hand. When it comes to 
        redisplaying the boot logo, the above subservices are left for backward 
        compatibility only.</td>
    <td colspan="3" align="center">N/A</td>
</tr>
    </table>
    All versions of MS-DOS version 7 and above, as well as DOS-LOGO allow calls to the boot logo support services 4A32h. But internally 16F1h is used by MS-DOS version 7.0, and 160Eh is used by MS-DOS version 7.10 and 8.0. The DOS-LOGO device driver allows these multiplex services for backward compatibility but strongly suggest the use of DOS Multiplex Service 4Ah instead of Win386 Multiplex Service 16h.<br/><br/>
<table border="1" cellpadding="2" cellspacing="0" bgcolor="Transparent" class="style2" align="center">
<caption class="style2">Use this syntax to install the DOS-LOGO device driver into Config.sys:</caption>
<tr align="left">
<td bgcolor="MediumBlue" class="style7">DEVICE=[d:][path]DOS-LOGO.SYS</td></tr>
</table>
By installing the DOS-LOGO device driver at the very top of Config.sys, the boot logo will be displayed for a longer time. As soon as the device drivers have been loaded and ran from Config.sys, the command prompt will close the boot logo once input from the user is requested.
<p class="style4">
<br/><br/>
            DOS-LOGO and FreeDOS<br/></p>
    <p align="center" class="style2">
        The function ConInpFlush in the source file console.asm of the FreeDOS Kernel is 
        calling interrupt 16h all the time.<br/>
        <br/>
        I don&#39;t know for what purpose. I don&#39;t know what benefit this action has on 
        FreeDOS compared to MS-DOS in general. But calling interrupt 16h will destroy 
        the logo. Interrupt 16h is used when keyboard responses are needed from the 
        user. After a very short period after a call to interrupt 16h service 01h, the 
        logo will go back to textmode. This allows the user to be prompted for input. 
        But when a user knows the input beforehand, pressing that key within the period 
        will not destroy the logo. FreeDOS kernel is however using the keystroke check 
        indefinetly, which is sad because the logo will not stand a chance of be shown at all.<br/>
        <br/>
        If the kernel allows a key to be pressed at anytime, it can hook up to interrupt 
        15h service 4Fh (Keyboard Intercept) to search for keystrokes, and also remove 
        them from ever reaching interrupt 9h.<br/>
        <br/>
        For a program to use Interrupt 16h service 01h to search for keystrokes is okay. 
        But for a kernel?
        
        If any of you find a solution, or know what ConInpFlush does, please contact me: ola]o[logotypes.se<br/>
        so that a fix can be made that benefit both the DOS-LOGO project and FreeDOS 
        Kernel!</p>
    
    &nbsp;<p class="style4">
<br/><br/>
            DOS-LOGO Downloads<br/></p>
            <center>
<br/><br/>
            <a href="downloads/DOS-LOGO_v1_0.zip"><span class="style9">Download DOS-LOGO.SYS Device Driver Version 1.0</span></a><br/>
            <a href="downloads/DOS-LOGO_v1_0src.zip">Download DOS-LOGO.ASM Source 1.0</a>(LGPL)<br/>
                <i>Note: The DOS-LOGO device driver works with all compatible DOS versions. Even together with the original logo.sys! However, it is currently not compatible with FreeDOS Kernel.<br/>
                The source code is formated in <span class="style11">Visual Studio IDE</span>. Viewing the source in other 
                editors require <span class="style11">tabsize 4</span> for best formatting.</i>
            <br/><br/>
<br/><br/>
<br/><br/>
                <b>Download original boot logotypes:</b><br/>
            <a href="downloads/dos.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_dos.gif"></a>
            <a href="downloads/dos6.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_dos6.gif"></a>
            <a href="downloads/dos622.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_dos622.gif"></a>
            <a href="downloads/dos7.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_dos7.gif"></a>
            <a href="downloads/95rc1.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_95rc1.gif"></a>
            <a href="downloads/95.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_95.gif"></a>
            <a href="downloads/95plus.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_95plus.gif"></a>
            <a href="downloads/dos710.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_dos710.gif"></a>
            <a href="downloads/95osr2.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_95osr2.gif"></a>
            <a href="downloads/98dr.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_98dr.gif"></a>
            <a href="downloads/98b1.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_98b1.gif"></a>
            <a href="downloads/98b2.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_98b2.gif"></a>
            <a href="downloads/98b3.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_98b3.gif"></a>
            <a href="downloads/98rc0.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_98rc0.gif"></a>
            <a href="downloads/98.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_98.gif"></a>
            <a href="downloads/98plus.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_98plus.gif"></a>
            <a href="downloads/98se.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_98se.gif"></a>
            <a href="downloads/medr.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_medr.gif"></a>
            <a href="downloads/meb1.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_meb1.gif"></a>
            <a href="downloads/meb3.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_meb3.gif"></a>
            <a href="downloads/me.zip"><img src="/web/20080607223336im_/http://logosys.logotypes.se:80/nail_me.gif"></a>
            </center>
            <br/>
            <br/>
            <br/>
            MS-DOS®, Windows® and the Windows logo are registered trademarks of Microsoft Corporation.<br/>Copyright © 2007-2008 logosys.logotypes.se.
<!-- Loopia Counter Beginning -->
<img src="https://web.archive.org/web/20080607223336im_/http://counter.loopia.se/stats_img.php?domain=logosys.logotypes.se_logosys_visitors" alt="" width="1" height="1" border="0"/>
<!-- Loopia Counter End --> 
<br/>
        </body>
</html>
